(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function A_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function I_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var yf={exports:{}},Uo={},wf={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=Symbol.for("react.element"),M_=Symbol.for("react.portal"),R_=Symbol.for("react.fragment"),z_=Symbol.for("react.strict_mode"),D_=Symbol.for("react.profiler"),B_=Symbol.for("react.provider"),$_=Symbol.for("react.context"),U_=Symbol.for("react.forward_ref"),F_=Symbol.for("react.suspense"),Z_=Symbol.for("react.memo"),W_=Symbol.for("react.lazy"),Wh=Symbol.iterator;function H_(t){return t===null||typeof t!="object"?null:(t=Wh&&t[Wh]||t["@@iterator"],typeof t=="function"?t:null)}var xf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kf=Object.assign,Sf={};function Ji(t,e,n){this.props=t,this.context=e,this.refs=Sf,this.updater=n||xf}Ji.prototype.isReactComponent={};Ji.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ji.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pf(){}Pf.prototype=Ji.prototype;function Nu(t,e,n){this.props=t,this.context=e,this.refs=Sf,this.updater=n||xf}var Au=Nu.prototype=new Pf;Au.constructor=Nu;kf(Au,Ji.prototype);Au.isPureReactComponent=!0;var Hh=Array.isArray,bf=Object.prototype.hasOwnProperty,Iu={current:null},Tf={key:!0,ref:!0,__self:!0,__source:!0};function Ef(t,e,n){var r,o={},a=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(a=""+e.key),e)bf.call(e,r)&&!Tf.hasOwnProperty(r)&&(o[r]=e[r]);var h=arguments.length-2;if(h===1)o.children=n;else if(1<h){for(var d=Array(h),p=0;p<h;p++)d[p]=arguments[p+2];o.children=d}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)o[r]===void 0&&(o[r]=h[r]);return{$$typeof:os,type:t,key:a,ref:u,props:o,_owner:Iu.current}}function V_(t,e){return{$$typeof:os,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Mu(t){return typeof t=="object"&&t!==null&&t.$$typeof===os}function q_(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Vh=/\/+/g;function Va(t,e){return typeof t=="object"&&t!==null&&t.key!=null?q_(""+t.key):e.toString(36)}function no(t,e,n,r,o){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case os:case M_:u=!0}}if(u)return u=t,o=o(u),t=r===""?"."+Va(u,0):r,Hh(o)?(n="",t!=null&&(n=t.replace(Vh,"$&/")+"/"),no(o,e,n,"",function(p){return p})):o!=null&&(Mu(o)&&(o=V_(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(Vh,"$&/")+"/")+t)),e.push(o)),1;if(u=0,r=r===""?".":r+":",Hh(t))for(var h=0;h<t.length;h++){a=t[h];var d=r+Va(a,h);u+=no(a,e,n,d,o)}else if(d=H_(t),typeof d=="function")for(t=d.call(t),h=0;!(a=t.next()).done;)a=a.value,d=r+Va(a,h++),u+=no(a,e,n,d,o);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function Is(t,e,n){if(t==null)return t;var r=[],o=0;return no(t,r,"","",function(a){return e.call(n,a,o++)}),r}function K_(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ge={current:null},io={transition:null},G_={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:io,ReactCurrentOwner:Iu};function Cf(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Is,forEach:function(t,e,n){Is(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Is(t,function(){e++}),e},toArray:function(t){return Is(t,function(e){return e})||[]},only:function(t){if(!Mu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=Ji;te.Fragment=R_;te.Profiler=D_;te.PureComponent=Nu;te.StrictMode=z_;te.Suspense=F_;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G_;te.act=Cf;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=kf({},t.props),o=t.key,a=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,u=Iu.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(d in e)bf.call(e,d)&&!Tf.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&h!==void 0?h[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){h=Array(d);for(var p=0;p<d;p++)h[p]=arguments[p+2];r.children=h}return{$$typeof:os,type:t.type,key:o,ref:a,props:r,_owner:u}};te.createContext=function(t){return t={$$typeof:$_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:B_,_context:t},t.Consumer=t};te.createElement=Ef;te.createFactory=function(t){var e=Ef.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:U_,render:t}};te.isValidElement=Mu;te.lazy=function(t){return{$$typeof:W_,_payload:{_status:-1,_result:t},_init:K_}};te.memo=function(t,e){return{$$typeof:Z_,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=io.transition;io.transition={};try{t()}finally{io.transition=e}};te.unstable_act=Cf;te.useCallback=function(t,e){return Ge.current.useCallback(t,e)};te.useContext=function(t){return Ge.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return Ge.current.useDeferredValue(t)};te.useEffect=function(t,e){return Ge.current.useEffect(t,e)};te.useId=function(){return Ge.current.useId()};te.useImperativeHandle=function(t,e,n){return Ge.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return Ge.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return Ge.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return Ge.current.useMemo(t,e)};te.useReducer=function(t,e,n){return Ge.current.useReducer(t,e,n)};te.useRef=function(t){return Ge.current.useRef(t)};te.useState=function(t){return Ge.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return Ge.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return Ge.current.useTransition()};te.version="18.3.1";wf.exports=te;var B=wf.exports;const Tl=A_(B);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_=B,Q_=Symbol.for("react.element"),Y_=Symbol.for("react.fragment"),X_=Object.prototype.hasOwnProperty,ev=J_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tv={key:!0,ref:!0,__self:!0,__source:!0};function Lf(t,e,n){var r,o={},a=null,u=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)X_.call(e,r)&&!tv.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:Q_,type:t,key:a,ref:u,props:o,_owner:ev.current}}Uo.Fragment=Y_;Uo.jsx=Lf;Uo.jsxs=Lf;yf.exports=Uo;var _=yf.exports,Of={exports:{}},ht={},jf={exports:{}},Nf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,V){var j=N.length;N.push(V);e:for(;0<j;){var Z=j-1>>>1,K=N[Z];if(0<o(K,V))N[Z]=V,N[j]=K,j=Z;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var V=N[0],j=N.pop();if(j!==V){N[0]=j;e:for(var Z=0,K=N.length,ce=K>>>1;Z<ce;){var se=2*(Z+1)-1,ne=N[se],q=se+1,Le=N[q];if(0>o(ne,j))q<K&&0>o(Le,ne)?(N[Z]=Le,N[q]=j,Z=q):(N[Z]=ne,N[se]=j,Z=se);else if(q<K&&0>o(Le,j))N[Z]=Le,N[q]=j,Z=q;else break e}}return V}function o(N,V){var j=N.sortIndex-V.sortIndex;return j!==0?j:N.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],g=1,v=null,w=3,P=!1,E=!1,C=!1,z=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var V=n(p);V!==null;){if(V.callback===null)r(p);else if(V.startTime<=N)r(p),V.sortIndex=V.expirationTime,e(d,V);else break;V=n(p)}}function b(N){if(C=!1,x(N),!E)if(n(d)!==null)E=!0,Ce(M);else{var V=n(p);V!==null&&ft(b,V.startTime-N)}}function M(N,V){E=!1,C&&(C=!1,S(U),U=-1),P=!0;var j=w;try{for(x(V),v=n(d);v!==null&&(!(v.expirationTime>V)||N&&!ue());){var Z=v.callback;if(typeof Z=="function"){v.callback=null,w=v.priorityLevel;var K=Z(v.expirationTime<=V);V=t.unstable_now(),typeof K=="function"?v.callback=K:v===n(d)&&r(d),x(V)}else r(d);v=n(d)}if(v!==null)var ce=!0;else{var se=n(p);se!==null&&ft(b,se.startTime-V),ce=!1}return ce}finally{v=null,w=j,P=!1}}var I=!1,D=null,U=-1,le=5,Q=-1;function ue(){return!(t.unstable_now()-Q<le)}function ke(){if(D!==null){var N=t.unstable_now();Q=N;var V=!0;try{V=D(!0,N)}finally{V?Vt():(I=!1,D=null)}}else I=!1}var Vt;if(typeof y=="function")Vt=function(){y(ke)};else if(typeof MessageChannel<"u"){var Qe=new MessageChannel,tr=Qe.port2;Qe.port1.onmessage=ke,Vt=function(){tr.postMessage(null)}}else Vt=function(){z(ke,0)};function Ce(N){D=N,I||(I=!0,Vt())}function ft(N,V){U=z(function(){N(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){E||P||(E=!0,Ce(M))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(N){switch(w){case 1:case 2:case 3:var V=3;break;default:V=w}var j=w;w=V;try{return N()}finally{w=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var j=w;w=N;try{return V()}finally{w=j}},t.unstable_scheduleCallback=function(N,V,j){var Z=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Z+j:Z):j=Z,N){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=j+K,N={id:g++,callback:V,priorityLevel:N,startTime:j,expirationTime:K,sortIndex:-1},j>Z?(N.sortIndex=j,e(p,N),n(d)===null&&N===n(p)&&(C?(S(U),U=-1):C=!0,ft(b,j-Z))):(N.sortIndex=K,e(d,N),E||P||(E=!0,Ce(M))),N},t.unstable_shouldYield=ue,t.unstable_wrapCallback=function(N){var V=w;return function(){var j=w;w=V;try{return N.apply(this,arguments)}finally{w=j}}}})(Nf);jf.exports=Nf;var nv=jf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv=B,ct=nv;function R(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Af=new Set,Fr={};function ii(t,e){Fi(t,e),Fi(t+"Capture",e)}function Fi(t,e){for(Fr[t]=e,t=0;t<e.length;t++)Af.add(e[t])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),El=Object.prototype.hasOwnProperty,rv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qh={},Kh={};function sv(t){return El.call(Kh,t)?!0:El.call(qh,t)?!1:rv.test(t)?Kh[t]=!0:(qh[t]=!0,!1)}function ov(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function av(t,e,n,r){if(e===null||typeof e>"u"||ov(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Je(t,e,n,r,o,a,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=u}var $e={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$e[t]=new Je(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$e[e]=new Je(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$e[t]=new Je(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$e[t]=new Je(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$e[t]=new Je(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$e[t]=new Je(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$e[t]=new Je(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$e[t]=new Je(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$e[t]=new Je(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ru=/[\-:]([a-z])/g;function zu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ru,zu);$e[e]=new Je(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ru,zu);$e[e]=new Je(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ru,zu);$e[e]=new Je(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$e[t]=new Je(t,1,!1,t.toLowerCase(),null,!1,!1)});$e.xlinkHref=new Je("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$e[t]=new Je(t,1,!1,t.toLowerCase(),null,!0,!0)});function Du(t,e,n,r){var o=$e.hasOwnProperty(e)?$e[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(av(e,n,o,r)&&(n=null),r||o===null?sv(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var un=iv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ms=Symbol.for("react.element"),Si=Symbol.for("react.portal"),Pi=Symbol.for("react.fragment"),Bu=Symbol.for("react.strict_mode"),Cl=Symbol.for("react.profiler"),If=Symbol.for("react.provider"),Mf=Symbol.for("react.context"),$u=Symbol.for("react.forward_ref"),Ll=Symbol.for("react.suspense"),Ol=Symbol.for("react.suspense_list"),Uu=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),Rf=Symbol.for("react.offscreen"),Gh=Symbol.iterator;function gr(t){return t===null||typeof t!="object"?null:(t=Gh&&t[Gh]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,qa;function br(t){if(qa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qa=e&&e[1]||""}return`
`+qa+t}var Ka=!1;function Ga(t,e){if(!t||Ka)return"";Ka=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var r=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){r=p}t.call(e.prototype)}else{try{throw Error()}catch(p){r=p}t()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),a=r.stack.split(`
`),u=o.length-1,h=a.length-1;1<=u&&0<=h&&o[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(o[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||o[u]!==a[h]){var d=`
`+o[u].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=u&&0<=h);break}}}finally{Ka=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?br(t):""}function lv(t){switch(t.tag){case 5:return br(t.type);case 16:return br("Lazy");case 13:return br("Suspense");case 19:return br("SuspenseList");case 0:case 2:case 15:return t=Ga(t.type,!1),t;case 11:return t=Ga(t.type.render,!1),t;case 1:return t=Ga(t.type,!0),t;default:return""}}function jl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pi:return"Fragment";case Si:return"Portal";case Cl:return"Profiler";case Bu:return"StrictMode";case Ll:return"Suspense";case Ol:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Mf:return(t.displayName||"Context")+".Consumer";case If:return(t._context.displayName||"Context")+".Provider";case $u:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Uu:return e=t.displayName||null,e!==null?e:jl(t.type)||"Memo";case mn:e=t._payload,t=t._init;try{return jl(t(e))}catch{}}return null}function uv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jl(e);case 8:return e===Bu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function On(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function cv(t){var e=zf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rs(t){t._valueTracker||(t._valueTracker=cv(t))}function Df(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function mo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Nl(t,e){var n=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=On(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bf(t,e){e=e.checked,e!=null&&Du(t,"checked",e,!1)}function Al(t,e){Bf(t,e);var n=On(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Il(t,e.type,n):e.hasOwnProperty("defaultValue")&&Il(t,e.type,On(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Il(t,e,n){(e!=="number"||mo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Tr=Array.isArray;function Mi(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+On(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Ml(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(R(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(R(92));if(Tr(n)){if(1<n.length)throw Error(R(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:On(n)}}function $f(t,e){var n=On(e.value),r=On(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Uf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Uf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zs,Ff=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zs=zs||document.createElement("div"),zs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hv=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(t){hv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Or[e]=Or[t]})});function Zf(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Or.hasOwnProperty(t)&&Or[t]?(""+e).trim():e+"px"}function Wf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Zf(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var dv=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zl(t,e){if(e){if(dv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(R(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(R(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(R(61))}if(e.style!=null&&typeof e.style!="object")throw Error(R(62))}}function Dl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bl=null;function Fu(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $l=null,Ri=null,zi=null;function ed(t){if(t=us(t)){if(typeof $l!="function")throw Error(R(280));var e=t.stateNode;e&&(e=Vo(e),$l(t.stateNode,t.type,e))}}function Hf(t){Ri?zi?zi.push(t):zi=[t]:Ri=t}function Vf(){if(Ri){var t=Ri,e=zi;if(zi=Ri=null,ed(t),e)for(t=0;t<e.length;t++)ed(e[t])}}function qf(t,e){return t(e)}function Kf(){}var Ja=!1;function Gf(t,e,n){if(Ja)return t(e,n);Ja=!0;try{return qf(t,e,n)}finally{Ja=!1,(Ri!==null||zi!==null)&&(Kf(),Vf())}}function Wr(t,e){var n=t.stateNode;if(n===null)return null;var r=Vo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(R(231,e,typeof n));return n}var Ul=!1;if(sn)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){Ul=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{Ul=!1}function fv(t,e,n,r,o,a,u,h,d){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(g){this.onError(g)}}var jr=!1,go=null,_o=!1,Fl=null,pv={onError:function(t){jr=!0,go=t}};function mv(t,e,n,r,o,a,u,h,d){jr=!1,go=null,fv.apply(pv,arguments)}function gv(t,e,n,r,o,a,u,h,d){if(mv.apply(this,arguments),jr){if(jr){var p=go;jr=!1,go=null}else throw Error(R(198));_o||(_o=!0,Fl=p)}}function ri(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Jf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function td(t){if(ri(t)!==t)throw Error(R(188))}function _v(t){var e=t.alternate;if(!e){if(e=ri(t),e===null)throw Error(R(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return td(o),t;if(a===r)return td(o),e;a=a.sibling}throw Error(R(188))}if(n.return!==r.return)n=o,r=a;else{for(var u=!1,h=o.child;h;){if(h===n){u=!0,n=o,r=a;break}if(h===r){u=!0,r=o,n=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===n){u=!0,n=a,r=o;break}if(h===r){u=!0,r=a,n=o;break}h=h.sibling}if(!u)throw Error(R(189))}}if(n.alternate!==r)throw Error(R(190))}if(n.tag!==3)throw Error(R(188));return n.stateNode.current===n?t:e}function Qf(t){return t=_v(t),t!==null?Yf(t):null}function Yf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Yf(t);if(e!==null)return e;t=t.sibling}return null}var Xf=ct.unstable_scheduleCallback,nd=ct.unstable_cancelCallback,vv=ct.unstable_shouldYield,yv=ct.unstable_requestPaint,Pe=ct.unstable_now,wv=ct.unstable_getCurrentPriorityLevel,Zu=ct.unstable_ImmediatePriority,ep=ct.unstable_UserBlockingPriority,vo=ct.unstable_NormalPriority,xv=ct.unstable_LowPriority,tp=ct.unstable_IdlePriority,Fo=null,Wt=null;function kv(t){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Fo,t,void 0,(t.current.flags&128)===128)}catch{}}var At=Math.clz32?Math.clz32:bv,Sv=Math.log,Pv=Math.LN2;function bv(t){return t>>>=0,t===0?32:31-(Sv(t)/Pv|0)|0}var Ds=64,Bs=4194304;function Er(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yo(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,a=t.pingedLanes,u=n&268435455;if(u!==0){var h=u&~o;h!==0?r=Er(h):(a&=u,a!==0&&(r=Er(a)))}else u=n&~o,u!==0?r=Er(u):a!==0&&(r=Er(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,a=e&-e,o>=a||o===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-At(e),o=1<<n,r|=t[n],e&=~o;return r}function Tv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ev(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-At(a),h=1<<u,d=o[u];d===-1?(!(h&n)||h&r)&&(o[u]=Tv(h,e)):d<=e&&(t.expiredLanes|=h),a&=~h}}function Zl(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function np(){var t=Ds;return Ds<<=1,!(Ds&4194240)&&(Ds=64),t}function Qa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function as(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-At(e),t[e]=n}function Cv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-At(n),a=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~a}}function Wu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-At(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var ae=0;function ip(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rp,Hu,sp,op,ap,Wl=!1,$s=[],kn=null,Sn=null,Pn=null,Hr=new Map,Vr=new Map,_n=[],Lv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function id(t,e){switch(t){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Hr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(e.pointerId)}}function vr(t,e,n,r,o,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},e!==null&&(e=us(e),e!==null&&Hu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function Ov(t,e,n,r,o){switch(e){case"focusin":return kn=vr(kn,t,e,n,r,o),!0;case"dragenter":return Sn=vr(Sn,t,e,n,r,o),!0;case"mouseover":return Pn=vr(Pn,t,e,n,r,o),!0;case"pointerover":var a=o.pointerId;return Hr.set(a,vr(Hr.get(a)||null,t,e,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Vr.set(a,vr(Vr.get(a)||null,t,e,n,r,o)),!0}return!1}function lp(t){var e=qn(t.target);if(e!==null){var n=ri(e);if(n!==null){if(e=n.tag,e===13){if(e=Jf(n),e!==null){t.blockedOn=e,ap(t.priority,function(){sp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ro(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Hl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bl=r,n.target.dispatchEvent(r),Bl=null}else return e=us(n),e!==null&&Hu(e),t.blockedOn=n,!1;e.shift()}return!0}function rd(t,e,n){ro(t)&&n.delete(e)}function jv(){Wl=!1,kn!==null&&ro(kn)&&(kn=null),Sn!==null&&ro(Sn)&&(Sn=null),Pn!==null&&ro(Pn)&&(Pn=null),Hr.forEach(rd),Vr.forEach(rd)}function yr(t,e){t.blockedOn===e&&(t.blockedOn=null,Wl||(Wl=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,jv)))}function qr(t){function e(o){return yr(o,t)}if(0<$s.length){yr($s[0],t);for(var n=1;n<$s.length;n++){var r=$s[n];r.blockedOn===t&&(r.blockedOn=null)}}for(kn!==null&&yr(kn,t),Sn!==null&&yr(Sn,t),Pn!==null&&yr(Pn,t),Hr.forEach(e),Vr.forEach(e),n=0;n<_n.length;n++)r=_n[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_n.length&&(n=_n[0],n.blockedOn===null);)lp(n),n.blockedOn===null&&_n.shift()}var Di=un.ReactCurrentBatchConfig,wo=!0;function Nv(t,e,n,r){var o=ae,a=Di.transition;Di.transition=null;try{ae=1,Vu(t,e,n,r)}finally{ae=o,Di.transition=a}}function Av(t,e,n,r){var o=ae,a=Di.transition;Di.transition=null;try{ae=4,Vu(t,e,n,r)}finally{ae=o,Di.transition=a}}function Vu(t,e,n,r){if(wo){var o=Hl(t,e,n,r);if(o===null)al(t,e,r,xo,n),id(t,r);else if(Ov(o,t,e,n,r))r.stopPropagation();else if(id(t,r),e&4&&-1<Lv.indexOf(t)){for(;o!==null;){var a=us(o);if(a!==null&&rp(a),a=Hl(t,e,n,r),a===null&&al(t,e,r,xo,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else al(t,e,r,null,n)}}var xo=null;function Hl(t,e,n,r){if(xo=null,t=Fu(r),t=qn(t),t!==null)if(e=ri(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Jf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xo=t,null}function up(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wv()){case Zu:return 1;case ep:return 4;case vo:case xv:return 16;case tp:return 536870912;default:return 16}default:return 16}}var wn=null,qu=null,so=null;function cp(){if(so)return so;var t,e=qu,n=e.length,r,o="value"in wn?wn.value:wn.textContent,a=o.length;for(t=0;t<n&&e[t]===o[t];t++);var u=n-t;for(r=1;r<=u&&e[n-r]===o[a-r];r++);return so=o.slice(t,1<r?1-r:void 0)}function oo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Us(){return!0}function sd(){return!1}function dt(t){function e(n,r,o,a,u){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Us:sd,this.isPropagationStopped=sd,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Us)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Us)},persist:function(){},isPersistent:Us}),e}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ku=dt(Qi),ls=we({},Qi,{view:0,detail:0}),Iv=dt(ls),Ya,Xa,wr,Zo=we({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wr&&(wr&&t.type==="mousemove"?(Ya=t.screenX-wr.screenX,Xa=t.screenY-wr.screenY):Xa=Ya=0,wr=t),Ya)},movementY:function(t){return"movementY"in t?t.movementY:Xa}}),od=dt(Zo),Mv=we({},Zo,{dataTransfer:0}),Rv=dt(Mv),zv=we({},ls,{relatedTarget:0}),el=dt(zv),Dv=we({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Bv=dt(Dv),$v=we({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Uv=dt($v),Fv=we({},Qi,{data:0}),ad=dt(Fv),Zv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Hv[t])?!!e[t]:!1}function Gu(){return Vv}var qv=we({},ls,{key:function(t){if(t.key){var e=Zv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=oo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Wv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gu,charCode:function(t){return t.type==="keypress"?oo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Kv=dt(qv),Gv=we({},Zo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ld=dt(Gv),Jv=we({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gu}),Qv=dt(Jv),Yv=we({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xv=dt(Yv),ey=we({},Zo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ty=dt(ey),ny=[9,13,27,32],Ju=sn&&"CompositionEvent"in window,Nr=null;sn&&"documentMode"in document&&(Nr=document.documentMode);var iy=sn&&"TextEvent"in window&&!Nr,hp=sn&&(!Ju||Nr&&8<Nr&&11>=Nr),ud=" ",cd=!1;function dp(t,e){switch(t){case"keyup":return ny.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bi=!1;function ry(t,e){switch(t){case"compositionend":return fp(e);case"keypress":return e.which!==32?null:(cd=!0,ud);case"textInput":return t=e.data,t===ud&&cd?null:t;default:return null}}function sy(t,e){if(bi)return t==="compositionend"||!Ju&&dp(t,e)?(t=cp(),so=qu=wn=null,bi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hp&&e.locale!=="ko"?null:e.data;default:return null}}var oy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oy[t.type]:e==="textarea"}function pp(t,e,n,r){Hf(r),e=ko(e,"onChange"),0<e.length&&(n=new Ku("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ar=null,Kr=null;function ay(t){bp(t,0)}function Wo(t){var e=Ci(t);if(Df(e))return t}function ly(t,e){if(t==="change")return e}var mp=!1;if(sn){var tl;if(sn){var nl="oninput"in document;if(!nl){var dd=document.createElement("div");dd.setAttribute("oninput","return;"),nl=typeof dd.oninput=="function"}tl=nl}else tl=!1;mp=tl&&(!document.documentMode||9<document.documentMode)}function fd(){Ar&&(Ar.detachEvent("onpropertychange",gp),Kr=Ar=null)}function gp(t){if(t.propertyName==="value"&&Wo(Kr)){var e=[];pp(e,Kr,t,Fu(t)),Gf(ay,e)}}function uy(t,e,n){t==="focusin"?(fd(),Ar=e,Kr=n,Ar.attachEvent("onpropertychange",gp)):t==="focusout"&&fd()}function cy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wo(Kr)}function hy(t,e){if(t==="click")return Wo(e)}function dy(t,e){if(t==="input"||t==="change")return Wo(e)}function fy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mt=typeof Object.is=="function"?Object.is:fy;function Gr(t,e){if(Mt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!El.call(e,o)||!Mt(t[o],e[o]))return!1}return!0}function pd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function md(t,e){var n=pd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pd(n)}}function _p(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_p(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vp(){for(var t=window,e=mo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=mo(t.document)}return e}function Qu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function py(t){var e=vp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_p(n.ownerDocument.documentElement,n)){if(r!==null&&Qu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!t.extend&&a>r&&(o=r,r=a,a=o),o=md(n,a);var u=md(n,r);o&&u&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var my=sn&&"documentMode"in document&&11>=document.documentMode,Ti=null,Vl=null,Ir=null,ql=!1;function gd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ql||Ti==null||Ti!==mo(r)||(r=Ti,"selectionStart"in r&&Qu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ir&&Gr(Ir,r)||(Ir=r,r=ko(Vl,"onSelect"),0<r.length&&(e=new Ku("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ti)))}function Fs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ei={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionend:Fs("Transition","TransitionEnd")},il={},yp={};sn&&(yp=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function Ho(t){if(il[t])return il[t];if(!Ei[t])return t;var e=Ei[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yp)return il[t]=e[n];return t}var wp=Ho("animationend"),xp=Ho("animationiteration"),kp=Ho("animationstart"),Sp=Ho("transitionend"),Pp=new Map,_d="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(t,e){Pp.set(t,e),ii(e,[t])}for(var rl=0;rl<_d.length;rl++){var sl=_d[rl],gy=sl.toLowerCase(),_y=sl[0].toUpperCase()+sl.slice(1);Nn(gy,"on"+_y)}Nn(wp,"onAnimationEnd");Nn(xp,"onAnimationIteration");Nn(kp,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn(Sp,"onTransitionEnd");Fi("onMouseEnter",["mouseout","mouseover"]);Fi("onMouseLeave",["mouseout","mouseover"]);Fi("onPointerEnter",["pointerout","pointerover"]);Fi("onPointerLeave",["pointerout","pointerover"]);ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ii("onBeforeInput",["compositionend","keypress","textInput","paste"]);ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cr));function vd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gv(r,e,void 0,t),t.currentTarget=null}function bp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var u=r.length-1;0<=u;u--){var h=r[u],d=h.instance,p=h.currentTarget;if(h=h.listener,d!==a&&o.isPropagationStopped())break e;vd(o,h,p),a=d}else for(u=0;u<r.length;u++){if(h=r[u],d=h.instance,p=h.currentTarget,h=h.listener,d!==a&&o.isPropagationStopped())break e;vd(o,h,p),a=d}}}if(_o)throw t=Fl,_o=!1,Fl=null,t}function pe(t,e){var n=e[Yl];n===void 0&&(n=e[Yl]=new Set);var r=t+"__bubble";n.has(r)||(Tp(e,t,2,!1),n.add(r))}function ol(t,e,n){var r=0;e&&(r|=4),Tp(n,t,r,e)}var Zs="_reactListening"+Math.random().toString(36).slice(2);function Jr(t){if(!t[Zs]){t[Zs]=!0,Af.forEach(function(n){n!=="selectionchange"&&(vy.has(n)||ol(n,!1,t),ol(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Zs]||(e[Zs]=!0,ol("selectionchange",!1,e))}}function Tp(t,e,n,r){switch(up(e)){case 1:var o=Nv;break;case 4:o=Av;break;default:o=Vu}n=o.bind(null,e,n,t),o=void 0,!Ul||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function al(t,e,n,r,o){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var h=r.stateNode.containerInfo;if(h===o||h.nodeType===8&&h.parentNode===o)break;if(u===4)for(u=r.return;u!==null;){var d=u.tag;if((d===3||d===4)&&(d=u.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;u=u.return}for(;h!==null;){if(u=qn(h),u===null)return;if(d=u.tag,d===5||d===6){r=a=u;continue e}h=h.parentNode}}r=r.return}Gf(function(){var p=a,g=Fu(n),v=[];e:{var w=Pp.get(t);if(w!==void 0){var P=Ku,E=t;switch(t){case"keypress":if(oo(n)===0)break e;case"keydown":case"keyup":P=Kv;break;case"focusin":E="focus",P=el;break;case"focusout":E="blur",P=el;break;case"beforeblur":case"afterblur":P=el;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=Rv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Qv;break;case wp:case xp:case kp:P=Bv;break;case Sp:P=Xv;break;case"scroll":P=Iv;break;case"wheel":P=ty;break;case"copy":case"cut":case"paste":P=Uv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=ld}var C=(e&4)!==0,z=!C&&t==="scroll",S=C?w!==null?w+"Capture":null:w;C=[];for(var y=p,x;y!==null;){x=y;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,S!==null&&(b=Wr(y,S),b!=null&&C.push(Qr(y,b,x)))),z)break;y=y.return}0<C.length&&(w=new P(w,E,null,n,g),v.push({event:w,listeners:C}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",w&&n!==Bl&&(E=n.relatedTarget||n.fromElement)&&(qn(E)||E[on]))break e;if((P||w)&&(w=g.window===g?g:(w=g.ownerDocument)?w.defaultView||w.parentWindow:window,P?(E=n.relatedTarget||n.toElement,P=p,E=E?qn(E):null,E!==null&&(z=ri(E),E!==z||E.tag!==5&&E.tag!==6)&&(E=null)):(P=null,E=p),P!==E)){if(C=od,b="onMouseLeave",S="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(C=ld,b="onPointerLeave",S="onPointerEnter",y="pointer"),z=P==null?w:Ci(P),x=E==null?w:Ci(E),w=new C(b,y+"leave",P,n,g),w.target=z,w.relatedTarget=x,b=null,qn(g)===p&&(C=new C(S,y+"enter",E,n,g),C.target=x,C.relatedTarget=z,b=C),z=b,P&&E)t:{for(C=P,S=E,y=0,x=C;x;x=mi(x))y++;for(x=0,b=S;b;b=mi(b))x++;for(;0<y-x;)C=mi(C),y--;for(;0<x-y;)S=mi(S),x--;for(;y--;){if(C===S||S!==null&&C===S.alternate)break t;C=mi(C),S=mi(S)}C=null}else C=null;P!==null&&yd(v,w,P,C,!1),E!==null&&z!==null&&yd(v,z,E,C,!0)}}e:{if(w=p?Ci(p):window,P=w.nodeName&&w.nodeName.toLowerCase(),P==="select"||P==="input"&&w.type==="file")var M=ly;else if(hd(w))if(mp)M=dy;else{M=cy;var I=uy}else(P=w.nodeName)&&P.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(M=hy);if(M&&(M=M(t,p))){pp(v,M,n,g);break e}I&&I(t,w,p),t==="focusout"&&(I=w._wrapperState)&&I.controlled&&w.type==="number"&&Il(w,"number",w.value)}switch(I=p?Ci(p):window,t){case"focusin":(hd(I)||I.contentEditable==="true")&&(Ti=I,Vl=p,Ir=null);break;case"focusout":Ir=Vl=Ti=null;break;case"mousedown":ql=!0;break;case"contextmenu":case"mouseup":case"dragend":ql=!1,gd(v,n,g);break;case"selectionchange":if(my)break;case"keydown":case"keyup":gd(v,n,g)}var D;if(Ju)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else bi?dp(t,n)&&(U="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(U="onCompositionStart");U&&(hp&&n.locale!=="ko"&&(bi||U!=="onCompositionStart"?U==="onCompositionEnd"&&bi&&(D=cp()):(wn=g,qu="value"in wn?wn.value:wn.textContent,bi=!0)),I=ko(p,U),0<I.length&&(U=new ad(U,t,null,n,g),v.push({event:U,listeners:I}),D?U.data=D:(D=fp(n),D!==null&&(U.data=D)))),(D=iy?ry(t,n):sy(t,n))&&(p=ko(p,"onBeforeInput"),0<p.length&&(g=new ad("onBeforeInput","beforeinput",null,n,g),v.push({event:g,listeners:p}),g.data=D))}bp(v,e)})}function Qr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ko(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Wr(t,n),a!=null&&r.unshift(Qr(t,a,o)),a=Wr(t,e),a!=null&&r.push(Qr(t,a,o))),t=t.return}return r}function mi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yd(t,e,n,r,o){for(var a=e._reactName,u=[];n!==null&&n!==r;){var h=n,d=h.alternate,p=h.stateNode;if(d!==null&&d===r)break;h.tag===5&&p!==null&&(h=p,o?(d=Wr(n,a),d!=null&&u.unshift(Qr(n,d,h))):o||(d=Wr(n,a),d!=null&&u.push(Qr(n,d,h)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var yy=/\r\n?/g,wy=/\u0000|\uFFFD/g;function wd(t){return(typeof t=="string"?t:""+t).replace(yy,`
`).replace(wy,"")}function Ws(t,e,n){if(e=wd(e),wd(t)!==e&&n)throw Error(R(425))}function So(){}var Kl=null,Gl=null;function Jl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ql=typeof setTimeout=="function"?setTimeout:void 0,xy=typeof clearTimeout=="function"?clearTimeout:void 0,xd=typeof Promise=="function"?Promise:void 0,ky=typeof queueMicrotask=="function"?queueMicrotask:typeof xd<"u"?function(t){return xd.resolve(null).then(t).catch(Sy)}:Ql;function Sy(t){setTimeout(function(){throw t})}function ll(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),qr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);qr(e)}function bn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yi=Math.random().toString(36).slice(2),Zt="__reactFiber$"+Yi,Yr="__reactProps$"+Yi,on="__reactContainer$"+Yi,Yl="__reactEvents$"+Yi,Py="__reactListeners$"+Yi,by="__reactHandles$"+Yi;function qn(t){var e=t[Zt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[on]||n[Zt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kd(t);t!==null;){if(n=t[Zt])return n;t=kd(t)}return e}t=n,n=t.parentNode}return null}function us(t){return t=t[Zt]||t[on],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ci(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(R(33))}function Vo(t){return t[Yr]||null}var Xl=[],Li=-1;function An(t){return{current:t}}function me(t){0>Li||(t.current=Xl[Li],Xl[Li]=null,Li--)}function fe(t,e){Li++,Xl[Li]=t.current,t.current=e}var jn={},We=An(jn),nt=An(!1),Yn=jn;function Zi(t,e){var n=t.type.contextTypes;if(!n)return jn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function it(t){return t=t.childContextTypes,t!=null}function Po(){me(nt),me(We)}function Sd(t,e,n){if(We.current!==jn)throw Error(R(168));fe(We,e),fe(nt,n)}function Ep(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(R(108,uv(t)||"Unknown",o));return we({},n,r)}function bo(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jn,Yn=We.current,fe(We,t),fe(nt,nt.current),!0}function Pd(t,e,n){var r=t.stateNode;if(!r)throw Error(R(169));n?(t=Ep(t,e,Yn),r.__reactInternalMemoizedMergedChildContext=t,me(nt),me(We),fe(We,t)):me(nt),fe(nt,n)}var en=null,qo=!1,ul=!1;function Cp(t){en===null?en=[t]:en.push(t)}function Ty(t){qo=!0,Cp(t)}function In(){if(!ul&&en!==null){ul=!0;var t=0,e=ae;try{var n=en;for(ae=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}en=null,qo=!1}catch(o){throw en!==null&&(en=en.slice(t+1)),Xf(Zu,In),o}finally{ae=e,ul=!1}}return null}var Oi=[],ji=0,To=null,Eo=0,_t=[],vt=0,Xn=null,tn=1,nn="";function Zn(t,e){Oi[ji++]=Eo,Oi[ji++]=To,To=t,Eo=e}function Lp(t,e,n){_t[vt++]=tn,_t[vt++]=nn,_t[vt++]=Xn,Xn=t;var r=tn;t=nn;var o=32-At(r)-1;r&=~(1<<o),n+=1;var a=32-At(e)+o;if(30<a){var u=o-o%5;a=(r&(1<<u)-1).toString(32),r>>=u,o-=u,tn=1<<32-At(e)+o|n<<o|r,nn=a+t}else tn=1<<a|n<<o|r,nn=t}function Yu(t){t.return!==null&&(Zn(t,1),Lp(t,1,0))}function Xu(t){for(;t===To;)To=Oi[--ji],Oi[ji]=null,Eo=Oi[--ji],Oi[ji]=null;for(;t===Xn;)Xn=_t[--vt],_t[vt]=null,nn=_t[--vt],_t[vt]=null,tn=_t[--vt],_t[vt]=null}var lt=null,at=null,ge=!1,Nt=null;function Op(t,e){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,lt=t,at=bn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,lt=t,at=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Xn!==null?{id:tn,overflow:nn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,lt=t,at=null,!0):!1;default:return!1}}function eu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function tu(t){if(ge){var e=at;if(e){var n=e;if(!bd(t,e)){if(eu(t))throw Error(R(418));e=bn(n.nextSibling);var r=lt;e&&bd(t,e)?Op(r,n):(t.flags=t.flags&-4097|2,ge=!1,lt=t)}}else{if(eu(t))throw Error(R(418));t.flags=t.flags&-4097|2,ge=!1,lt=t}}}function Td(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;lt=t}function Hs(t){if(t!==lt)return!1;if(!ge)return Td(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jl(t.type,t.memoizedProps)),e&&(e=at)){if(eu(t))throw jp(),Error(R(418));for(;e;)Op(t,e),e=bn(e.nextSibling)}if(Td(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(R(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){at=bn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}at=null}}else at=lt?bn(t.stateNode.nextSibling):null;return!0}function jp(){for(var t=at;t;)t=bn(t.nextSibling)}function Wi(){at=lt=null,ge=!1}function ec(t){Nt===null?Nt=[t]:Nt.push(t)}var Ey=un.ReactCurrentBatchConfig;function xr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(R(309));var r=n.stateNode}if(!r)throw Error(R(147,t));var o=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(u){var h=o.refs;u===null?delete h[a]:h[a]=u},e._stringRef=a,e)}if(typeof t!="string")throw Error(R(284));if(!n._owner)throw Error(R(290,t))}return t}function Vs(t,e){throw t=Object.prototype.toString.call(e),Error(R(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ed(t){var e=t._init;return e(t._payload)}function Np(t){function e(S,y){if(t){var x=S.deletions;x===null?(S.deletions=[y],S.flags|=16):x.push(y)}}function n(S,y){if(!t)return null;for(;y!==null;)e(S,y),y=y.sibling;return null}function r(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function o(S,y){return S=Ln(S,y),S.index=0,S.sibling=null,S}function a(S,y,x){return S.index=x,t?(x=S.alternate,x!==null?(x=x.index,x<y?(S.flags|=2,y):x):(S.flags|=2,y)):(S.flags|=1048576,y)}function u(S){return t&&S.alternate===null&&(S.flags|=2),S}function h(S,y,x,b){return y===null||y.tag!==6?(y=gl(x,S.mode,b),y.return=S,y):(y=o(y,x),y.return=S,y)}function d(S,y,x,b){var M=x.type;return M===Pi?g(S,y,x.props.children,b,x.key):y!==null&&(y.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===mn&&Ed(M)===y.type)?(b=o(y,x.props),b.ref=xr(S,y,x),b.return=S,b):(b=po(x.type,x.key,x.props,null,S.mode,b),b.ref=xr(S,y,x),b.return=S,b)}function p(S,y,x,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=_l(x,S.mode,b),y.return=S,y):(y=o(y,x.children||[]),y.return=S,y)}function g(S,y,x,b,M){return y===null||y.tag!==7?(y=Qn(x,S.mode,b,M),y.return=S,y):(y=o(y,x),y.return=S,y)}function v(S,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=gl(""+y,S.mode,x),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ms:return x=po(y.type,y.key,y.props,null,S.mode,x),x.ref=xr(S,null,y),x.return=S,x;case Si:return y=_l(y,S.mode,x),y.return=S,y;case mn:var b=y._init;return v(S,b(y._payload),x)}if(Tr(y)||gr(y))return y=Qn(y,S.mode,x,null),y.return=S,y;Vs(S,y)}return null}function w(S,y,x,b){var M=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return M!==null?null:h(S,y,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ms:return x.key===M?d(S,y,x,b):null;case Si:return x.key===M?p(S,y,x,b):null;case mn:return M=x._init,w(S,y,M(x._payload),b)}if(Tr(x)||gr(x))return M!==null?null:g(S,y,x,b,null);Vs(S,x)}return null}function P(S,y,x,b,M){if(typeof b=="string"&&b!==""||typeof b=="number")return S=S.get(x)||null,h(y,S,""+b,M);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ms:return S=S.get(b.key===null?x:b.key)||null,d(y,S,b,M);case Si:return S=S.get(b.key===null?x:b.key)||null,p(y,S,b,M);case mn:var I=b._init;return P(S,y,x,I(b._payload),M)}if(Tr(b)||gr(b))return S=S.get(x)||null,g(y,S,b,M,null);Vs(y,b)}return null}function E(S,y,x,b){for(var M=null,I=null,D=y,U=y=0,le=null;D!==null&&U<x.length;U++){D.index>U?(le=D,D=null):le=D.sibling;var Q=w(S,D,x[U],b);if(Q===null){D===null&&(D=le);break}t&&D&&Q.alternate===null&&e(S,D),y=a(Q,y,U),I===null?M=Q:I.sibling=Q,I=Q,D=le}if(U===x.length)return n(S,D),ge&&Zn(S,U),M;if(D===null){for(;U<x.length;U++)D=v(S,x[U],b),D!==null&&(y=a(D,y,U),I===null?M=D:I.sibling=D,I=D);return ge&&Zn(S,U),M}for(D=r(S,D);U<x.length;U++)le=P(D,S,U,x[U],b),le!==null&&(t&&le.alternate!==null&&D.delete(le.key===null?U:le.key),y=a(le,y,U),I===null?M=le:I.sibling=le,I=le);return t&&D.forEach(function(ue){return e(S,ue)}),ge&&Zn(S,U),M}function C(S,y,x,b){var M=gr(x);if(typeof M!="function")throw Error(R(150));if(x=M.call(x),x==null)throw Error(R(151));for(var I=M=null,D=y,U=y=0,le=null,Q=x.next();D!==null&&!Q.done;U++,Q=x.next()){D.index>U?(le=D,D=null):le=D.sibling;var ue=w(S,D,Q.value,b);if(ue===null){D===null&&(D=le);break}t&&D&&ue.alternate===null&&e(S,D),y=a(ue,y,U),I===null?M=ue:I.sibling=ue,I=ue,D=le}if(Q.done)return n(S,D),ge&&Zn(S,U),M;if(D===null){for(;!Q.done;U++,Q=x.next())Q=v(S,Q.value,b),Q!==null&&(y=a(Q,y,U),I===null?M=Q:I.sibling=Q,I=Q);return ge&&Zn(S,U),M}for(D=r(S,D);!Q.done;U++,Q=x.next())Q=P(D,S,U,Q.value,b),Q!==null&&(t&&Q.alternate!==null&&D.delete(Q.key===null?U:Q.key),y=a(Q,y,U),I===null?M=Q:I.sibling=Q,I=Q);return t&&D.forEach(function(ke){return e(S,ke)}),ge&&Zn(S,U),M}function z(S,y,x,b){if(typeof x=="object"&&x!==null&&x.type===Pi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ms:e:{for(var M=x.key,I=y;I!==null;){if(I.key===M){if(M=x.type,M===Pi){if(I.tag===7){n(S,I.sibling),y=o(I,x.props.children),y.return=S,S=y;break e}}else if(I.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===mn&&Ed(M)===I.type){n(S,I.sibling),y=o(I,x.props),y.ref=xr(S,I,x),y.return=S,S=y;break e}n(S,I);break}else e(S,I);I=I.sibling}x.type===Pi?(y=Qn(x.props.children,S.mode,b,x.key),y.return=S,S=y):(b=po(x.type,x.key,x.props,null,S.mode,b),b.ref=xr(S,y,x),b.return=S,S=b)}return u(S);case Si:e:{for(I=x.key;y!==null;){if(y.key===I)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(S,y.sibling),y=o(y,x.children||[]),y.return=S,S=y;break e}else{n(S,y);break}else e(S,y);y=y.sibling}y=_l(x,S.mode,b),y.return=S,S=y}return u(S);case mn:return I=x._init,z(S,y,I(x._payload),b)}if(Tr(x))return E(S,y,x,b);if(gr(x))return C(S,y,x,b);Vs(S,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(S,y.sibling),y=o(y,x),y.return=S,S=y):(n(S,y),y=gl(x,S.mode,b),y.return=S,S=y),u(S)):n(S,y)}return z}var Hi=Np(!0),Ap=Np(!1),Co=An(null),Lo=null,Ni=null,tc=null;function nc(){tc=Ni=Lo=null}function ic(t){var e=Co.current;me(Co),t._currentValue=e}function nu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bi(t,e){Lo=t,tc=Ni=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tt=!0),t.firstContext=null)}function kt(t){var e=t._currentValue;if(tc!==t)if(t={context:t,memoizedValue:e,next:null},Ni===null){if(Lo===null)throw Error(R(308));Ni=t,Lo.dependencies={lanes:0,firstContext:t}}else Ni=Ni.next=t;return e}var Kn=null;function rc(t){Kn===null?Kn=[t]:Kn.push(t)}function Ip(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,rc(e)):(n.next=o.next,o.next=n),e.interleaved=n,an(t,r)}function an(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gn=!1;function sc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Tn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,an(t,n)}return o=r.interleaved,o===null?(e.next=e,rc(r)):(e.next=o.next,o.next=e),r.interleaved=e,an(t,n)}function ao(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wu(t,n)}}function Cd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?o=a=e:a=a.next=e}else o=a=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Oo(t,e,n,r){var o=t.updateQueue;gn=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,h=o.shared.pending;if(h!==null){o.shared.pending=null;var d=h,p=d.next;d.next=null,u===null?a=p:u.next=p,u=d;var g=t.alternate;g!==null&&(g=g.updateQueue,h=g.lastBaseUpdate,h!==u&&(h===null?g.firstBaseUpdate=p:h.next=p,g.lastBaseUpdate=d))}if(a!==null){var v=o.baseState;u=0,g=p=d=null,h=a;do{var w=h.lane,P=h.eventTime;if((r&w)===w){g!==null&&(g=g.next={eventTime:P,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var E=t,C=h;switch(w=e,P=n,C.tag){case 1:if(E=C.payload,typeof E=="function"){v=E.call(P,v,w);break e}v=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=C.payload,w=typeof E=="function"?E.call(P,v,w):E,w==null)break e;v=we({},v,w);break e;case 2:gn=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,w=o.effects,w===null?o.effects=[h]:w.push(h))}else P={eventTime:P,lane:w,tag:h.tag,payload:h.payload,callback:h.callback,next:null},g===null?(p=g=P,d=v):g=g.next=P,u|=w;if(h=h.next,h===null){if(h=o.shared.pending,h===null)break;w=h,h=w.next,w.next=null,o.lastBaseUpdate=w,o.shared.pending=null}}while(!0);if(g===null&&(d=v),o.baseState=d,o.firstBaseUpdate=p,o.lastBaseUpdate=g,e=o.shared.interleaved,e!==null){o=e;do u|=o.lane,o=o.next;while(o!==e)}else a===null&&(o.shared.lanes=0);ti|=u,t.lanes=u,t.memoizedState=v}}function Ld(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(R(191,o));o.call(r)}}}var cs={},Ht=An(cs),Xr=An(cs),es=An(cs);function Gn(t){if(t===cs)throw Error(R(174));return t}function oc(t,e){switch(fe(es,e),fe(Xr,t),fe(Ht,cs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rl(e,t)}me(Ht),fe(Ht,e)}function Vi(){me(Ht),me(Xr),me(es)}function Rp(t){Gn(es.current);var e=Gn(Ht.current),n=Rl(e,t.type);e!==n&&(fe(Xr,t),fe(Ht,n))}function ac(t){Xr.current===t&&(me(Ht),me(Xr))}var ve=An(0);function jo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cl=[];function lc(){for(var t=0;t<cl.length;t++)cl[t]._workInProgressVersionPrimary=null;cl.length=0}var lo=un.ReactCurrentDispatcher,hl=un.ReactCurrentBatchConfig,ei=0,ye=null,Ne=null,Me=null,No=!1,Mr=!1,ts=0,Cy=0;function Ue(){throw Error(R(321))}function uc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mt(t[n],e[n]))return!1;return!0}function cc(t,e,n,r,o,a){if(ei=a,ye=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lo.current=t===null||t.memoizedState===null?Ny:Ay,t=n(r,o),Mr){a=0;do{if(Mr=!1,ts=0,25<=a)throw Error(R(301));a+=1,Me=Ne=null,e.updateQueue=null,lo.current=Iy,t=n(r,o)}while(Mr)}if(lo.current=Ao,e=Ne!==null&&Ne.next!==null,ei=0,Me=Ne=ye=null,No=!1,e)throw Error(R(300));return t}function hc(){var t=ts!==0;return ts=0,t}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?ye.memoizedState=Me=t:Me=Me.next=t,Me}function St(){if(Ne===null){var t=ye.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var e=Me===null?ye.memoizedState:Me.next;if(e!==null)Me=e,Ne=t;else{if(t===null)throw Error(R(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Me===null?ye.memoizedState=Me=t:Me=Me.next=t}return Me}function ns(t,e){return typeof e=="function"?e(t):e}function dl(t){var e=St(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=Ne,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var u=o.next;o.next=a.next,a.next=u}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var h=u=null,d=null,p=a;do{var g=p.lane;if((ei&g)===g)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:t(r,p.action);else{var v={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(h=d=v,u=r):d=d.next=v,ye.lanes|=g,ti|=g}p=p.next}while(p!==null&&p!==a);d===null?u=r:d.next=h,Mt(r,e.memoizedState)||(tt=!0),e.memoizedState=r,e.baseState=u,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do a=o.lane,ye.lanes|=a,ti|=a,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fl(t){var e=St(),n=e.queue;if(n===null)throw Error(R(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,a=e.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do a=t(a,u.action),u=u.next;while(u!==o);Mt(a,e.memoizedState)||(tt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function zp(){}function Dp(t,e){var n=ye,r=St(),o=e(),a=!Mt(r.memoizedState,o);if(a&&(r.memoizedState=o,tt=!0),r=r.queue,dc(Up.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,is(9,$p.bind(null,n,r,o,e),void 0,null),Re===null)throw Error(R(349));ei&30||Bp(n,e,o)}return o}function Bp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $p(t,e,n,r){e.value=n,e.getSnapshot=r,Fp(e)&&Zp(t)}function Up(t,e,n){return n(function(){Fp(e)&&Zp(t)})}function Fp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mt(t,n)}catch{return!0}}function Zp(t){var e=an(t,1);e!==null&&It(e,t,1,-1)}function Od(t){var e=Ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},e.queue=t,t=t.dispatch=jy.bind(null,ye,t),[e.memoizedState,t]}function is(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ye.updateQueue,e===null?(e={lastEffect:null,stores:null},ye.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Wp(){return St().memoizedState}function uo(t,e,n,r){var o=Ut();ye.flags|=t,o.memoizedState=is(1|e,n,void 0,r===void 0?null:r)}function Ko(t,e,n,r){var o=St();r=r===void 0?null:r;var a=void 0;if(Ne!==null){var u=Ne.memoizedState;if(a=u.destroy,r!==null&&uc(r,u.deps)){o.memoizedState=is(e,n,a,r);return}}ye.flags|=t,o.memoizedState=is(1|e,n,a,r)}function jd(t,e){return uo(8390656,8,t,e)}function dc(t,e){return Ko(2048,8,t,e)}function Hp(t,e){return Ko(4,2,t,e)}function Vp(t,e){return Ko(4,4,t,e)}function qp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kp(t,e,n){return n=n!=null?n.concat([t]):null,Ko(4,4,qp.bind(null,e,t),n)}function fc(){}function Gp(t,e){var n=St();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Jp(t,e){var n=St();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Qp(t,e,n){return ei&21?(Mt(n,e)||(n=np(),ye.lanes|=n,ti|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tt=!0),t.memoizedState=n)}function Ly(t,e){var n=ae;ae=n!==0&&4>n?n:4,t(!0);var r=hl.transition;hl.transition={};try{t(!1),e()}finally{ae=n,hl.transition=r}}function Yp(){return St().memoizedState}function Oy(t,e,n){var r=Cn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xp(t))em(e,n);else if(n=Ip(t,e,n,r),n!==null){var o=Ke();It(n,t,r,o),tm(n,e,r)}}function jy(t,e,n){var r=Cn(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xp(t))em(e,o);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,h=a(u,n);if(o.hasEagerState=!0,o.eagerState=h,Mt(h,u)){var d=e.interleaved;d===null?(o.next=o,rc(e)):(o.next=d.next,d.next=o),e.interleaved=o;return}}catch{}finally{}n=Ip(t,e,o,r),n!==null&&(o=Ke(),It(n,t,r,o),tm(n,e,r))}}function Xp(t){var e=t.alternate;return t===ye||e!==null&&e===ye}function em(t,e){Mr=No=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function tm(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Wu(t,n)}}var Ao={readContext:kt,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useInsertionEffect:Ue,useLayoutEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useMutableSource:Ue,useSyncExternalStore:Ue,useId:Ue,unstable_isNewReconciler:!1},Ny={readContext:kt,useCallback:function(t,e){return Ut().memoizedState=[t,e===void 0?null:e],t},useContext:kt,useEffect:jd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uo(4194308,4,qp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uo(4194308,4,t,e)},useInsertionEffect:function(t,e){return uo(4,2,t,e)},useMemo:function(t,e){var n=Ut();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ut();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Oy.bind(null,ye,t),[r.memoizedState,t]},useRef:function(t){var e=Ut();return t={current:t},e.memoizedState=t},useState:Od,useDebugValue:fc,useDeferredValue:function(t){return Ut().memoizedState=t},useTransition:function(){var t=Od(!1),e=t[0];return t=Ly.bind(null,t[1]),Ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ye,o=Ut();if(ge){if(n===void 0)throw Error(R(407));n=n()}else{if(n=e(),Re===null)throw Error(R(349));ei&30||Bp(r,e,n)}o.memoizedState=n;var a={value:n,getSnapshot:e};return o.queue=a,jd(Up.bind(null,r,a,t),[t]),r.flags|=2048,is(9,$p.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Ut(),e=Re.identifierPrefix;if(ge){var n=nn,r=tn;n=(r&~(1<<32-At(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ts++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Cy++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Ay={readContext:kt,useCallback:Gp,useContext:kt,useEffect:dc,useImperativeHandle:Kp,useInsertionEffect:Hp,useLayoutEffect:Vp,useMemo:Jp,useReducer:dl,useRef:Wp,useState:function(){return dl(ns)},useDebugValue:fc,useDeferredValue:function(t){var e=St();return Qp(e,Ne.memoizedState,t)},useTransition:function(){var t=dl(ns)[0],e=St().memoizedState;return[t,e]},useMutableSource:zp,useSyncExternalStore:Dp,useId:Yp,unstable_isNewReconciler:!1},Iy={readContext:kt,useCallback:Gp,useContext:kt,useEffect:dc,useImperativeHandle:Kp,useInsertionEffect:Hp,useLayoutEffect:Vp,useMemo:Jp,useReducer:fl,useRef:Wp,useState:function(){return fl(ns)},useDebugValue:fc,useDeferredValue:function(t){var e=St();return Ne===null?e.memoizedState=t:Qp(e,Ne.memoizedState,t)},useTransition:function(){var t=fl(ns)[0],e=St().memoizedState;return[t,e]},useMutableSource:zp,useSyncExternalStore:Dp,useId:Yp,unstable_isNewReconciler:!1};function Lt(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function iu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:we({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Go={isMounted:function(t){return(t=t._reactInternals)?ri(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ke(),o=Cn(t),a=rn(r,o);a.payload=e,n!=null&&(a.callback=n),e=Tn(t,a,o),e!==null&&(It(e,t,o,r),ao(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ke(),o=Cn(t),a=rn(r,o);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Tn(t,a,o),e!==null&&(It(e,t,o,r),ao(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ke(),r=Cn(t),o=rn(n,r);o.tag=2,e!=null&&(o.callback=e),e=Tn(t,o,r),e!==null&&(It(e,t,r,n),ao(e,t,r))}};function Nd(t,e,n,r,o,a,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,u):e.prototype&&e.prototype.isPureReactComponent?!Gr(n,r)||!Gr(o,a):!0}function nm(t,e,n){var r=!1,o=jn,a=e.contextType;return typeof a=="object"&&a!==null?a=kt(a):(o=it(e)?Yn:We.current,r=e.contextTypes,a=(r=r!=null)?Zi(t,o):jn),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Go,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=a),e}function Ad(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Go.enqueueReplaceState(e,e.state,null)}function ru(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},sc(t);var a=e.contextType;typeof a=="object"&&a!==null?o.context=kt(a):(a=it(e)?Yn:We.current,o.context=Zi(t,a)),o.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(iu(t,e,a,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Go.enqueueReplaceState(o,o.state,null),Oo(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function qi(t,e){try{var n="",r=e;do n+=lv(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:o,digest:null}}function pl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function su(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var My=typeof WeakMap=="function"?WeakMap:Map;function im(t,e,n){n=rn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Mo||(Mo=!0,mu=r),su(t,e)},n}function rm(t,e,n){n=rn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){su(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){su(t,e),typeof r!="function"&&(En===null?En=new Set([this]):En.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function Id(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new My;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=Gy.bind(null,t,e,n),e.then(t,t))}function Md(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rd(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rn(-1,1),e.tag=2,Tn(n,e,1))),n.lanes|=1),t)}var Ry=un.ReactCurrentOwner,tt=!1;function qe(t,e,n,r){e.child=t===null?Ap(e,null,n,r):Hi(e,t.child,n,r)}function zd(t,e,n,r,o){n=n.render;var a=e.ref;return Bi(e,o),r=cc(t,e,n,r,a,o),n=hc(),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,ln(t,e,o)):(ge&&n&&Yu(e),e.flags|=1,qe(t,e,r,o),e.child)}function Dd(t,e,n,r,o){if(t===null){var a=n.type;return typeof a=="function"&&!xc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,sm(t,e,a,r,o)):(t=po(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&o)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:Gr,n(u,r)&&t.ref===e.ref)return ln(t,e,o)}return e.flags|=1,t=Ln(a,r),t.ref=e.ref,t.return=e,e.child=t}function sm(t,e,n,r,o){if(t!==null){var a=t.memoizedProps;if(Gr(a,r)&&t.ref===e.ref)if(tt=!1,e.pendingProps=r=a,(t.lanes&o)!==0)t.flags&131072&&(tt=!0);else return e.lanes=t.lanes,ln(t,e,o)}return ou(t,e,n,r,o)}function om(t,e,n){var r=e.pendingProps,o=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Ii,ot),ot|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Ii,ot),ot|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,fe(Ii,ot),ot|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,fe(Ii,ot),ot|=r;return qe(t,e,o,n),e.child}function am(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ou(t,e,n,r,o){var a=it(n)?Yn:We.current;return a=Zi(e,a),Bi(e,o),n=cc(t,e,n,r,a,o),r=hc(),t!==null&&!tt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,ln(t,e,o)):(ge&&r&&Yu(e),e.flags|=1,qe(t,e,n,o),e.child)}function Bd(t,e,n,r,o){if(it(n)){var a=!0;bo(e)}else a=!1;if(Bi(e,o),e.stateNode===null)co(t,e),nm(e,n,r),ru(e,n,r,o),r=!0;else if(t===null){var u=e.stateNode,h=e.memoizedProps;u.props=h;var d=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=kt(p):(p=it(n)?Yn:We.current,p=Zi(e,p));var g=n.getDerivedStateFromProps,v=typeof g=="function"||typeof u.getSnapshotBeforeUpdate=="function";v||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==r||d!==p)&&Ad(e,u,r,p),gn=!1;var w=e.memoizedState;u.state=w,Oo(e,r,u,o),d=e.memoizedState,h!==r||w!==d||nt.current||gn?(typeof g=="function"&&(iu(e,n,g,r),d=e.memoizedState),(h=gn||Nd(e,n,h,r,w,d,p))?(v||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),u.props=r,u.state=d,u.context=p,r=h):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{u=e.stateNode,Mp(t,e),h=e.memoizedProps,p=e.type===e.elementType?h:Lt(e.type,h),u.props=p,v=e.pendingProps,w=u.context,d=n.contextType,typeof d=="object"&&d!==null?d=kt(d):(d=it(n)?Yn:We.current,d=Zi(e,d));var P=n.getDerivedStateFromProps;(g=typeof P=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==v||w!==d)&&Ad(e,u,r,d),gn=!1,w=e.memoizedState,u.state=w,Oo(e,r,u,o);var E=e.memoizedState;h!==v||w!==E||nt.current||gn?(typeof P=="function"&&(iu(e,n,P,r),E=e.memoizedState),(p=gn||Nd(e,n,p,r,w,E,d)||!1)?(g||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,E,d),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,E,d)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),u.props=r,u.state=E,u.context=d,r=p):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return au(t,e,n,r,a,o)}function au(t,e,n,r,o,a){am(t,e);var u=(e.flags&128)!==0;if(!r&&!u)return o&&Pd(e,n,!1),ln(t,e,a);r=e.stateNode,Ry.current=e;var h=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&u?(e.child=Hi(e,t.child,null,a),e.child=Hi(e,null,h,a)):qe(t,e,h,a),e.memoizedState=r.state,o&&Pd(e,n,!0),e.child}function lm(t){var e=t.stateNode;e.pendingContext?Sd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Sd(t,e.context,!1),oc(t,e.containerInfo)}function $d(t,e,n,r,o){return Wi(),ec(o),e.flags|=256,qe(t,e,n,r),e.child}var lu={dehydrated:null,treeContext:null,retryLane:0};function uu(t){return{baseLanes:t,cachePool:null,transitions:null}}function um(t,e,n){var r=e.pendingProps,o=ve.current,a=!1,u=(e.flags&128)!==0,h;if((h=u)||(h=t!==null&&t.memoizedState===null?!1:(o&2)!==0),h?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),fe(ve,o&1),t===null)return tu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=r.children,t=r.fallback,a?(r=e.mode,a=e.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Yo(u,r,0,null),t=Qn(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=uu(n),e.memoizedState=lu,t):pc(e,u));if(o=t.memoizedState,o!==null&&(h=o.dehydrated,h!==null))return zy(t,e,u,r,h,o,n);if(a){a=r.fallback,u=e.mode,o=t.child,h=o.sibling;var d={mode:"hidden",children:r.children};return!(u&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=Ln(o,d),r.subtreeFlags=o.subtreeFlags&14680064),h!==null?a=Ln(h,a):(a=Qn(a,u,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,u=t.child.memoizedState,u=u===null?uu(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=t.childLanes&~n,e.memoizedState=lu,r}return a=t.child,t=a.sibling,r=Ln(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function pc(t,e){return e=Yo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qs(t,e,n,r){return r!==null&&ec(r),Hi(e,t.child,null,n),t=pc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zy(t,e,n,r,o,a,u){if(n)return e.flags&256?(e.flags&=-257,r=pl(Error(R(422))),qs(t,e,u,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,o=e.mode,r=Yo({mode:"visible",children:r.children},o,0,null),a=Qn(a,o,u,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Hi(e,t.child,null,u),e.child.memoizedState=uu(u),e.memoizedState=lu,a);if(!(e.mode&1))return qs(t,e,u,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(R(419)),r=pl(a,r,void 0),qs(t,e,u,r)}if(h=(u&t.childLanes)!==0,tt||h){if(r=Re,r!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|u)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,an(t,o),It(r,t,o,-1))}return wc(),r=pl(Error(R(421))),qs(t,e,u,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=Jy.bind(null,t),o._reactRetry=e,null):(t=a.treeContext,at=bn(o.nextSibling),lt=e,ge=!0,Nt=null,t!==null&&(_t[vt++]=tn,_t[vt++]=nn,_t[vt++]=Xn,tn=t.id,nn=t.overflow,Xn=e),e=pc(e,r.children),e.flags|=4096,e)}function Ud(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),nu(t.return,e,n)}function ml(t,e,n,r,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function cm(t,e,n){var r=e.pendingProps,o=r.revealOrder,a=r.tail;if(qe(t,e,r.children,n),r=ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ud(t,n,e);else if(t.tag===19)Ud(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(ve,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&jo(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),ml(e,!1,o,n,a);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&jo(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}ml(e,!0,n,null,a);break;case"together":ml(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function co(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ln(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ti|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(R(153));if(e.child!==null){for(t=e.child,n=Ln(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ln(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Dy(t,e,n){switch(e.tag){case 3:lm(e),Wi();break;case 5:Rp(e);break;case 1:it(e.type)&&bo(e);break;case 4:oc(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;fe(Co,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fe(ve,ve.current&1),e.flags|=128,null):n&e.child.childLanes?um(t,e,n):(fe(ve,ve.current&1),t=ln(t,e,n),t!==null?t.sibling:null);fe(ve,ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cm(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),fe(ve,ve.current),r)break;return null;case 22:case 23:return e.lanes=0,om(t,e,n)}return ln(t,e,n)}var hm,cu,dm,fm;hm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};cu=function(){};dm=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Gn(Ht.current);var a=null;switch(n){case"input":o=Nl(t,o),r=Nl(t,r),a=[];break;case"select":o=we({},o,{value:void 0}),r=we({},r,{value:void 0}),a=[];break;case"textarea":o=Ml(t,o),r=Ml(t,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=So)}zl(n,r);var u;n=null;for(p in o)if(!r.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var h=o[p];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Fr.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var d=r[p];if(h=o!=null?o[p]:void 0,r.hasOwnProperty(p)&&d!==h&&(d!=null||h!=null))if(p==="style")if(h){for(u in h)!h.hasOwnProperty(u)||d&&d.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in d)d.hasOwnProperty(u)&&h[u]!==d[u]&&(n||(n={}),n[u]=d[u])}else n||(a||(a=[]),a.push(p,n)),n=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(a=a||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Fr.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&pe("scroll",t),a||h===d||(a=[])):(a=a||[]).push(p,d))}n&&(a=a||[]).push("style",n);var p=a;(e.updateQueue=p)&&(e.flags|=4)}};fm=function(t,e,n,r){n!==r&&(e.flags|=4)};function kr(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function By(t,e,n){var r=e.pendingProps;switch(Xu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(e),null;case 1:return it(e.type)&&Po(),Fe(e),null;case 3:return r=e.stateNode,Vi(),me(nt),me(We),lc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Nt!==null&&(vu(Nt),Nt=null))),cu(t,e),Fe(e),null;case 5:ac(e);var o=Gn(es.current);if(n=e.type,t!==null&&e.stateNode!=null)dm(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(R(166));return Fe(e),null}if(t=Gn(Ht.current),Hs(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Zt]=e,r[Yr]=a,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",r),pe("close",r);break;case"iframe":case"object":case"embed":pe("load",r);break;case"video":case"audio":for(o=0;o<Cr.length;o++)pe(Cr[o],r);break;case"source":pe("error",r);break;case"img":case"image":case"link":pe("error",r),pe("load",r);break;case"details":pe("toggle",r);break;case"input":Jh(r,a),pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},pe("invalid",r);break;case"textarea":Yh(r,a),pe("invalid",r)}zl(n,a),o=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&Ws(r.textContent,h,t),o=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Ws(r.textContent,h,t),o=["children",""+h]):Fr.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&pe("scroll",r)}switch(n){case"input":Rs(r),Qh(r,a,!0);break;case"textarea":Rs(r),Xh(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=So)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Uf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),n==="select"&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[Zt]=e,t[Yr]=r,hm(t,e,!1,!1),e.stateNode=t;e:{switch(u=Dl(n,r),n){case"dialog":pe("cancel",t),pe("close",t),o=r;break;case"iframe":case"object":case"embed":pe("load",t),o=r;break;case"video":case"audio":for(o=0;o<Cr.length;o++)pe(Cr[o],t);o=r;break;case"source":pe("error",t),o=r;break;case"img":case"image":case"link":pe("error",t),pe("load",t),o=r;break;case"details":pe("toggle",t),o=r;break;case"input":Jh(t,r),o=Nl(t,r),pe("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=we({},r,{value:void 0}),pe("invalid",t);break;case"textarea":Yh(t,r),o=Ml(t,r),pe("invalid",t);break;default:o=r}zl(n,o),h=o;for(a in h)if(h.hasOwnProperty(a)){var d=h[a];a==="style"?Wf(t,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Ff(t,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Zr(t,d):typeof d=="number"&&Zr(t,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Fr.hasOwnProperty(a)?d!=null&&a==="onScroll"&&pe("scroll",t):d!=null&&Du(t,a,d,u))}switch(n){case"input":Rs(t),Qh(t,r,!1);break;case"textarea":Rs(t),Xh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+On(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Mi(t,!!r.multiple,a,!1):r.defaultValue!=null&&Mi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=So)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fe(e),null;case 6:if(t&&e.stateNode!=null)fm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(R(166));if(n=Gn(es.current),Gn(Ht.current),Hs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zt]=e,(a=r.nodeValue!==n)&&(t=lt,t!==null))switch(t.tag){case 3:Ws(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ws(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zt]=e,e.stateNode=r}return Fe(e),null;case 13:if(me(ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&at!==null&&e.mode&1&&!(e.flags&128))jp(),Wi(),e.flags|=98560,a=!1;else if(a=Hs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(R(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(R(317));a[Zt]=e}else Wi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fe(e),a=!1}else Nt!==null&&(vu(Nt),Nt=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ve.current&1?Ae===0&&(Ae=3):wc())),e.updateQueue!==null&&(e.flags|=4),Fe(e),null);case 4:return Vi(),cu(t,e),t===null&&Jr(e.stateNode.containerInfo),Fe(e),null;case 10:return ic(e.type._context),Fe(e),null;case 17:return it(e.type)&&Po(),Fe(e),null;case 19:if(me(ve),a=e.memoizedState,a===null)return Fe(e),null;if(r=(e.flags&128)!==0,u=a.rendering,u===null)if(r)kr(a,!1);else{if(Ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=jo(t),u!==null){for(e.flags|=128,kr(a,!1),r=u.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(ve,ve.current&1|2),e.child}t=t.sibling}a.tail!==null&&Pe()>Ki&&(e.flags|=128,r=!0,kr(a,!1),e.lanes=4194304)}else{if(!r)if(t=jo(u),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),kr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!ge)return Fe(e),null}else 2*Pe()-a.renderingStartTime>Ki&&n!==1073741824&&(e.flags|=128,r=!0,kr(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(n=a.last,n!==null?n.sibling=u:e.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Pe(),e.sibling=null,n=ve.current,fe(ve,r?n&1|2:n&1),e):(Fe(e),null);case 22:case 23:return yc(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ot&1073741824&&(Fe(e),e.subtreeFlags&6&&(e.flags|=8192)):Fe(e),null;case 24:return null;case 25:return null}throw Error(R(156,e.tag))}function $y(t,e){switch(Xu(e),e.tag){case 1:return it(e.type)&&Po(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vi(),me(nt),me(We),lc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ac(e),null;case 13:if(me(ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(R(340));Wi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(ve),null;case 4:return Vi(),null;case 10:return ic(e.type._context),null;case 22:case 23:return yc(),null;case 24:return null;default:return null}}var Ks=!1,Ze=!1,Uy=typeof WeakSet=="function"?WeakSet:Set,F=null;function Ai(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xe(t,e,r)}else n.current=null}function hu(t,e,n){try{n()}catch(r){xe(t,e,r)}}var Fd=!1;function Fy(t,e){if(Kl=wo,t=vp(),Qu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,h=-1,d=-1,p=0,g=0,v=t,w=null;t:for(;;){for(var P;v!==n||o!==0&&v.nodeType!==3||(h=u+o),v!==a||r!==0&&v.nodeType!==3||(d=u+r),v.nodeType===3&&(u+=v.nodeValue.length),(P=v.firstChild)!==null;)w=v,v=P;for(;;){if(v===t)break t;if(w===n&&++p===o&&(h=u),w===a&&++g===r&&(d=u),(P=v.nextSibling)!==null)break;v=w,w=v.parentNode}v=P}n=h===-1||d===-1?null:{start:h,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gl={focusedElem:t,selectionRange:n},wo=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var C=E.memoizedProps,z=E.memoizedState,S=e.stateNode,y=S.getSnapshotBeforeUpdate(e.elementType===e.type?C:Lt(e.type,C),z);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(b){xe(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return E=Fd,Fd=!1,E}function Rr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var a=o.destroy;o.destroy=void 0,a!==void 0&&hu(e,n,a)}o=o.next}while(o!==r)}}function Jo(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function du(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pm(t){var e=t.alternate;e!==null&&(t.alternate=null,pm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zt],delete e[Yr],delete e[Yl],delete e[Py],delete e[by])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mm(t){return t.tag===5||t.tag===3||t.tag===4}function Zd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=So));else if(r!==4&&(t=t.child,t!==null))for(fu(t,e,n),t=t.sibling;t!==null;)fu(t,e,n),t=t.sibling}function pu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(pu(t,e,n),t=t.sibling;t!==null;)pu(t,e,n),t=t.sibling}var De=null,Ot=!1;function dn(t,e,n){for(n=n.child;n!==null;)gm(t,e,n),n=n.sibling}function gm(t,e,n){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Fo,n)}catch{}switch(n.tag){case 5:Ze||Ai(n,e);case 6:var r=De,o=Ot;De=null,dn(t,e,n),De=r,Ot=o,De!==null&&(Ot?(t=De,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(Ot?(t=De,n=n.stateNode,t.nodeType===8?ll(t.parentNode,n):t.nodeType===1&&ll(t,n),qr(t)):ll(De,n.stateNode));break;case 4:r=De,o=Ot,De=n.stateNode.containerInfo,Ot=!0,dn(t,e,n),De=r,Ot=o;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&hu(n,e,u),o=o.next}while(o!==r)}dn(t,e,n);break;case 1:if(!Ze&&(Ai(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){xe(n,e,h)}dn(t,e,n);break;case 21:dn(t,e,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,dn(t,e,n),Ze=r):dn(t,e,n);break;default:dn(t,e,n)}}function Wd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Uy),e.forEach(function(r){var o=Qy.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Et(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=t,u=e,h=u;e:for(;h!==null;){switch(h.tag){case 5:De=h.stateNode,Ot=!1;break e;case 3:De=h.stateNode.containerInfo,Ot=!0;break e;case 4:De=h.stateNode.containerInfo,Ot=!0;break e}h=h.return}if(De===null)throw Error(R(160));gm(a,u,o),De=null,Ot=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(p){xe(o,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_m(e,t),e=e.sibling}function _m(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Et(e,t),$t(t),r&4){try{Rr(3,t,t.return),Jo(3,t)}catch(C){xe(t,t.return,C)}try{Rr(5,t,t.return)}catch(C){xe(t,t.return,C)}}break;case 1:Et(e,t),$t(t),r&512&&n!==null&&Ai(n,n.return);break;case 5:if(Et(e,t),$t(t),r&512&&n!==null&&Ai(n,n.return),t.flags&32){var o=t.stateNode;try{Zr(o,"")}catch(C){xe(t,t.return,C)}}if(r&4&&(o=t.stateNode,o!=null)){var a=t.memoizedProps,u=n!==null?n.memoizedProps:a,h=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&Bf(o,a),Dl(h,u);var p=Dl(h,a);for(u=0;u<d.length;u+=2){var g=d[u],v=d[u+1];g==="style"?Wf(o,v):g==="dangerouslySetInnerHTML"?Ff(o,v):g==="children"?Zr(o,v):Du(o,g,v,p)}switch(h){case"input":Al(o,a);break;case"textarea":$f(o,a);break;case"select":var w=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var P=a.value;P!=null?Mi(o,!!a.multiple,P,!1):w!==!!a.multiple&&(a.defaultValue!=null?Mi(o,!!a.multiple,a.defaultValue,!0):Mi(o,!!a.multiple,a.multiple?[]:"",!1))}o[Yr]=a}catch(C){xe(t,t.return,C)}}break;case 6:if(Et(e,t),$t(t),r&4){if(t.stateNode===null)throw Error(R(162));o=t.stateNode,a=t.memoizedProps;try{o.nodeValue=a}catch(C){xe(t,t.return,C)}}break;case 3:if(Et(e,t),$t(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{qr(e.containerInfo)}catch(C){xe(t,t.return,C)}break;case 4:Et(e,t),$t(t);break;case 13:Et(e,t),$t(t),o=t.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(_c=Pe())),r&4&&Wd(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(Ze=(p=Ze)||g,Et(e,t),Ze=p):Et(e,t),$t(t),r&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!g&&t.mode&1)for(F=t,g=t.child;g!==null;){for(v=F=g;F!==null;){switch(w=F,P=w.child,w.tag){case 0:case 11:case 14:case 15:Rr(4,w,w.return);break;case 1:Ai(w,w.return);var E=w.stateNode;if(typeof E.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(C){xe(r,n,C)}}break;case 5:Ai(w,w.return);break;case 22:if(w.memoizedState!==null){Vd(v);continue}}P!==null?(P.return=w,F=P):Vd(v)}g=g.sibling}e:for(g=null,v=t;;){if(v.tag===5){if(g===null){g=v;try{o=v.stateNode,p?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=v.stateNode,d=v.memoizedProps.style,u=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=Zf("display",u))}catch(C){xe(t,t.return,C)}}}else if(v.tag===6){if(g===null)try{v.stateNode.nodeValue=p?"":v.memoizedProps}catch(C){xe(t,t.return,C)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===t)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===t)break e;for(;v.sibling===null;){if(v.return===null||v.return===t)break e;g===v&&(g=null),v=v.return}g===v&&(g=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:Et(e,t),$t(t),r&4&&Wd(t);break;case 21:break;default:Et(e,t),$t(t)}}function $t(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mm(n)){var r=n;break e}n=n.return}throw Error(R(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Zr(o,""),r.flags&=-33);var a=Zd(t);pu(t,a,o);break;case 3:case 4:var u=r.stateNode.containerInfo,h=Zd(t);fu(t,h,u);break;default:throw Error(R(161))}}catch(d){xe(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zy(t,e,n){F=t,vm(t)}function vm(t,e,n){for(var r=(t.mode&1)!==0;F!==null;){var o=F,a=o.child;if(o.tag===22&&r){var u=o.memoizedState!==null||Ks;if(!u){var h=o.alternate,d=h!==null&&h.memoizedState!==null||Ze;h=Ks;var p=Ze;if(Ks=u,(Ze=d)&&!p)for(F=o;F!==null;)u=F,d=u.child,u.tag===22&&u.memoizedState!==null?qd(o):d!==null?(d.return=u,F=d):qd(o);for(;a!==null;)F=a,vm(a),a=a.sibling;F=o,Ks=h,Ze=p}Hd(t)}else o.subtreeFlags&8772&&a!==null?(a.return=o,F=a):Hd(t)}}function Hd(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ze||Jo(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Lt(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Ld(e,a,r);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Ld(e,u,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var v=g.dehydrated;v!==null&&qr(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ze||e.flags&512&&du(e)}catch(w){xe(e,e.return,w)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function Vd(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function qd(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Jo(4,e)}catch(d){xe(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(d){xe(e,o,d)}}var a=e.return;try{du(e)}catch(d){xe(e,a,d)}break;case 5:var u=e.return;try{du(e)}catch(d){xe(e,u,d)}}}catch(d){xe(e,e.return,d)}if(e===t){F=null;break}var h=e.sibling;if(h!==null){h.return=e.return,F=h;break}F=e.return}}var Wy=Math.ceil,Io=un.ReactCurrentDispatcher,mc=un.ReactCurrentOwner,xt=un.ReactCurrentBatchConfig,re=0,Re=null,Ee=null,Be=0,ot=0,Ii=An(0),Ae=0,rs=null,ti=0,Qo=0,gc=0,zr=null,Xe=null,_c=0,Ki=1/0,Yt=null,Mo=!1,mu=null,En=null,Gs=!1,xn=null,Ro=0,Dr=0,gu=null,ho=-1,fo=0;function Ke(){return re&6?Pe():ho!==-1?ho:ho=Pe()}function Cn(t){return t.mode&1?re&2&&Be!==0?Be&-Be:Ey.transition!==null?(fo===0&&(fo=np()),fo):(t=ae,t!==0||(t=window.event,t=t===void 0?16:up(t.type)),t):1}function It(t,e,n,r){if(50<Dr)throw Dr=0,gu=null,Error(R(185));as(t,n,r),(!(re&2)||t!==Re)&&(t===Re&&(!(re&2)&&(Qo|=n),Ae===4&&vn(t,Be)),rt(t,r),n===1&&re===0&&!(e.mode&1)&&(Ki=Pe()+500,qo&&In()))}function rt(t,e){var n=t.callbackNode;Ev(t,e);var r=yo(t,t===Re?Be:0);if(r===0)n!==null&&nd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&nd(n),e===1)t.tag===0?Ty(Kd.bind(null,t)):Cp(Kd.bind(null,t)),ky(function(){!(re&6)&&In()}),n=null;else{switch(ip(r)){case 1:n=Zu;break;case 4:n=ep;break;case 16:n=vo;break;case 536870912:n=tp;break;default:n=vo}n=Tm(n,ym.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ym(t,e){if(ho=-1,fo=0,re&6)throw Error(R(327));var n=t.callbackNode;if($i()&&t.callbackNode!==n)return null;var r=yo(t,t===Re?Be:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=zo(t,r);else{e=r;var o=re;re|=2;var a=xm();(Re!==t||Be!==e)&&(Yt=null,Ki=Pe()+500,Jn(t,e));do try{qy();break}catch(h){wm(t,h)}while(!0);nc(),Io.current=a,re=o,Ee!==null?e=0:(Re=null,Be=0,e=Ae)}if(e!==0){if(e===2&&(o=Zl(t),o!==0&&(r=o,e=_u(t,o))),e===1)throw n=rs,Jn(t,0),vn(t,r),rt(t,Pe()),n;if(e===6)vn(t,r);else{if(o=t.current.alternate,!(r&30)&&!Hy(o)&&(e=zo(t,r),e===2&&(a=Zl(t),a!==0&&(r=a,e=_u(t,a))),e===1))throw n=rs,Jn(t,0),vn(t,r),rt(t,Pe()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(R(345));case 2:Wn(t,Xe,Yt);break;case 3:if(vn(t,r),(r&130023424)===r&&(e=_c+500-Pe(),10<e)){if(yo(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){Ke(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Ql(Wn.bind(null,t,Xe,Yt),e);break}Wn(t,Xe,Yt);break;case 4:if(vn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var u=31-At(r);a=1<<u,u=e[u],u>o&&(o=u),r&=~a}if(r=o,r=Pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Wy(r/1960))-r,10<r){t.timeoutHandle=Ql(Wn.bind(null,t,Xe,Yt),r);break}Wn(t,Xe,Yt);break;case 5:Wn(t,Xe,Yt);break;default:throw Error(R(329))}}}return rt(t,Pe()),t.callbackNode===n?ym.bind(null,t):null}function _u(t,e){var n=zr;return t.current.memoizedState.isDehydrated&&(Jn(t,e).flags|=256),t=zo(t,e),t!==2&&(e=Xe,Xe=n,e!==null&&vu(e)),t}function vu(t){Xe===null?Xe=t:Xe.push.apply(Xe,t)}function Hy(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!Mt(a(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vn(t,e){for(e&=~gc,e&=~Qo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-At(e),r=1<<n;t[n]=-1,e&=~r}}function Kd(t){if(re&6)throw Error(R(327));$i();var e=yo(t,0);if(!(e&1))return rt(t,Pe()),null;var n=zo(t,e);if(t.tag!==0&&n===2){var r=Zl(t);r!==0&&(e=r,n=_u(t,r))}if(n===1)throw n=rs,Jn(t,0),vn(t,e),rt(t,Pe()),n;if(n===6)throw Error(R(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wn(t,Xe,Yt),rt(t,Pe()),null}function vc(t,e){var n=re;re|=1;try{return t(e)}finally{re=n,re===0&&(Ki=Pe()+500,qo&&In())}}function ni(t){xn!==null&&xn.tag===0&&!(re&6)&&$i();var e=re;re|=1;var n=xt.transition,r=ae;try{if(xt.transition=null,ae=1,t)return t()}finally{ae=r,xt.transition=n,re=e,!(re&6)&&In()}}function yc(){ot=Ii.current,me(Ii)}function Jn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xy(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(Xu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Po();break;case 3:Vi(),me(nt),me(We),lc();break;case 5:ac(r);break;case 4:Vi();break;case 13:me(ve);break;case 19:me(ve);break;case 10:ic(r.type._context);break;case 22:case 23:yc()}n=n.return}if(Re=t,Ee=t=Ln(t.current,null),Be=ot=e,Ae=0,rs=null,gc=Qo=ti=0,Xe=zr=null,Kn!==null){for(e=0;e<Kn.length;e++)if(n=Kn[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=o,r.next=u}n.pending=r}Kn=null}return t}function wm(t,e){do{var n=Ee;try{if(nc(),lo.current=Ao,No){for(var r=ye.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}No=!1}if(ei=0,Me=Ne=ye=null,Mr=!1,ts=0,mc.current=null,n===null||n.return===null){Ae=1,rs=e,Ee=null;break}e:{var a=t,u=n.return,h=n,d=e;if(e=Be,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,g=h,v=g.tag;if(!(g.mode&1)&&(v===0||v===11||v===15)){var w=g.alternate;w?(g.updateQueue=w.updateQueue,g.memoizedState=w.memoizedState,g.lanes=w.lanes):(g.updateQueue=null,g.memoizedState=null)}var P=Md(u);if(P!==null){P.flags&=-257,Rd(P,u,h,a,e),P.mode&1&&Id(a,p,e),e=P,d=p;var E=e.updateQueue;if(E===null){var C=new Set;C.add(d),e.updateQueue=C}else E.add(d);break e}else{if(!(e&1)){Id(a,p,e),wc();break e}d=Error(R(426))}}else if(ge&&h.mode&1){var z=Md(u);if(z!==null){!(z.flags&65536)&&(z.flags|=256),Rd(z,u,h,a,e),ec(qi(d,h));break e}}a=d=qi(d,h),Ae!==4&&(Ae=2),zr===null?zr=[a]:zr.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var S=im(a,d,e);Cd(a,S);break e;case 1:h=d;var y=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(En===null||!En.has(x)))){a.flags|=65536,e&=-e,a.lanes|=e;var b=rm(a,h,e);Cd(a,b);break e}}a=a.return}while(a!==null)}Sm(n)}catch(M){e=M,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function xm(){var t=Io.current;return Io.current=Ao,t===null?Ao:t}function wc(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Re===null||!(ti&268435455)&&!(Qo&268435455)||vn(Re,Be)}function zo(t,e){var n=re;re|=2;var r=xm();(Re!==t||Be!==e)&&(Yt=null,Jn(t,e));do try{Vy();break}catch(o){wm(t,o)}while(!0);if(nc(),re=n,Io.current=r,Ee!==null)throw Error(R(261));return Re=null,Be=0,Ae}function Vy(){for(;Ee!==null;)km(Ee)}function qy(){for(;Ee!==null&&!vv();)km(Ee)}function km(t){var e=bm(t.alternate,t,ot);t.memoizedProps=t.pendingProps,e===null?Sm(t):Ee=e,mc.current=null}function Sm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$y(n,e),n!==null){n.flags&=32767,Ee=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ae=6,Ee=null;return}}else if(n=By(n,e,ot),n!==null){Ee=n;return}if(e=e.sibling,e!==null){Ee=e;return}Ee=e=t}while(e!==null);Ae===0&&(Ae=5)}function Wn(t,e,n){var r=ae,o=xt.transition;try{xt.transition=null,ae=1,Ky(t,e,n,r)}finally{xt.transition=o,ae=r}return null}function Ky(t,e,n,r){do $i();while(xn!==null);if(re&6)throw Error(R(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(R(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(Cv(t,a),t===Re&&(Ee=Re=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gs||(Gs=!0,Tm(vo,function(){return $i(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=xt.transition,xt.transition=null;var u=ae;ae=1;var h=re;re|=4,mc.current=null,Fy(t,n),_m(n,t),py(Gl),wo=!!Kl,Gl=Kl=null,t.current=n,Zy(n),yv(),re=h,ae=u,xt.transition=a}else t.current=n;if(Gs&&(Gs=!1,xn=t,Ro=o),a=t.pendingLanes,a===0&&(En=null),kv(n.stateNode),rt(t,Pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Mo)throw Mo=!1,t=mu,mu=null,t;return Ro&1&&t.tag!==0&&$i(),a=t.pendingLanes,a&1?t===gu?Dr++:(Dr=0,gu=t):Dr=0,In(),null}function $i(){if(xn!==null){var t=ip(Ro),e=xt.transition,n=ae;try{if(xt.transition=null,ae=16>t?16:t,xn===null)var r=!1;else{if(t=xn,xn=null,Ro=0,re&6)throw Error(R(331));var o=re;for(re|=4,F=t.current;F!==null;){var a=F,u=a.child;if(F.flags&16){var h=a.deletions;if(h!==null){for(var d=0;d<h.length;d++){var p=h[d];for(F=p;F!==null;){var g=F;switch(g.tag){case 0:case 11:case 15:Rr(8,g,a)}var v=g.child;if(v!==null)v.return=g,F=v;else for(;F!==null;){g=F;var w=g.sibling,P=g.return;if(pm(g),g===p){F=null;break}if(w!==null){w.return=P,F=w;break}F=P}}}var E=a.alternate;if(E!==null){var C=E.child;if(C!==null){E.child=null;do{var z=C.sibling;C.sibling=null,C=z}while(C!==null)}}F=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,F=u;else e:for(;F!==null;){if(a=F,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Rr(9,a,a.return)}var S=a.sibling;if(S!==null){S.return=a.return,F=S;break e}F=a.return}}var y=t.current;for(F=y;F!==null;){u=F;var x=u.child;if(u.subtreeFlags&2064&&x!==null)x.return=u,F=x;else e:for(u=y;F!==null;){if(h=F,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Jo(9,h)}}catch(M){xe(h,h.return,M)}if(h===u){F=null;break e}var b=h.sibling;if(b!==null){b.return=h.return,F=b;break e}F=h.return}}if(re=o,In(),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Fo,t)}catch{}r=!0}return r}finally{ae=n,xt.transition=e}}return!1}function Gd(t,e,n){e=qi(n,e),e=im(t,e,1),t=Tn(t,e,1),e=Ke(),t!==null&&(as(t,1,e),rt(t,e))}function xe(t,e,n){if(t.tag===3)Gd(t,t,n);else for(;e!==null;){if(e.tag===3){Gd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(En===null||!En.has(r))){t=qi(n,t),t=rm(e,t,1),e=Tn(e,t,1),t=Ke(),e!==null&&(as(e,1,t),rt(e,t));break}}e=e.return}}function Gy(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ke(),t.pingedLanes|=t.suspendedLanes&n,Re===t&&(Be&n)===n&&(Ae===4||Ae===3&&(Be&130023424)===Be&&500>Pe()-_c?Jn(t,0):gc|=n),rt(t,e)}function Pm(t,e){e===0&&(t.mode&1?(e=Bs,Bs<<=1,!(Bs&130023424)&&(Bs=4194304)):e=1);var n=Ke();t=an(t,e),t!==null&&(as(t,e,n),rt(t,n))}function Jy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Pm(t,n)}function Qy(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(R(314))}r!==null&&r.delete(e),Pm(t,n)}var bm;bm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||nt.current)tt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return tt=!1,Dy(t,e,n);tt=!!(t.flags&131072)}else tt=!1,ge&&e.flags&1048576&&Lp(e,Eo,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;co(t,e),t=e.pendingProps;var o=Zi(e,We.current);Bi(e,n),o=cc(null,e,r,t,o,n);var a=hc();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,it(r)?(a=!0,bo(e)):a=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,sc(e),o.updater=Go,e.stateNode=o,o._reactInternals=e,ru(e,r,t,n),e=au(null,e,r,!0,a,n)):(e.tag=0,ge&&a&&Yu(e),qe(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(co(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=Xy(r),t=Lt(r,t),o){case 0:e=ou(null,e,r,t,n);break e;case 1:e=Bd(null,e,r,t,n);break e;case 11:e=zd(null,e,r,t,n);break e;case 14:e=Dd(null,e,r,Lt(r.type,t),n);break e}throw Error(R(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Lt(r,o),ou(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Lt(r,o),Bd(t,e,r,o,n);case 3:e:{if(lm(e),t===null)throw Error(R(387));r=e.pendingProps,a=e.memoizedState,o=a.element,Mp(t,e),Oo(e,r,null,n);var u=e.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){o=qi(Error(R(423)),e),e=$d(t,e,r,n,o);break e}else if(r!==o){o=qi(Error(R(424)),e),e=$d(t,e,r,n,o);break e}else for(at=bn(e.stateNode.containerInfo.firstChild),lt=e,ge=!0,Nt=null,n=Ap(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wi(),r===o){e=ln(t,e,n);break e}qe(t,e,r,n)}e=e.child}return e;case 5:return Rp(e),t===null&&tu(e),r=e.type,o=e.pendingProps,a=t!==null?t.memoizedProps:null,u=o.children,Jl(r,o)?u=null:a!==null&&Jl(r,a)&&(e.flags|=32),am(t,e),qe(t,e,u,n),e.child;case 6:return t===null&&tu(e),null;case 13:return um(t,e,n);case 4:return oc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hi(e,null,r,n):qe(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Lt(r,o),zd(t,e,r,o,n);case 7:return qe(t,e,e.pendingProps,n),e.child;case 8:return qe(t,e,e.pendingProps.children,n),e.child;case 12:return qe(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,a=e.memoizedProps,u=o.value,fe(Co,r._currentValue),r._currentValue=u,a!==null)if(Mt(a.value,u)){if(a.children===o.children&&!nt.current){e=ln(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var d=h.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=rn(-1,n&-n),d.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?d.next=d:(d.next=g.next,g.next=d),p.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),nu(a.return,n,e),h.lanes|=n;break}d=d.next}}else if(a.tag===10)u=a.type===e.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(R(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),nu(u,n,e),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}qe(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,Bi(e,n),o=kt(o),r=r(o),e.flags|=1,qe(t,e,r,n),e.child;case 14:return r=e.type,o=Lt(r,e.pendingProps),o=Lt(r.type,o),Dd(t,e,r,o,n);case 15:return sm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Lt(r,o),co(t,e),e.tag=1,it(r)?(t=!0,bo(e)):t=!1,Bi(e,n),nm(e,r,o),ru(e,r,o,n),au(null,e,r,!0,t,n);case 19:return cm(t,e,n);case 22:return om(t,e,n)}throw Error(R(156,e.tag))};function Tm(t,e){return Xf(t,e)}function Yy(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(t,e,n,r){return new Yy(t,e,n,r)}function xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xy(t){if(typeof t=="function")return xc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$u)return 11;if(t===Uu)return 14}return 2}function Ln(t,e){var n=t.alternate;return n===null?(n=yt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function po(t,e,n,r,o,a){var u=2;if(r=t,typeof t=="function")xc(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case Pi:return Qn(n.children,o,a,e);case Bu:u=8,o|=8;break;case Cl:return t=yt(12,n,e,o|2),t.elementType=Cl,t.lanes=a,t;case Ll:return t=yt(13,n,e,o),t.elementType=Ll,t.lanes=a,t;case Ol:return t=yt(19,n,e,o),t.elementType=Ol,t.lanes=a,t;case Rf:return Yo(n,o,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case If:u=10;break e;case Mf:u=9;break e;case $u:u=11;break e;case Uu:u=14;break e;case mn:u=16,r=null;break e}throw Error(R(130,t==null?t:typeof t,""))}return e=yt(u,n,e,o),e.elementType=t,e.type=r,e.lanes=a,e}function Qn(t,e,n,r){return t=yt(7,t,r,e),t.lanes=n,t}function Yo(t,e,n,r){return t=yt(22,t,r,e),t.elementType=Rf,t.lanes=n,t.stateNode={isHidden:!1},t}function gl(t,e,n){return t=yt(6,t,null,e),t.lanes=n,t}function _l(t,e,n){return e=yt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function e0(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qa(0),this.expirationTimes=Qa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qa(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function kc(t,e,n,r,o,a,u,h,d){return t=new e0(t,e,n,h,d),e===1?(e=1,a===!0&&(e|=8)):e=0,a=yt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sc(a),t}function t0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Si,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Em(t){if(!t)return jn;t=t._reactInternals;e:{if(ri(t)!==t||t.tag!==1)throw Error(R(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(it(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(R(171))}if(t.tag===1){var n=t.type;if(it(n))return Ep(t,n,e)}return e}function Cm(t,e,n,r,o,a,u,h,d){return t=kc(n,r,!0,t,o,a,u,h,d),t.context=Em(null),n=t.current,r=Ke(),o=Cn(n),a=rn(r,o),a.callback=e??null,Tn(n,a,o),t.current.lanes=o,as(t,o,r),rt(t,r),t}function Xo(t,e,n,r){var o=e.current,a=Ke(),u=Cn(o);return n=Em(n),e.context===null?e.context=n:e.pendingContext=n,e=rn(a,u),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Tn(o,e,u),t!==null&&(It(t,o,u,a),ao(t,o,u)),u}function Do(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sc(t,e){Jd(t,e),(t=t.alternate)&&Jd(t,e)}function n0(){return null}var Lm=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pc(t){this._internalRoot=t}ea.prototype.render=Pc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(R(409));Xo(t,e,null,null)};ea.prototype.unmount=Pc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ni(function(){Xo(null,t,null,null)}),e[on]=null}};function ea(t){this._internalRoot=t}ea.prototype.unstable_scheduleHydration=function(t){if(t){var e=op();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_n.length&&e!==0&&e<_n[n].priority;n++);_n.splice(n,0,t),n===0&&lp(t)}};function bc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ta(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qd(){}function i0(t,e,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var p=Do(u);a.call(p)}}var u=Cm(e,r,t,0,null,!1,!1,"",Qd);return t._reactRootContainer=u,t[on]=u.current,Jr(t.nodeType===8?t.parentNode:t),ni(),u}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var h=r;r=function(){var p=Do(d);h.call(p)}}var d=kc(t,0,!1,null,null,!1,!1,"",Qd);return t._reactRootContainer=d,t[on]=d.current,Jr(t.nodeType===8?t.parentNode:t),ni(function(){Xo(e,d,n,r)}),d}function na(t,e,n,r,o){var a=n._reactRootContainer;if(a){var u=a;if(typeof o=="function"){var h=o;o=function(){var d=Do(u);h.call(d)}}Xo(e,u,t,o)}else u=i0(n,e,t,o,r);return Do(u)}rp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Er(e.pendingLanes);n!==0&&(Wu(e,n|1),rt(e,Pe()),!(re&6)&&(Ki=Pe()+500,In()))}break;case 13:ni(function(){var r=an(t,1);if(r!==null){var o=Ke();It(r,t,1,o)}}),Sc(t,1)}};Hu=function(t){if(t.tag===13){var e=an(t,134217728);if(e!==null){var n=Ke();It(e,t,134217728,n)}Sc(t,134217728)}};sp=function(t){if(t.tag===13){var e=Cn(t),n=an(t,e);if(n!==null){var r=Ke();It(n,t,e,r)}Sc(t,e)}};op=function(){return ae};ap=function(t,e){var n=ae;try{return ae=t,e()}finally{ae=n}};$l=function(t,e,n){switch(e){case"input":if(Al(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=Vo(r);if(!o)throw Error(R(90));Df(r),Al(r,o)}}}break;case"textarea":$f(t,n);break;case"select":e=n.value,e!=null&&Mi(t,!!n.multiple,e,!1)}};qf=vc;Kf=ni;var r0={usingClientEntryPoint:!1,Events:[us,Ci,Vo,Hf,Vf,vc]},Sr={findFiberByHostInstance:qn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},s0={bundleType:Sr.bundleType,version:Sr.version,rendererPackageName:Sr.rendererPackageName,rendererConfig:Sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:un.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qf(t),t===null?null:t.stateNode},findFiberByHostInstance:Sr.findFiberByHostInstance||n0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Js.isDisabled&&Js.supportsFiber)try{Fo=Js.inject(s0),Wt=Js}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=r0;ht.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bc(e))throw Error(R(200));return t0(t,e,null,n)};ht.createRoot=function(t,e){if(!bc(t))throw Error(R(299));var n=!1,r="",o=Lm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=kc(t,1,!1,null,null,n,!1,r,o),t[on]=e.current,Jr(t.nodeType===8?t.parentNode:t),new Pc(e)};ht.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(R(188)):(t=Object.keys(t).join(","),Error(R(268,t)));return t=Qf(e),t=t===null?null:t.stateNode,t};ht.flushSync=function(t){return ni(t)};ht.hydrate=function(t,e,n){if(!ta(e))throw Error(R(200));return na(null,t,e,!0,n)};ht.hydrateRoot=function(t,e,n){if(!bc(t))throw Error(R(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",u=Lm;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=Cm(e,null,t,1,n??null,o,!1,a,u),t[on]=e.current,Jr(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new ea(e)};ht.render=function(t,e,n){if(!ta(e))throw Error(R(200));return na(null,t,e,!1,n)};ht.unmountComponentAtNode=function(t){if(!ta(t))throw Error(R(40));return t._reactRootContainer?(ni(function(){na(null,null,t,!1,function(){t._reactRootContainer=null,t[on]=null})}),!0):!1};ht.unstable_batchedUpdates=vc;ht.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ta(n))throw Error(R(200));if(t==null||t._reactInternals===void 0)throw Error(R(38));return na(t,e,n,!1,r)};ht.version="18.3.1-next-f1338f8080-20240426";function Om(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Om)}catch(t){console.error(t)}}Om(),Of.exports=ht;var jm=Of.exports,Nm,Yd=jm;Nm=Yd.createRoot,Yd.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var o0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Pt=(t,e)=>{const n=B.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:h="",children:d,...p},g)=>B.createElement("svg",{ref:g,...o0,width:o,height:o,stroke:r,strokeWidth:u?Number(a)*24/Number(o):a,className:["lucide",`lucide-${a0(t)}`,h].join(" "),...p},[...e.map(([v,w])=>B.createElement(v,w)),...Array.isArray(d)?d:[d]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=Pt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=Pt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=Pt("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=Pt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=Pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=Pt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=Pt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=Pt("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=Pt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=Pt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=Pt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=Pt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),v0="modulepreload",y0=function(t){return"/next_stop/"+t},Xd={},hs=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=Promise.allSettled(n.map(d=>{if(d=y0(d),d in Xd)return;Xd[d]=!0;const p=d.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":v0,p||(v.as="script"),v.crossOrigin="",v.href=d,h&&v.setAttribute("nonce",h),document.head.appendChild(v),p)return new Promise((w,P)=>{v.addEventListener("load",w),v.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})},w0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>hs(async()=>{const{default:r}=await Promise.resolve().then(()=>Xi);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Ec extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class x0 extends Ec{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class ef extends Ec{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class tf extends Ec{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var yu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(yu||(yu={}));var k0=function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(v){u(v)}}function d(g){try{p(r.throw(g))}catch(v){u(v)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class S0{constructor(e,{headers:n={},customFetch:r,region:o=yu.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=w0(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return k0(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:u}=n;let h={},{region:d}=n;d||(d=this.region);const p=new URL(`${this.url}/${e}`);d&&d!=="any"&&(h["x-region"]=d,p.searchParams.set("forceFunctionRegion",d));let g;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(h["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(h["Content-Type"]="application/json",g=JSON.stringify(u)));const v=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:g}).catch(C=>{throw new x0(C)}),w=v.headers.get("x-relay-error");if(w&&w==="true")throw new ef(v);if(!v.ok)throw new tf(v);let P=((r=v.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),E;return P==="application/json"?E=yield v.json():P==="application/octet-stream"?E=yield v.blob():P==="text/event-stream"?E=v:P==="multipart/form-data"?E=yield v.formData():E=yield v.text(),{data:E,error:null,response:v}}catch(o){return{data:null,error:o,response:o instanceof tf||o instanceof ef?o.context:void 0}}})}}var et={},Cc={},ia={},ds={},ra={},sa={},P0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gi=P0();const b0=Gi.fetch,Im=Gi.fetch.bind(Gi),Mm=Gi.Headers,T0=Gi.Request,E0=Gi.Response,Xi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Mm,Request:T0,Response:E0,default:Im,fetch:b0},Symbol.toStringTag,{value:"Module"})),C0=I_(Xi);var oa={};Object.defineProperty(oa,"__esModule",{value:!0});let L0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};oa.default=L0;var Rm=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sa,"__esModule",{value:!0});const O0=Rm(C0),j0=Rm(oa);let N0=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=O0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var u,h,d,p;let g=null,v=null,w=null,P=a.status,E=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=y:v=JSON.parse(y))}const z=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(d=a.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");z&&S&&S.length>1&&(w=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(g={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,w=null,P=406,E="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const z=await a.text();try{g=JSON.parse(z),Array.isArray(g)&&a.status===404&&(v=[],g=null,P=200,E="OK")}catch{a.status===404&&z===""?(P=204,E="No Content"):g={message:z}}if(g&&this.isMaybeSingle&&(!((p=g==null?void 0:g.details)===null||p===void 0)&&p.includes("0 rows"))&&(g=null,P=200,E="OK"),g&&this.shouldThrowOnError)throw new j0.default(g)}return{error:g,data:v,count:w,status:P,statusText:E}});return this.shouldThrowOnError||(o=o.catch(a=>{var u,h,d;return{error:{message:`${(u=a==null?void 0:a.name)!==null&&u!==void 0?u:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(h=a==null?void 0:a.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=a==null?void 0:a.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}returns(){return this}overrideTypes(){return this}};sa.default=N0;var A0=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ra,"__esModule",{value:!0});const I0=A0(sa);let M0=class extends I0.default{select(e){let n=!1;const r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:a=o}={}){const u=a?`${a}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(u,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:a=!1,format:u="text"}={}){var h;const d=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};ra.default=M0;var R0=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ds,"__esModule",{value:!0});const z0=R0(ra);let D0=class extends z0.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${u}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ds.default=D0;var B0=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ia,"__esModule",{value:!0});const Pr=B0(ds);let $0=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(e,{head:n=!1,count:r}={}){const o=n?"HEAD":"GET";let a=!1;const u=(e??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",u),r&&this.headers.append("Prefer",`count=${r}`),new Pr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var o;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(u.length>0){const h=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new Pr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:a=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(d.length>0){const p=[...new Set(d)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new Pr.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(e,{count:n}={}){var r;const o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Pr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Pr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};ia.default=$0;var zm=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cc,"__esModule",{value:!0});const U0=zm(ia),F0=zm(ds);let Z0=class Dm{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(e){const n=new URL(`${this.url}/${e}`);return new U0.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Dm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:o=!1,count:a}={}){var u;let h;const d=new URL(`${this.url}/rpc/${e}`);let p;r||o?(h=r?"HEAD":"GET",Object.entries(n).filter(([v,w])=>w!==void 0).map(([v,w])=>[v,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([v,w])=>{d.searchParams.append(v,w)})):(h="POST",p=n);const g=new Headers(this.headers);return a&&g.set("Prefer",`count=${a}`),new F0.default({method:h,url:d,headers:g,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};Cc.default=Z0;var er=ut&&ut.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(et,"__esModule",{value:!0});et.PostgrestError=et.PostgrestBuilder=et.PostgrestTransformBuilder=et.PostgrestFilterBuilder=et.PostgrestQueryBuilder=et.PostgrestClient=void 0;const Bm=er(Cc);et.PostgrestClient=Bm.default;const $m=er(ia);et.PostgrestQueryBuilder=$m.default;const Um=er(ds);et.PostgrestFilterBuilder=Um.default;const Fm=er(ra);et.PostgrestTransformBuilder=Fm.default;const Zm=er(sa);et.PostgrestBuilder=Zm.default;const Wm=er(oa);et.PostgrestError=Wm.default;var W0=et.default={PostgrestClient:Bm.default,PostgrestQueryBuilder:$m.default,PostgrestFilterBuilder:Um.default,PostgrestTransformBuilder:Fm.default,PostgrestBuilder:Zm.default,PostgrestError:Wm.default};const{PostgrestClient:H0,PostgrestQueryBuilder:f1,PostgrestFilterBuilder:p1,PostgrestTransformBuilder:m1,PostgrestBuilder:g1,PostgrestError:_1}=W0;class V0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const q0="2.15.5",K0=`realtime-js/${q0}`,G0="1.0.0",wu=1e4,J0=1e3,Q0=100;var Br;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Br||(Br={}));var Oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Oe||(Oe={}));var jt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(jt||(jt={}));var xu;(function(t){t.websocket="websocket"})(xu||(xu={}));var Vn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Vn||(Vn={}));class Y0{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const o=n.getUint8(1),a=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=r.decode(e.slice(u,u+o));u=u+o;const d=r.decode(e.slice(u,u+a));u=u+a;const p=JSON.parse(r.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:d,payload:p}}}class Hm{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(de||(de={}));const nf=(t,e,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,u)=>(a[u]=X0(u,t,e,o),a),{})},X0=(t,e,n,r)=>{const o=e.find(h=>h.name===t),a=o==null?void 0:o.type,u=n[t];return a&&!r.includes(a)?Vm(a,u):ku(u)},Vm=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return iw(e,n)}switch(t){case de.bool:return ew(e);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return tw(e);case de.json:case de.jsonb:return nw(e);case de.timestamp:return rw(e);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return ku(e);default:return ku(e)}},ku=t=>t,ew=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tw=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},nw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},iw=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const u=t.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(h=>Vm(e,h))}return t},rw=t=>typeof t=="string"?t.replace(" ","T"):t,qm=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class vl{constructor(e,n,r={},o=wu){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var rf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(rf||(rf={}));class $r{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$r.syncState(this.state,o,a,u),this.pendingDiffs.forEach(d=>{this.state=$r.syncDiff(this.state,d,a,u)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=$r.syncDiff(this.state,o,a,u),h())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){const a=this.cloneDeep(e),u=this.transformState(n),h={},d={};return this.map(a,(p,g)=>{u[p]||(d[p]=g)}),this.map(u,(p,g)=>{const v=a[p];if(v){const w=g.map(z=>z.presence_ref),P=v.map(z=>z.presence_ref),E=g.filter(z=>P.indexOf(z.presence_ref)<0),C=v.filter(z=>w.indexOf(z.presence_ref)<0);E.length>0&&(h[p]=E),C.length>0&&(d[p]=C)}else h[p]=g}),this.syncDiff(a,{joins:h,leaves:d},r,o)}static syncDiff(e,n,r,o){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(h,d)=>{var p;const g=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(d),g.length>0){const v=e[h].map(P=>P.presence_ref),w=g.filter(P=>v.indexOf(P.presence_ref)<0);e[h].unshift(...w)}r(h,g,d)}),this.map(u,(h,d)=>{let p=e[h];if(!p)return;const g=d.map(v=>v.presence_ref);p=p.filter(v=>g.indexOf(v.presence_ref)<0),e[h]=p,o(h,p,d),p.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const o=e[r];return"metas"in o?n[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var sf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(sf||(sf={}));var Ur;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ur||(Ur={}));var Xt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Xt||(Xt={}));class Lc{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new vl(this,jt.join,this.params,this.timeout),this.rejoinTimer=new Hm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(jt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new $r(this),this.broadcastEndpointURL=qm(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Oe.closed){const{config:{broadcast:u,presence:h,private:d}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(P=>P.filter))!==null&&o!==void 0?o:[],g=!!this.bindings[Ur.PRESENCE]&&this.bindings[Ur.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,v={},w={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(v.access_token=this.socket.accessTokenValue),this._onError(P=>e==null?void 0:e(Xt.CHANNEL_ERROR,P)),this._onClose(()=>e==null?void 0:e(Xt.CLOSED)),this.updateJoinPayload(Object.assign({config:w},v)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:P})=>{var E;if(this.socket.setAuth(),P===void 0){e==null||e(Xt.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,z=(E=C==null?void 0:C.length)!==null&&E!==void 0?E:0,S=[];for(let y=0;y<z;y++){const x=C[y],{filter:{event:b,schema:M,table:I,filter:D}}=x,U=P&&P[y];if(U&&U.event===b&&U.schema===M&&U.table===I&&U.filter===D)S.push(Object.assign(Object.assign({},x),{id:U.id}));else{this.unsubscribe(),this.state=Oe.errored,e==null||e(Xt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Xt.SUBSCRIBED);return}}).receive("error",P=>{this.state=Oe.errored,e==null||e(Xt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(P).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Xt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Oe.joined&&e===Ur.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:u}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,h,d;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Oe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(jt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new vl(this,jt.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oe.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),u}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new vl(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Q0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,a;const u=e.toLocaleLowerCase(),{close:h,error:d,leave:p,join:g}=jt;if(r&&[h,d,p,g].indexOf(u)>=0&&r!==this._joinRef())return;let w=this._onMessage(u,n,r);if(n&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(P=>{var E,C,z;return((E=P.filter)===null||E===void 0?void 0:E.event)==="*"||((z=(C=P.filter)===null||C===void 0?void 0:C.event)===null||z===void 0?void 0:z.toLocaleLowerCase())===u}).map(P=>P.callback(w,r)):(a=this.bindings[u])===null||a===void 0||a.filter(P=>{var E,C,z,S,y,x;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in P){const b=P.id,M=(E=P.filter)===null||E===void 0?void 0:E.event;return b&&((C=n.ids)===null||C===void 0?void 0:C.includes(b))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((z=n.data)===null||z===void 0?void 0:z.type.toLocaleLowerCase()))}else{const b=(y=(S=P==null?void 0:P.filter)===null||S===void 0?void 0:S.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return b==="*"||b===((x=n==null?void 0:n.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return P.type.toLocaleLowerCase()===u}).map(P=>{if(typeof w=="object"&&"ids"in w){const E=w.data,{schema:C,table:z,commit_timestamp:S,type:y,errors:x}=E;w=Object.assign(Object.assign({},{schema:C,table:z,commit_timestamp:S,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(E))}P.callback(w,r)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Lc.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(jt.close,{},e)}_onError(e){this._on(jt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=nf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=nf(e.columns,e.old_record)),n}}const yl=()=>{},Qs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},sw=[1e3,2e3,5e3,1e4],ow=1e4,aw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lw{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wu,this.transport=null,this.heartbeatIntervalMs=Qs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yl,this.ref=0,this.reconnectTimer=null,this.logger=yl,this.conn=null,this.sendBuffer=[],this.serializer=new Y0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...u)=>hs(async()=>{const{default:h}=await Promise.resolve().then(()=>Xi);return{default:h}},void 0).then(({default:h})=>h(...u)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...u)=>a(...u)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${xu.websocket}`,this.httpEndpoint=qm(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=V0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:G0}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Br.connecting:return Vn.Connecting;case Br.open:return Vn.Open;case Br.closing:return Vn.Closing;default:return Vn.Closed}}isConnected(){return this.connectionState()===Vn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new Lc(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:o,ref:a}=e,u=()=>{this.encode(e,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${n} ${r} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(J0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Qs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:a,ref:u}=n,h=u?`(${u})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${o} ${h}`.trim(),a),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(jt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([aw],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const o={access_token:n,version:K0};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(jt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Hm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,a,u,h,d,p,g;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:wu,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Qs.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:yl,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:v=>sw[v-1]||ow,this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(v,w)=>w(JSON.stringify(v)),this.decode=(g=e==null?void 0:e.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Oc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function je(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class uw extends Oc{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Su extends Oc{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var cw=function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(v){u(v)}}function d(g){try{p(r.throw(g))}catch(v){u(v)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const Km=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>hs(async()=>{const{default:r}=await Promise.resolve().then(()=>Xi);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},hw=()=>cw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hs(()=>Promise.resolve().then(()=>Xi),void 0)).Response:Response}),Pu=t=>{if(Array.isArray(t))return t.map(n=>Pu(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Pu(r)}),e},dw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var si=function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(v){u(v)}}function d(g){try{p(r.throw(g))}catch(v){u(v)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const wl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fw=(t,e,n)=>si(void 0,void 0,void 0,function*(){const r=yield hw();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{const a=t.status||500,u=(o==null?void 0:o.statusCode)||a+"";e(new uw(wl(o),a,u))}).catch(o=>{e(new Su(wl(o),o))}):e(new Su(wl(t),t))}),pw=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?o:(dw(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function fs(t,e,n,r,o,a){return si(this,void 0,void 0,function*(){return new Promise((u,h)=>{t(n,pw(e,r,o,a)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>fw(d,h,r))})})}function Bo(t,e,n,r){return si(this,void 0,void 0,function*(){return fs(t,"GET",e,n,r)})}function Ft(t,e,n,r,o){return si(this,void 0,void 0,function*(){return fs(t,"POST",e,r,o,n)})}function bu(t,e,n,r,o){return si(this,void 0,void 0,function*(){return fs(t,"PUT",e,r,o,n)})}function mw(t,e,n,r){return si(this,void 0,void 0,function*(){return fs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Gm(t,e,n,r,o){return si(this,void 0,void 0,function*(){return fs(t,"DELETE",e,r,o,n)})}var Ve=function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(v){u(v)}}function d(g){try{p(r.throw(g))}catch(v){u(v)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const gw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},of={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _w{constructor(e,n={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Km(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,o){return Ve(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},of),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const d=u.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,d&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const p=this._removeEmptyFolders(n),g=this._getFinalPath(p),v=yield(e=="PUT"?bu:Ft)(this.fetch,`${this.url}/object/${g}`,a,Object.assign({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:v.Id,fullPath:v.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(je(a))return{data:null,error:a};throw a}})}upload(e,n,r){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return Ve(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let d;const p=Object.assign({upsert:of.upsert},o),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",p.cacheControl)):(d=r,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType);const v=yield bu(this.fetch,h.toString(),d,{headers:g});return{data:{path:a,fullPath:v.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(je(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return Ve(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield Ft(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(this.url+a.url),h=u.searchParams.get("token");if(!h)throw new Oc("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}update(e,n,r){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Ve(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(je(o))return{data:null,error:o};throw o}})}copy(e,n,r){return Ve(this,void 0,void 0,function*(){try{return{data:{path:(yield Ft(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(je(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return Ve(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield Ft(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(je(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return Ve(this,void 0,void 0,function*(){try{const o=yield Ft(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(je(o))return{data:null,error:o};throw o}})}download(e,n){return Ve(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=a?`?${a}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield Bo(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(je(h))return{data:null,error:h};throw h}})}info(e){return Ve(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Bo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Pu(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}exists(e){return Ve(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield mw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r)&&r instanceof Su){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&o.push(d);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(e){return Ve(this,void 0,void 0,function*(){try{return{data:yield Gm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}list(e,n,r){return Ve(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},gw),n),{prefix:e||""});return{data:yield Ft(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(je(o))return{data:null,error:o};throw o}})}listV2(e,n){return Ve(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Ft(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const vw="2.12.1",yw={"X-Client-Info":`storage-js/${vw}`};var gi=function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(v){u(v)}}function d(g){try{p(r.throw(g))}catch(v){u(v)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class ww{constructor(e,n={},r,o){this.shouldThrowOnError=!1;const a=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},yw),n),this.fetch=Km(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return gi(this,void 0,void 0,function*(){try{return{data:yield Bo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(je(e))return{data:null,error:e};throw e}})}getBucket(e){return gi(this,void 0,void 0,function*(){try{return{data:yield Bo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return gi(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return gi(this,void 0,void 0,function*(){try{return{data:yield bu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(je(r))return{data:null,error:r};throw r}})}emptyBucket(e){return gi(this,void 0,void 0,function*(){try{return{data:yield Ft(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}deleteBucket(e){return gi(this,void 0,void 0,function*(){try{return{data:yield Gm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(je(n))return{data:null,error:n};throw n}})}}class xw extends ww{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new _w(this.url,this.headers,e,this.fetch)}}const kw="2.57.4";let Lr="";typeof Deno<"u"?Lr="deno":typeof document<"u"?Lr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Lr="react-native":Lr="node";const Sw={"X-Client-Info":`supabase-js-${Lr}/${kw}`},Pw={headers:Sw},bw={schema:"public"},Tw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ew={};var Cw=function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(v){u(v)}}function d(g){try{p(r.throw(g))}catch(v){u(v)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const Lw=t=>{let e;return t?e=t:typeof fetch>"u"?e=Im:e=fetch,(...n)=>e(...n)},Ow=()=>typeof Headers>"u"?Mm:Headers,jw=(t,e,n)=>{const r=Lw(n),o=Ow();return(a,u)=>Cw(void 0,void 0,void 0,function*(){var h;const d=(h=yield e())!==null&&h!==void 0?h:t;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},u),{headers:p}))})};var Nw=function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(v){u(v)}}function d(g){try{p(r.throw(g))}catch(v){u(v)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};function Aw(t){return t.endsWith("/")?t:t+"/"}function Iw(t,e){var n,r;const{db:o,auth:a,realtime:u,global:h}=t,{db:d,auth:p,realtime:g,global:v}=e,w={db:Object.assign(Object.assign({},d),o),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},v),h),{headers:Object.assign(Object.assign({},(n=v==null?void 0:v.headers)!==null&&n!==void 0?n:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Nw(this,void 0,void 0,function*(){return""})};return t.accessToken?w.accessToken=t.accessToken:delete w.accessToken,w}function Mw(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Aw(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Jm="2.71.1",xi=30*1e3,Tu=3,xl=Tu*xi,Rw="http://localhost:9999",zw="supabase.auth.token",Dw={"X-Client-Info":`gotrue-js/${Jm}`},Eu="X-Supabase-Api-Version",Qm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$w=10*60*1e3;class jc extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function J(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Uw extends jc{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Fw(t){return J(t)&&t.name==="AuthApiError"}class Ym extends jc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Mn extends jc{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}}class pn extends Mn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Zw(t){return J(t)&&t.name==="AuthSessionMissingError"}class Ys extends Mn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Xs extends Mn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class eo extends Mn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ww(t){return J(t)&&t.name==="AuthImplicitGrantRedirectError"}class af extends Mn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Cu extends Mn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function kl(t){return J(t)&&t.name==="AuthRetryableFetchError"}class lf extends Mn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Lu extends Mn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const $o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uf=` 	
\r=`.split(""),Hw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<uf.length;e+=1)t[uf[e].charCodeAt(0)]=-2;for(let e=0;e<$o.length;e+=1)t[$o[e].charCodeAt(0)]=e;return t})();function cf(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n($o[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n($o[r]),e.queuedBits-=6}}function Xm(t,e,n){const r=Hw[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function hf(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{Kw(u,r,n)};for(let u=0;u<t.length;u+=1)Xm(t.charCodeAt(u),o,a);return e.join("")}function Vw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function qw(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}Vw(r,e)}}function Kw(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Gw(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Xm(t.charCodeAt(o),n,r);return new Uint8Array(e)}function Jw(t){const e=[];return qw(t,n=>e.push(n)),new Uint8Array(e)}function Qw(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>cf(o,n,r)),cf(null,n,r),e.join("")}function Yw(t){return Math.round(Date.now()/1e3)+t}function Xw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ct=()=>typeof window<"u"&&typeof document<"u",Un={tested:!1,writable:!1},eg=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Un.tested)return Un.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Un.tested=!0,Un.writable=!0}catch{Un.tested=!0,Un.writable=!1}return Un.writable};function ex(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}const tg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>hs(async()=>{const{default:r}=await Promise.resolve().then(()=>Xi);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},tx=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ki=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Fn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fn=async(t,e)=>{await t.removeItem(e)};class aa{constructor(){this.promise=new aa.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}aa.promiseConstructor=Promise;function Sl(t){const e=t.split(".");if(e.length!==3)throw new Lu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Bw.test(e[r]))throw new Lu("JWT not in base64url format");return{header:JSON.parse(hf(e[0])),payload:JSON.parse(hf(e[1])),signature:Gw(e[2]),raw:{header:e[0],payload:e[1]}}}async function nx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ix(t,e){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){r(u);return}}catch(u){if(!e(a,u)){o(u);return}}})()})}function rx(t){return("0"+t.toString(16)).substr(-2)}function sx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,rx).join("")}async function ox(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function ax(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await ox(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _i(t,e,n=!1){const r=sx();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await ki(t,`${e}-code-verifier`,o);const a=await ax(r);return[a,r===a?"plain":"s256"]}const lx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ux(t){const e=t.headers.get(Eu);if(!e||!e.match(lx))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function cx(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function hx(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const dx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vi(t){if(!dx.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pl(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function df(t){return JSON.parse(JSON.stringify(t))}var fx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Hn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),px=[502,503,504];async function ff(t){var e;if(!tx(t))throw new Cu(Hn(t),0);if(px.includes(t.status))throw new Cu(Hn(t),t.status);let n;try{n=await t.json()}catch(a){throw new Ym(Hn(a),a)}let r;const o=ux(t);if(o&&o.getTime()>=Qm["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new lf(Hn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new pn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new lf(Hn(n),t.status,n.weak_password.reasons);throw new Uw(Hn(n),t.status||500,r)}const mx=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function ee(t,e,n,r){var o;const a=Object.assign({},r==null?void 0:r.headers);a[Eu]||(a[Eu]=Qm["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const u=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",d=await gx(t,e,n+h,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function gx(t,e,n,r,o,a){const u=mx(e,r,o,a);let h;try{h=await t(n,Object.assign({},u))}catch(d){throw console.error(d),new Cu(Hn(d),0)}if(h.ok||await ff(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(d){await ff(d)}}function Qt(t){var e;let n=null;wx(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Yw(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function pf(t){const e=Qt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _x(t){return{data:t,error:null}}function vx(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a}=t,u=fx(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a},d=Object.assign({},u);return{data:{properties:h,user:d},error:null}}function yx(t){return t}function wx(t){return t.access_token&&t.refresh_token&&t.expires_in}const bl=["global","local","others"];var xx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};class kx{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=tg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=bl[0]){if(bl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bl.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yn})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=xx(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:vx,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(J(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yn})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,a,u,h,d;try{const p={nextPage:null,lastPage:0,total:0},g=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:yx});if(g.error)throw g.error;const v=await g.json(),w=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,P=(d=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return P.length>0&&(P.forEach(E=>{const C=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),z=JSON.parse(E.split(";")[1].split("=")[1]);p[`${z}Page`]=C}),p.total=parseInt(w)),{data:Object.assign(Object.assign({},v),p),error:null}}catch(p){if(J(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){vi(e);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yn})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){vi(e);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:yn})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){vi(e);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:yn})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){vi(e.userId);try{const{data:n,error:r}=await ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(J(n))return{data:null,error:n};throw n}}async _deleteFactor(e){vi(e.userId),vi(e.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}}function mf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function Sx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const yi={debug:!!(globalThis&&eg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ng extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Px extends ng{}async function bx(t,e,n){yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),yi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Px(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(yi.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Sx();const Tx={url:Rw,storageKey:zw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Dw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function gf(t,e,n){return await n()}const wi={};class ss{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ss.nextInstanceID,ss.nextInstanceID+=1,this.instanceID>0&&Ct()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Tx),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new kx({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=tg(o.fetch),this.lock=o.lock||gf,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ct()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=bx:this.lock=gf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:eg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=mf(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=mf(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=wi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){wi[this.storageKey]=Object.assign(Object.assign({},wi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=wi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){wi[this.storageKey]=Object.assign(Object.assign({},wi[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Jm}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=ex(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ct()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Ww(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return J(n)?{error:n}:{error:new Ym("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,o;try{const a=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Qt}),{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,o;try{let a;if("email"in e){const{email:g,password:v,options:w}=e;let P=null,E=null;this.flowType==="pkce"&&([P,E]=await _i(this.storage,this.storageKey)),a=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w==null?void 0:w.emailRedirectTo,body:{email:g,password:v,data:(n=w==null?void 0:w.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken},code_challenge:P,code_challenge_method:E},xform:Qt})}else if("phone"in e){const{phone:g,password:v,options:w}=e;a=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:v,data:(r=w==null?void 0:w.data)!==null&&r!==void 0?r:{},channel:(o=w==null?void 0:w.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w==null?void 0:w.captchaToken}},xform:Qt})}else throw new Xs("You must provide either an email or phone number and a password");const{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:u,options:h}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:pf})}else if("phone"in e){const{phone:a,password:u,options:h}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:pf})}else throw new Xs("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ys}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,o,a,u,h,d,p,g,v,w,P;let E,C;if("message"in e)E=e.message,C=e.signature;else{const{chain:z,wallet:S,statement:y,options:x}=e;let b;if(Ct())if(typeof S=="object")b=S;else{const I=window;if("solana"in I&&typeof I.solana=="object"&&("signIn"in I.solana&&typeof I.solana.signIn=="function"||"signMessage"in I.solana&&typeof I.solana.signMessage=="function"))b=I.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=S}const M=new URL((n=x==null?void 0:x.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in b&&b.signIn){const I=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),y?{statement:y}:null));let D;if(Array.isArray(I)&&I[0]&&typeof I[0]=="object")D=I[0];else if(I&&typeof I=="object"&&"signedMessage"in I&&"signature"in I)D=I;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)E=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),C=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${M.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(o=(r=x==null?void 0:x.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=x==null?void 0:x.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((h=x==null?void 0:x.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((d=x==null?void 0:x.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((p=x==null?void 0:x.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((v=(g=x==null?void 0:x.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||v===void 0)&&v.length?["Resources",...x.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const I=await b.signMessage(new TextEncoder().encode(E),"utf8");if(!I||!(I instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=I}}try{const{data:z,error:S}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:Qw(C)},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(P=e.options)===null||P===void 0?void 0:P.captchaToken}}:null),xform:Qt});if(S)throw S;return!z||!z.session||!z.user?{data:{user:null,session:null},error:new Ys}:(z.session&&(await this._saveSession(z.session),await this._notifyAllSubscribers("SIGNED_IN",z.session)),{data:Object.assign({},z),error:S})}catch(z){if(J(z))return{data:{user:null,session:null},error:z};throw z}}async _exchangeCodeForSession(e){const n=await Fn(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:a,error:u}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Qt});if(await fn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Ys}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(J(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:o,access_token:a,nonce:u}=e,h=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Qt}),{data:d,error:p}=h;return p?{data:{user:null,session:null},error:p}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Ys}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:p})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,o,a,u;try{if("email"in e){const{email:h,options:d}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await _i(this.storage,this.storageKey));const{error:v}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:v}}if("phone"in e){const{phone:h,options:d}=e,{data:p,error:g}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=d==null?void 0:d.data)!==null&&o!==void 0?o:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(u=d==null?void 0:d.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g}}throw new Xs("You must provide either an email or phone number.")}catch(h){if(J(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,r;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:h}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Qt});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const d=u.session,p=u.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(o){if(J(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,r,o;try{let a=null,u=null;return this.flowType==="pkce"&&([a,u]=await _i(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:_x})}catch(a){if(J(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new pn;const{error:o}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(J(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:a}=e,{error:u}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:r,type:o,options:a}=e,{data:u,error:h}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Xs("You must provide either an email or phone number and a type")}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Fn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<xl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=await Fn(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Pl()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,p,g)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,p,g))})}return{data:{session:e},error:null}}const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yn}):await this._useSession(async n=>{var r,o,a;const{data:u,error:h}=n;if(h)throw h;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pn}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:yn})})}catch(n){if(J(n))return Zw(n)&&(await this._removeSession(),await fn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new pn;const u=o.session;let h=null,d=null;this.flowType==="pkce"&&e.email!=null&&([h,d]=await _i(this.storage,this.storageKey));const{data:p,error:g}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:d}),jwt:u.access_token,xform:yn});if(g)throw g;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new pn;const n=Date.now()/1e3;let r=n,o=!0,a=null;const{payload:u}=Sl(e.access_token);if(u.exp&&(r=u.exp,o=r<=n),o){const{session:h,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(J(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:u,error:h}=n;if(h)throw h;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new pn;const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(J(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ct())throw new eo("No browser detected.");if(e.error||e.error_description||e.error_code)throw new eo(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new af("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new eo("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new af("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(e.code);if(x)throw x;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:h,expires_at:d,token_type:p}=e;if(!a||!h||!u||!p)throw new eo("No session defined in URL");const g=Math.round(Date.now()/1e3),v=parseInt(h);let w=g+v;d&&(w=parseInt(d));const P=w-g;P*1e3<=xi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${P}s, should have been closer to ${v}s`);const E=w-v;g-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,w,g):g-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,w,g);const{data:C,error:z}=await this._getUser(a);if(z)throw z;const S={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:v,expires_at:w,refresh_token:u,token_type:p,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(r){if(J(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Fn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{error:a};const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(Fw(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await fn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Xw(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,o;try{const{data:{session:a},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await _i(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(J(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:o}=await this._useSession(async a=>{var u,h,d,p,g;const{data:v,error:w}=a;if(w)throw w;const P=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",P,{headers:this.headers,jwt:(g=(p=v.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(o)throw o;return Ct()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(J(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)throw u;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await ix(async o=>(o>0&&await nx(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qt})),(o,a)=>{const u=200*Math.pow(2,o);return a&&kl(a)&&Date.now()+u-r<xi})}catch(r){if(this._debug(n,"error",r),J(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ct()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await Fn(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Fn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await ki(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Pl()}else if(o&&!o.user&&!o.user){const u=await Fn(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await fn(this.storage,this.storageKey+"-user"),await ki(this.storage,this.storageKey,o)):o.user=Pl()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<xl;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${xl}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),kl(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new aa;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new pn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(o,"error",a),J(a)){const u={session:null,error:a};return kl(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(d){a.push(d)}});if(await Promise.all(u),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await ki(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=df(o);await ki(this.storage,this.storageKey,a)}else{const o=df(n);await ki(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await fn(this.storage,this.storageKey),await fn(this.storage,this.storageKey+"-code-verifier"),await fn(this.storage,this.storageKey+"-user"),this.userStorage&&await fn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ct()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),xi);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/xi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${xi}ms, refresh threshold is ${Tu} ticks`),o<=Tu&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ng)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,u]=await _i(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:p}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((o=d==null?void 0:d.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{data:null,error:a};const{data:u,error:h}=await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(J(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],o=r.filter(u=>u.factor_type==="totp"&&u.status==="verified"),a=r.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:r,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:o},error:a}=e;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Sl(o.access_token);let h=null;u.aal&&(h=u.aal);let d=h;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(v=>v.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const g=u.amr||[];return{data:{currentLevel:h,nextLevel:d,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(h=>h.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(h=>h.kid===e),r&&this.jwks_cached_at+$w>o)return r;const{data:a,error:u}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,r=a.keys.find(h=>h.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:P,error:E}=await this.getSession();if(E||!P.session)return{data:null,error:E};r=P.session.access_token}const{header:o,payload:a,signature:u,raw:{header:h,payload:d}}=Sl(r);n!=null&&n.allowExpired||cx(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:P}=await this.getUser(r);if(P)throw P;return{data:{claims:a,header:o,signature:u},error:null}}const g=hx(o.alg),v=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,v,u,Jw(`${h}.${d}`)))throw new Lu("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}}ss.nextInstanceID=0;const Ex=ss;class Cx extends Ex{constructor(e){super(e)}}var Lx=function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(g){try{p(r.next(g))}catch(v){u(v)}}function d(g){try{p(r.throw(g))}catch(v){u(v)}}function p(g){g.done?a(g.value):o(g.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class Ox{constructor(e,n,r){var o,a,u;this.supabaseUrl=e,this.supabaseKey=n;const h=Mw(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const d=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:bw,realtime:Ew,auth:Object.assign(Object.assign({},Tw),{storageKey:d}),global:Pw},g=Iw(r??{},p);this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,w)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(w)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=g.auth)!==null&&u!==void 0?u:{},this.headers,g.global.fetch),this.fetch=jw(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new H0(new URL("rest/v1",h).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new xw(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new S0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Lx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:a,storageKey:u,flowType:h,lock:d,debug:p},g,v){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Cx({url:this.authUrl.href,headers:Object.assign(Object.assign({},w),g),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:a,flowType:h,lock:d,debug:p,fetch:v,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lw(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const jx=(t,e,n)=>new Ox(t,e,n);function Nx(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Nx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Ax="https://wicptuoulsuoberykfxy.supabase.co",Ix="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndpY3B0dW91bHN1b2JlcnlrZnh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk3MDA2NzEsImV4cCI6MjA4NTI3NjY3MX0.RFhjK1FWgGspxcK6YPKZA_XUyWlKm5cIywTe4Hmk6Nk",wt=jx(Ax,Ix);function ig(t,e){const n=B.useRef(e);B.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}function Mx(t,e,n){e.center!==n.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==n.radius&&t.setRadius(e.radius)}const Rx=1;function zx(t){return Object.freeze({__version:Rx,map:t})}function rg(t,e){return Object.freeze({...t,...e})}const sg=B.createContext(null),og=sg.Provider;function Nc(){const t=B.useContext(sg);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function Dx(t){function e(n,r){const{instance:o,context:a}=t(n).current;return B.useImperativeHandle(r,()=>o),n.children==null?null:Tl.createElement(og,{value:a},n.children)}return B.forwardRef(e)}function Bx(t){function e(n,r){const[o,a]=B.useState(!1),{instance:u}=t(n,a).current;B.useImperativeHandle(r,()=>u),B.useEffect(function(){o&&u.update()},[u,o,n.children]);const h=u._contentNode;return h?jm.createPortal(n.children,h):null}return B.forwardRef(e)}function $x(t){function e(n,r){const{instance:o}=t(n).current;return B.useImperativeHandle(r,()=>o),null}return B.forwardRef(e)}function Ac(t,e){const n=B.useRef();B.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function la(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function Ux(t,e){return function(r,o){const a=Nc(),u=t(la(r,a),a);return ig(a.map,r.attribution),Ac(u.current,r.eventHandlers),e(u.current,a,r,o),u}}var Ou={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(ut,function(n){var r="1.9.4";function o(i){var s,l,c,f;for(l=1,c=arguments.length;l<c;l++){f=arguments[l];for(s in f)i[s]=f[s]}return i}var a=Object.create||function(){function i(){}return function(s){return i.prototype=s,new i}}();function u(i,s){var l=Array.prototype.slice;if(i.bind)return i.bind.apply(i,l.call(arguments,1));var c=l.call(arguments,2);return function(){return i.apply(s,c.length?c.concat(l.call(arguments)):arguments)}}var h=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++h),i._leaflet_id}function p(i,s,l){var c,f,m,k;return k=function(){c=!1,f&&(m.apply(l,f),f=!1)},m=function(){c?f=arguments:(i.apply(l,arguments),setTimeout(k,s),c=!0)},m}function g(i,s,l){var c=s[1],f=s[0],m=c-f;return i===c&&l?i:((i-f)%m+m)%m+f}function v(){return!1}function w(i,s){if(s===!1)return i;var l=Math.pow(10,s===void 0?6:s);return Math.round(i*l)/l}function P(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function E(i){return P(i).split(/\s+/)}function C(i,s){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?a(i.options):{});for(var l in s)i.options[l]=s[l];return i.options}function z(i,s,l){var c=[];for(var f in i)c.push(encodeURIComponent(l?f.toUpperCase():f)+"="+encodeURIComponent(i[f]));return(!s||s.indexOf("?")===-1?"?":"&")+c.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function y(i,s){return i.replace(S,function(l,c){var f=s[c];if(f===void 0)throw new Error("No value provided for variable "+l);return typeof f=="function"&&(f=f(s)),f})}var x=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function b(i,s){for(var l=0;l<i.length;l++)if(i[l]===s)return l;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function I(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var D=0;function U(i){var s=+new Date,l=Math.max(0,16-(s-D));return D=s+l,window.setTimeout(i,l)}var le=window.requestAnimationFrame||I("RequestAnimationFrame")||U,Q=window.cancelAnimationFrame||I("CancelAnimationFrame")||I("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function ue(i,s,l){if(l&&le===U)i.call(s);else return le.call(window,u(i,s))}function ke(i){i&&Q.call(window,i)}var Vt={__proto__:null,extend:o,create:a,bind:u,get lastId(){return h},stamp:d,throttle:p,wrapNum:g,falseFn:v,formatNum:w,trim:P,splitWords:E,setOptions:C,getParamString:z,template:y,isArray:x,indexOf:b,emptyImageUrl:M,requestFn:le,cancelFn:Q,requestAnimFrame:ue,cancelAnimFrame:ke};function Qe(){}Qe.extend=function(i){var s=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=s.__super__=this.prototype,c=a(l);c.constructor=s,s.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(s[f]=this[f]);return i.statics&&o(s,i.statics),i.includes&&(tr(i.includes),o.apply(null,[c].concat(i.includes))),o(c,i),delete c.statics,delete c.includes,c.options&&(c.options=l.options?a(l.options):{},o(c.options,i.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,k=c._initHooks.length;m<k;m++)c._initHooks[m].call(this)}},s},Qe.include=function(i){var s=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=s,this.mergeOptions(i.options)),this},Qe.mergeOptions=function(i){return o(this.prototype.options,i),this},Qe.addInitHook=function(i){var s=Array.prototype.slice.call(arguments,1),l=typeof i=="function"?i:function(){this[i].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function tr(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=x(i)?i:[i];for(var s=0;s<i.length;s++)i[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Ce={on:function(i,s,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],s);else{i=E(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],s,l)}return this},off:function(i,s,l){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var c in i)this._off(c,i[c],s);else{i=E(i);for(var f=arguments.length===1,m=0,k=i.length;m<k;m++)f?this._off(i[m]):this._off(i[m],s,l)}return this},_on:function(i,s,l,c){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(i,s,l)===!1){l===this&&(l=void 0);var f={fn:s,ctx:l};c&&(f.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(f)}},_off:function(i,s,l){var c,f,m;if(this._events&&(c=this._events[i],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,m=c.length;f<m;f++)c[f].fn=v;delete this._events[i];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var k=this._listens(i,s,l);if(k!==!1){var T=c[k];this._firingCount&&(T.fn=v,this._events[i]=c=c.slice()),c.splice(k,1)}}},fire:function(i,s,l){if(!this.listens(i,l))return this;var c=o({},s,{type:i,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var f=this._events[i];if(f){this._firingCount=this._firingCount+1||1;for(var m=0,k=f.length;m<k;m++){var T=f[m],O=T.fn;T.once&&this.off(i,O,T.ctx),O.call(T.ctx||this,c)}this._firingCount--}}return l&&this._propagateEvent(c),this},listens:function(i,s,l,c){typeof i!="string"&&console.warn('"string" type argument expected');var f=s;typeof s!="function"&&(c=!!s,f=void 0,l=void 0);var m=this._events&&this._events[i];if(m&&m.length&&this._listens(i,f,l)!==!1)return!0;if(c){for(var k in this._eventParents)if(this._eventParents[k].listens(i,s,l,c))return!0}return!1},_listens:function(i,s,l){if(!this._events)return!1;var c=this._events[i]||[];if(!s)return!!c.length;l===this&&(l=void 0);for(var f=0,m=c.length;f<m;f++)if(c[f].fn===s&&c[f].ctx===l)return f;return!1},once:function(i,s,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],s,!0);else{i=E(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],s,l,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var s in this._eventParents)this._eventParents[s].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};Ce.addEventListener=Ce.on,Ce.removeEventListener=Ce.clearAllEventListeners=Ce.off,Ce.addOneTimeEventListener=Ce.once,Ce.fireEvent=Ce.fire,Ce.hasEventListeners=Ce.listens;var ft=Qe.extend(Ce);function N(i,s,l){this.x=l?Math.round(i):i,this.y=l?Math.round(s):s}var V=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};N.prototype={clone:function(){return new N(this.x,this.y)},add:function(i){return this.clone()._add(j(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(j(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new N(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new N(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=V(this.x),this.y=V(this.y),this},distanceTo:function(i){i=j(i);var s=i.x-this.x,l=i.y-this.y;return Math.sqrt(s*s+l*l)},equals:function(i){return i=j(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=j(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+w(this.x)+", "+w(this.y)+")"}};function j(i,s,l){return i instanceof N?i:x(i)?new N(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new N(i.x,i.y):new N(i,s,l)}function Z(i,s){if(i)for(var l=s?[i,s]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}Z.prototype={extend:function(i){var s,l;if(!i)return this;if(i instanceof N||typeof i[0]=="number"||"x"in i)s=l=j(i);else if(i=K(i),s=i.min,l=i.max,!s||!l)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=l.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(i){return j((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return j(this.min.x,this.max.y)},getTopRight:function(){return j(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var s,l;return typeof i[0]=="number"||i instanceof N?i=j(i):i=K(i),i instanceof Z?(s=i.min,l=i.max):s=l=i,s.x>=this.min.x&&l.x<=this.max.x&&s.y>=this.min.y&&l.y<=this.max.y},intersects:function(i){i=K(i);var s=this.min,l=this.max,c=i.min,f=i.max,m=f.x>=s.x&&c.x<=l.x,k=f.y>=s.y&&c.y<=l.y;return m&&k},overlaps:function(i){i=K(i);var s=this.min,l=this.max,c=i.min,f=i.max,m=f.x>s.x&&c.x<l.x,k=f.y>s.y&&c.y<l.y;return m&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var s=this.min,l=this.max,c=Math.abs(s.x-l.x)*i,f=Math.abs(s.y-l.y)*i;return K(j(s.x-c,s.y-f),j(l.x+c,l.y+f))},equals:function(i){return i?(i=K(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function K(i,s){return!i||i instanceof Z?i:new Z(i,s)}function ce(i,s){if(i)for(var l=s?[i,s]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}ce.prototype={extend:function(i){var s=this._southWest,l=this._northEast,c,f;if(i instanceof ne)c=i,f=i;else if(i instanceof ce){if(c=i._southWest,f=i._northEast,!c||!f)return this}else return i?this.extend(q(i)||se(i)):this;return!s&&!l?(this._southWest=new ne(c.lat,c.lng),this._northEast=new ne(f.lat,f.lng)):(s.lat=Math.min(c.lat,s.lat),s.lng=Math.min(c.lng,s.lng),l.lat=Math.max(f.lat,l.lat),l.lng=Math.max(f.lng,l.lng)),this},pad:function(i){var s=this._southWest,l=this._northEast,c=Math.abs(s.lat-l.lat)*i,f=Math.abs(s.lng-l.lng)*i;return new ce(new ne(s.lat-c,s.lng-f),new ne(l.lat+c,l.lng+f))},getCenter:function(){return new ne((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ne(this.getNorth(),this.getWest())},getSouthEast:function(){return new ne(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof ne||"lat"in i?i=q(i):i=se(i);var s=this._southWest,l=this._northEast,c,f;return i instanceof ce?(c=i.getSouthWest(),f=i.getNorthEast()):c=f=i,c.lat>=s.lat&&f.lat<=l.lat&&c.lng>=s.lng&&f.lng<=l.lng},intersects:function(i){i=se(i);var s=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>=s.lat&&c.lat<=l.lat,k=f.lng>=s.lng&&c.lng<=l.lng;return m&&k},overlaps:function(i){i=se(i);var s=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>s.lat&&c.lat<l.lat,k=f.lng>s.lng&&c.lng<l.lng;return m&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,s){return i?(i=se(i),this._southWest.equals(i.getSouthWest(),s)&&this._northEast.equals(i.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function se(i,s){return i instanceof ce?i:new ce(i,s)}function ne(i,s,l){if(isNaN(i)||isNaN(s))throw new Error("Invalid LatLng object: ("+i+", "+s+")");this.lat=+i,this.lng=+s,l!==void 0&&(this.alt=+l)}ne.prototype={equals:function(i,s){if(!i)return!1;i=q(i);var l=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return l<=(s===void 0?1e-9:s)},toString:function(i){return"LatLng("+w(this.lat,i)+", "+w(this.lng,i)+")"},distanceTo:function(i){return st.distance(this,q(i))},wrap:function(){return st.wrapLatLng(this)},toBounds:function(i){var s=180*i/40075017,l=s/Math.cos(Math.PI/180*this.lat);return se([this.lat-s,this.lng-l],[this.lat+s,this.lng+l])},clone:function(){return new ne(this.lat,this.lng,this.alt)}};function q(i,s,l){return i instanceof ne?i:x(i)&&typeof i[0]!="object"?i.length===3?new ne(i[0],i[1],i[2]):i.length===2?new ne(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new ne(i.lat,"lng"in i?i.lng:i.lon,i.alt):s===void 0?null:new ne(i,s,l)}var Le={latLngToPoint:function(i,s){var l=this.projection.project(i),c=this.scale(s);return this.transformation._transform(l,c)},pointToLatLng:function(i,s){var l=this.scale(s),c=this.transformation.untransform(i,l);return this.projection.unproject(c)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var s=this.projection.bounds,l=this.scale(i),c=this.transformation.transform(s.min,l),f=this.transformation.transform(s.max,l);return new Z(c,f)},infinite:!1,wrapLatLng:function(i){var s=this.wrapLng?g(i.lng,this.wrapLng,!0):i.lng,l=this.wrapLat?g(i.lat,this.wrapLat,!0):i.lat,c=i.alt;return new ne(l,s,c)},wrapLatLngBounds:function(i){var s=i.getCenter(),l=this.wrapLatLng(s),c=s.lat-l.lat,f=s.lng-l.lng;if(c===0&&f===0)return i;var m=i.getSouthWest(),k=i.getNorthEast(),T=new ne(m.lat-c,m.lng-f),O=new ne(k.lat-c,k.lng-f);return new ce(T,O)}},st=o({},Le,{wrapLng:[-180,180],R:6371e3,distance:function(i,s){var l=Math.PI/180,c=i.lat*l,f=s.lat*l,m=Math.sin((s.lat-i.lat)*l/2),k=Math.sin((s.lng-i.lng)*l/2),T=m*m+Math.cos(c)*Math.cos(f)*k*k,O=2*Math.atan2(Math.sqrt(T),Math.sqrt(1-T));return this.R*O}}),ha=6378137,da={R:ha,MAX_LATITUDE:85.0511287798,project:function(i){var s=Math.PI/180,l=this.MAX_LATITUDE,c=Math.max(Math.min(l,i.lat),-l),f=Math.sin(c*s);return new N(this.R*i.lng*s,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(i){var s=180/Math.PI;return new ne((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*s,i.x*s/this.R)},bounds:function(){var i=ha*Math.PI;return new Z([-i,-i],[i,i])}()};function fa(i,s,l,c){if(x(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=s,this._c=l,this._d=c}fa.prototype={transform:function(i,s){return this._transform(i.clone(),s)},_transform:function(i,s){return s=s||1,i.x=s*(this._a*i.x+this._b),i.y=s*(this._c*i.y+this._d),i},untransform:function(i,s){return s=s||1,new N((i.x/s-this._b)/this._a,(i.y/s-this._d)/this._c)}};function nr(i,s,l,c){return new fa(i,s,l,c)}var pa=o({},st,{code:"EPSG:3857",projection:da,transformation:function(){var i=.5/(Math.PI*da.R);return nr(i,.5,-i,.5)}()}),ug=o({},pa,{code:"EPSG:900913"});function Mc(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Rc(i,s){var l="",c,f,m,k,T,O;for(c=0,m=i.length;c<m;c++){for(T=i[c],f=0,k=T.length;f<k;f++)O=T[f],l+=(f?"L":"M")+O.x+" "+O.y;l+=s?W.svg?"z":"x":""}return l||"M0 0"}var ma=document.documentElement.style,ms="ActiveXObject"in window,cg=ms&&!document.addEventListener,zc="msLaunchUri"in navigator&&!("documentMode"in document),ga=Rt("webkit"),Dc=Rt("android"),Bc=Rt("android 2")||Rt("android 3"),hg=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),dg=Dc&&Rt("Google")&&hg<537&&!("AudioNode"in window),_a=!!window.opera,$c=!zc&&Rt("chrome"),Uc=Rt("gecko")&&!ga&&!_a&&!ms,fg=!$c&&Rt("safari"),Fc=Rt("phantom"),Zc="OTransition"in ma,pg=navigator.platform.indexOf("Win")===0,Wc=ms&&"transition"in ma,va="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Bc,Hc="MozPerspective"in ma,mg=!window.L_DISABLE_3D&&(Wc||va||Hc)&&!Zc&&!Fc,ir=typeof orientation<"u"||Rt("mobile"),gg=ir&&ga,_g=ir&&va,Vc=!window.PointerEvent&&window.MSPointerEvent,qc=!!(window.PointerEvent||Vc),Kc="ontouchstart"in window||!!window.TouchEvent,vg=!window.L_NO_TOUCH&&(Kc||qc),yg=ir&&_a,wg=ir&&Uc,xg=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,kg=function(){var i=!1;try{var s=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",v,s),window.removeEventListener("testPassiveEventSupport",v,s)}catch{}return i}(),Sg=function(){return!!document.createElement("canvas").getContext}(),ya=!!(document.createElementNS&&Mc("svg").createSVGRect),Pg=!!ya&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),bg=!ya&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var s=i.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),Tg=navigator.platform.indexOf("Mac")===0,Eg=navigator.platform.indexOf("Linux")===0;function Rt(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var W={ie:ms,ielt9:cg,edge:zc,webkit:ga,android:Dc,android23:Bc,androidStock:dg,opera:_a,chrome:$c,gecko:Uc,safari:fg,phantom:Fc,opera12:Zc,win:pg,ie3d:Wc,webkit3d:va,gecko3d:Hc,any3d:mg,mobile:ir,mobileWebkit:gg,mobileWebkit3d:_g,msPointer:Vc,pointer:qc,touch:vg,touchNative:Kc,mobileOpera:yg,mobileGecko:wg,retina:xg,passiveEvents:kg,canvas:Sg,svg:ya,vml:bg,inlineSvg:Pg,mac:Tg,linux:Eg},Gc=W.msPointer?"MSPointerDown":"pointerdown",Jc=W.msPointer?"MSPointerMove":"pointermove",Qc=W.msPointer?"MSPointerUp":"pointerup",Yc=W.msPointer?"MSPointerCancel":"pointercancel",wa={touchstart:Gc,touchmove:Jc,touchend:Qc,touchcancel:Yc},Xc={touchstart:Ag,touchmove:gs,touchend:gs,touchcancel:gs},oi={},eh=!1;function Cg(i,s,l){return s==="touchstart"&&Ng(),Xc[s]?(l=Xc[s].bind(this,l),i.addEventListener(wa[s],l,!1),l):(console.warn("wrong event specified:",s),v)}function Lg(i,s,l){if(!wa[s]){console.warn("wrong event specified:",s);return}i.removeEventListener(wa[s],l,!1)}function Og(i){oi[i.pointerId]=i}function jg(i){oi[i.pointerId]&&(oi[i.pointerId]=i)}function th(i){delete oi[i.pointerId]}function Ng(){eh||(document.addEventListener(Gc,Og,!0),document.addEventListener(Jc,jg,!0),document.addEventListener(Qc,th,!0),document.addEventListener(Yc,th,!0),eh=!0)}function gs(i,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var l in oi)s.touches.push(oi[l]);s.changedTouches=[s],i(s)}}function Ag(i,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&ze(s),gs(i,s)}function Ig(i){var s={},l,c;for(c in i)l=i[c],s[c]=l&&l.bind?l.bind(i):l;return i=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var Mg=200;function Rg(i,s){i.addEventListener("dblclick",s);var l=0,c;function f(m){if(m.detail!==1){c=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var k=oh(m);if(!(k.some(function(O){return O instanceof HTMLLabelElement&&O.attributes.for})&&!k.some(function(O){return O instanceof HTMLInputElement||O instanceof HTMLSelectElement}))){var T=Date.now();T-l<=Mg?(c++,c===2&&s(Ig(m))):c=1,l=T}}}return i.addEventListener("click",f),{dblclick:s,simDblclick:f}}function zg(i,s){i.removeEventListener("dblclick",s.dblclick),i.removeEventListener("click",s.simDblclick)}var xa=ys(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),rr=ys(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),nh=rr==="webkitTransition"||rr==="OTransition"?rr+"End":"transitionend";function ih(i){return typeof i=="string"?document.getElementById(i):i}function sr(i,s){var l=i.style[s]||i.currentStyle&&i.currentStyle[s];if((!l||l==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(i,null);l=c?c[s]:null}return l==="auto"?null:l}function oe(i,s,l){var c=document.createElement(i);return c.className=s||"",l&&l.appendChild(c),c}function _e(i){var s=i.parentNode;s&&s.removeChild(i)}function _s(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function ai(i){var s=i.parentNode;s&&s.lastChild!==i&&s.appendChild(i)}function li(i){var s=i.parentNode;s&&s.firstChild!==i&&s.insertBefore(i,s.firstChild)}function ka(i,s){if(i.classList!==void 0)return i.classList.contains(s);var l=vs(i);return l.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(l)}function Y(i,s){if(i.classList!==void 0)for(var l=E(s),c=0,f=l.length;c<f;c++)i.classList.add(l[c]);else if(!ka(i,s)){var m=vs(i);Sa(i,(m?m+" ":"")+s)}}function Se(i,s){i.classList!==void 0?i.classList.remove(s):Sa(i,P((" "+vs(i)+" ").replace(" "+s+" "," ")))}function Sa(i,s){i.className.baseVal===void 0?i.className=s:i.className.baseVal=s}function vs(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function pt(i,s){"opacity"in i.style?i.style.opacity=s:"filter"in i.style&&Dg(i,s)}function Dg(i,s){var l=!1,c="DXImageTransform.Microsoft.Alpha";try{l=i.filters.item(c)}catch{if(s===1)return}s=Math.round(s*100),l?(l.Enabled=s!==100,l.Opacity=s):i.style.filter+=" progid:"+c+"(opacity="+s+")"}function ys(i){for(var s=document.documentElement.style,l=0;l<i.length;l++)if(i[l]in s)return i[l];return!1}function Rn(i,s,l){var c=s||new N(0,0);i.style[xa]=(W.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(l?" scale("+l+")":"")}function be(i,s){i._leaflet_pos=s,W.any3d?Rn(i,s):(i.style.left=s.x+"px",i.style.top=s.y+"px")}function zn(i){return i._leaflet_pos||new N(0,0)}var or,ar,Pa;if("onselectstart"in document)or=function(){G(window,"selectstart",ze)},ar=function(){he(window,"selectstart",ze)};else{var lr=ys(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);or=function(){if(lr){var i=document.documentElement.style;Pa=i[lr],i[lr]="none"}},ar=function(){lr&&(document.documentElement.style[lr]=Pa,Pa=void 0)}}function ba(){G(window,"dragstart",ze)}function Ta(){he(window,"dragstart",ze)}var ws,Ea;function Ca(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(xs(),ws=i,Ea=i.style.outlineStyle,i.style.outlineStyle="none",G(window,"keydown",xs))}function xs(){ws&&(ws.style.outlineStyle=Ea,ws=void 0,Ea=void 0,he(window,"keydown",xs))}function rh(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function La(i){var s=i.getBoundingClientRect();return{x:s.width/i.offsetWidth||1,y:s.height/i.offsetHeight||1,boundingClientRect:s}}var Bg={__proto__:null,TRANSFORM:xa,TRANSITION:rr,TRANSITION_END:nh,get:ih,getStyle:sr,create:oe,remove:_e,empty:_s,toFront:ai,toBack:li,hasClass:ka,addClass:Y,removeClass:Se,setClass:Sa,getClass:vs,setOpacity:pt,testProp:ys,setTransform:Rn,setPosition:be,getPosition:zn,get disableTextSelection(){return or},get enableTextSelection(){return ar},disableImageDrag:ba,enableImageDrag:Ta,preventOutline:Ca,restoreOutline:xs,getSizedParentNode:rh,getScale:La};function G(i,s,l,c){if(s&&typeof s=="object")for(var f in s)ja(i,f,s[f],l);else{s=E(s);for(var m=0,k=s.length;m<k;m++)ja(i,s[m],l,c)}return this}var zt="_leaflet_events";function he(i,s,l,c){if(arguments.length===1)sh(i),delete i[zt];else if(s&&typeof s=="object")for(var f in s)Na(i,f,s[f],l);else if(s=E(s),arguments.length===2)sh(i,function(T){return b(s,T)!==-1});else for(var m=0,k=s.length;m<k;m++)Na(i,s[m],l,c);return this}function sh(i,s){for(var l in i[zt]){var c=l.split(/\d/)[0];(!s||s(c))&&Na(i,c,null,null,l)}}var Oa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function ja(i,s,l,c){var f=s+d(l)+(c?"_"+d(c):"");if(i[zt]&&i[zt][f])return this;var m=function(T){return l.call(c||i,T||window.event)},k=m;!W.touchNative&&W.pointer&&s.indexOf("touch")===0?m=Cg(i,s,m):W.touch&&s==="dblclick"?m=Rg(i,m):"addEventListener"in i?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?i.addEventListener(Oa[s]||s,m,W.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(m=function(T){T=T||window.event,Ia(i,T)&&k(T)},i.addEventListener(Oa[s],m,!1)):i.addEventListener(s,k,!1):i.attachEvent("on"+s,m),i[zt]=i[zt]||{},i[zt][f]=m}function Na(i,s,l,c,f){f=f||s+d(l)+(c?"_"+d(c):"");var m=i[zt]&&i[zt][f];if(!m)return this;!W.touchNative&&W.pointer&&s.indexOf("touch")===0?Lg(i,s,m):W.touch&&s==="dblclick"?zg(i,m):"removeEventListener"in i?i.removeEventListener(Oa[s]||s,m,!1):i.detachEvent("on"+s,m),i[zt][f]=null}function Dn(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Aa(i){return ja(i,"wheel",Dn),this}function ur(i){return G(i,"mousedown touchstart dblclick contextmenu",Dn),i._leaflet_disable_click=!0,this}function ze(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Bn(i){return ze(i),Dn(i),this}function oh(i){if(i.composedPath)return i.composedPath();for(var s=[],l=i.target;l;)s.push(l),l=l.parentNode;return s}function ah(i,s){if(!s)return new N(i.clientX,i.clientY);var l=La(s),c=l.boundingClientRect;return new N((i.clientX-c.left)/l.x-s.clientLeft,(i.clientY-c.top)/l.y-s.clientTop)}var $g=W.linux&&W.chrome?window.devicePixelRatio:W.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function lh(i){return W.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/$g:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Ia(i,s){var l=s.relatedTarget;if(!l)return!0;try{for(;l&&l!==i;)l=l.parentNode}catch{return!1}return l!==i}var Ug={__proto__:null,on:G,off:he,stopPropagation:Dn,disableScrollPropagation:Aa,disableClickPropagation:ur,preventDefault:ze,stop:Bn,getPropagationPath:oh,getMousePosition:ah,getWheelDelta:lh,isExternalTarget:Ia,addListener:G,removeListener:he},uh=ft.extend({run:function(i,s,l,c){this.stop(),this._el=i,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=zn(i),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ue(this._animate,this),this._step()},_step:function(i){var s=+new Date-this._startTime,l=this._duration*1e3;s<l?this._runFrame(this._easeOut(s/l),i):(this._runFrame(1),this._complete())},_runFrame:function(i,s){var l=this._startPos.add(this._offset.multiplyBy(i));s&&l._round(),be(this._el,l),this.fire("step")},_complete:function(){ke(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),ie=ft.extend({options:{crs:pa,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,s){s=C(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(q(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=rr&&W.any3d&&!W.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),G(this._proxy,nh,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,s,l){if(s=s===void 0?this._zoom:this._limitZoom(s),i=this._limitCenter(q(i),s,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=o({animate:l.animate},l.zoom),l.pan=o({animate:l.animate,duration:l.duration},l.pan));var c=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,s,l.zoom):this._tryAnimatedPan(i,l.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(i,s,l.pan&&l.pan.noMoveStart),this},setZoom:function(i,s){return this._loaded?this.setView(this.getCenter(),i,{zoom:s}):(this._zoom=i,this)},zoomIn:function(i,s){return i=i||(W.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,s)},zoomOut:function(i,s){return i=i||(W.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,s)},setZoomAround:function(i,s,l){var c=this.getZoomScale(s),f=this.getSize().divideBy(2),m=i instanceof N?i:this.latLngToContainerPoint(i),k=m.subtract(f).multiplyBy(1-1/c),T=this.containerPointToLatLng(f.add(k));return this.setView(T,s,{zoom:l})},_getBoundsCenterZoom:function(i,s){s=s||{},i=i.getBounds?i.getBounds():se(i);var l=j(s.paddingTopLeft||s.padding||[0,0]),c=j(s.paddingBottomRight||s.padding||[0,0]),f=this.getBoundsZoom(i,!1,l.add(c));if(f=typeof s.maxZoom=="number"?Math.min(s.maxZoom,f):f,f===1/0)return{center:i.getCenter(),zoom:f};var m=c.subtract(l).divideBy(2),k=this.project(i.getSouthWest(),f),T=this.project(i.getNorthEast(),f),O=this.unproject(k.add(T).divideBy(2).add(m),f);return{center:O,zoom:f}},fitBounds:function(i,s){if(i=se(i),!i.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(i,s);return this.setView(l.center,l.zoom,s)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,s){return this.setView(i,this._zoom,{pan:s})},panBy:function(i,s){if(i=j(i).round(),s=s||{},!i.x&&!i.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new uh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Y(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,l,s.duration||.25,s.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,s,l){if(l=l||{},l.animate===!1||!W.any3d)return this.setView(i,s,l);this._stop();var c=this.project(this.getCenter()),f=this.project(i),m=this.getSize(),k=this._zoom;i=q(i),s=s===void 0?k:s;var T=Math.max(m.x,m.y),O=T*this.getZoomScale(k,s),A=f.distanceTo(c)||1,$=1.42,H=$*$;function X(Te){var As=Te?-1:1,L_=Te?O:T,O_=O*O-T*T+As*H*H*A*A,j_=2*L_*H*A,Ha=O_/j_,Zh=Math.sqrt(Ha*Ha+1)-Ha,N_=Zh<1e-9?-18:Math.log(Zh);return N_}function He(Te){return(Math.exp(Te)-Math.exp(-Te))/2}function Ie(Te){return(Math.exp(Te)+Math.exp(-Te))/2}function gt(Te){return He(Te)/Ie(Te)}var Ye=X(0);function pi(Te){return T*(Ie(Ye)/Ie(Ye+$*Te))}function b_(Te){return T*(Ie(Ye)*gt(Ye+$*Te)-He(Ye))/H}function T_(Te){return 1-Math.pow(1-Te,1.5)}var E_=Date.now(),Uh=(X(1)-Ye)/$,C_=l.duration?1e3*l.duration:1e3*Uh*.8;function Fh(){var Te=(Date.now()-E_)/C_,As=T_(Te)*Uh;Te<=1?(this._flyToFrame=ue(Fh,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(b_(As)/A)),k),this.getScaleZoom(T/pi(As),k),{flyTo:!0})):this._move(i,s)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),Fh.call(this),this},flyToBounds:function(i,s){var l=this._getBoundsCenterZoom(i,s);return this.flyTo(l.center,l.zoom,s)},setMaxBounds:function(i){return i=se(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var s=this.options.minZoom;return this.options.minZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var s=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,s){this._enforcingBounds=!0;var l=this.getCenter(),c=this._limitCenter(l,this._zoom,se(i));return l.equals(c)||this.panTo(c,s),this._enforcingBounds=!1,this},panInside:function(i,s){s=s||{};var l=j(s.paddingTopLeft||s.padding||[0,0]),c=j(s.paddingBottomRight||s.padding||[0,0]),f=this.project(this.getCenter()),m=this.project(i),k=this.getPixelBounds(),T=K([k.min.add(l),k.max.subtract(c)]),O=T.getSize();if(!T.contains(m)){this._enforcingBounds=!0;var A=m.subtract(T.getCenter()),$=T.extend(m).getSize().subtract(O);f.x+=A.x<0?-$.x:$.x,f.y+=A.y<0?-$.y:$.y,this.panTo(this.unproject(f),s),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),c=s.divideBy(2).round(),f=l.divideBy(2).round(),m=c.subtract(f);return!m.x&&!m.y?this:(i.animate&&i.pan?this.panBy(m):(i.pan&&this._rawPanBy(m),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),l=u(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,l,i):navigator.geolocation.getCurrentPosition(s,l,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var s=i.code,l=i.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var s=i.coords.latitude,l=i.coords.longitude,c=new ne(s,l),f=c.toBounds(i.coords.accuracy*2),m=this._locateOptions;if(m.setView){var k=this.getBoundsZoom(f);this.setView(c,m.maxZoom?Math.min(k,m.maxZoom):k)}var T={latlng:c,bounds:f,timestamp:i.timestamp};for(var O in i.coords)typeof i.coords[O]=="number"&&(T[O]=i.coords[O]);this.fire("locationfound",T)}},addHandler:function(i,s){if(!s)return this;var l=this[i]=new s(this);return this._handlers.push(l),this.options[i]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),_e(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ke(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)_e(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,s){var l="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),c=oe("div",l,s||this._mapPane);return i&&(this._panes[i]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),s=this.unproject(i.getBottomLeft()),l=this.unproject(i.getTopRight());return new ce(s,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,s,l){i=se(i),l=j(l||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),m=this.getMaxZoom(),k=i.getNorthWest(),T=i.getSouthEast(),O=this.getSize().subtract(l),A=K(this.project(T,c),this.project(k,c)).getSize(),$=W.any3d?this.options.zoomSnap:1,H=O.x/A.x,X=O.y/A.y,He=s?Math.max(H,X):Math.min(H,X);return c=this.getScaleZoom(He,c),$&&(c=Math.round(c/($/100))*($/100),c=s?Math.ceil(c/$)*$:Math.floor(c/$)*$),Math.max(f,Math.min(m,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new N(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,s){var l=this._getTopLeftPoint(i,s);return new Z(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,s){var l=this.options.crs;return s=s===void 0?this._zoom:s,l.scale(i)/l.scale(s)},getScaleZoom:function(i,s){var l=this.options.crs;s=s===void 0?this._zoom:s;var c=l.zoom(i*l.scale(s));return isNaN(c)?1/0:c},project:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(q(i),s)},unproject:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(j(i),s)},layerPointToLatLng:function(i){var s=j(i).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(i){var s=this.project(q(i))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(q(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(se(i))},distance:function(i,s){return this.options.crs.distance(q(i),q(s))},containerPointToLayerPoint:function(i){return j(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return j(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var s=this.containerPointToLayerPoint(j(i));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(i)))},mouseEventToContainerPoint:function(i){return ah(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var s=this._container=ih(i);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");G(s,"scroll",this._onScroll,this),this._containerId=d(s)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&W.any3d,Y(i,"leaflet-container"+(W.touch?" leaflet-touch":"")+(W.retina?" leaflet-retina":"")+(W.ielt9?" leaflet-oldie":"")+(W.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=sr(i,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),be(this._mapPane,new N(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Y(i.markerPane,"leaflet-zoom-hide"),Y(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,s,l){be(this._mapPane,new N(0,0));var c=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var f=this._zoom!==s;this._moveStart(f,l)._move(i,s)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(i,s){return i&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(i,s,l,c){s===void 0&&(s=this._zoom);var f=this._zoom!==s;return this._zoom=s,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),c?l&&l.pinch&&this.fire("zoom",l):((f||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ke(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){be(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var s=i?he:G;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),W.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ke(this._resizeRequest),this._resizeRequest=ue(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,s){for(var l=[],c,f=s==="mouseout"||s==="mouseover",m=i.target||i.srcElement,k=!1;m;){if(c=this._targets[d(m)],c&&(s==="click"||s==="preclick")&&this._draggableMoved(c)){k=!0;break}if(c&&c.listens(s,!0)&&(f&&!Ia(m,i)||(l.push(c),f))||m===this._container)break;m=m.parentNode}return!l.length&&!k&&!f&&this.listens(s,!0)&&(l=[this]),l},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var s=i.target||i.srcElement;if(!(!this._loaded||s._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(s))){var l=i.type;l==="mousedown"&&Ca(s),this._fireDOMEvent(i,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,s,l){if(i.type==="click"){var c=o({},i);c.type="preclick",this._fireDOMEvent(c,c.type,l)}var f=this._findEventTargets(i,s);if(l){for(var m=[],k=0;k<l.length;k++)l[k].listens(s,!0)&&m.push(l[k]);f=m.concat(f)}if(f.length){s==="contextmenu"&&ze(i);var T=f[0],O={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var A=T.getLatLng&&(!T._radius||T._radius<=10);O.containerPoint=A?this.latLngToContainerPoint(T.getLatLng()):this.mouseEventToContainerPoint(i),O.layerPoint=this.containerPointToLayerPoint(O.containerPoint),O.latlng=A?T.getLatLng():this.layerPointToLatLng(O.layerPoint)}for(k=0;k<f.length;k++)if(f[k].fire(s,O,!0),O.originalEvent._stopped||f[k].options.bubblingMouseEvents===!1&&b(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,s=this._handlers.length;i<s;i++)this._handlers[i].disable()},whenReady:function(i,s){return this._loaded?i.call(s||this,{target:this}):this.on("load",i,s),this},_getMapPanePos:function(){return zn(this._mapPane)||new N(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,s){var l=i&&s!==void 0?this._getNewPixelOrigin(i,s):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,s){var l=this.getSize()._divideBy(2);return this.project(i,s)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,s,l){var c=this._getNewPixelOrigin(l,s);return this.project(i,s)._subtract(c)},_latLngBoundsToNewLayerBounds:function(i,s,l){var c=this._getNewPixelOrigin(l,s);return K([this.project(i.getSouthWest(),s)._subtract(c),this.project(i.getNorthWest(),s)._subtract(c),this.project(i.getSouthEast(),s)._subtract(c),this.project(i.getNorthEast(),s)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,s,l){if(!l)return i;var c=this.project(i,s),f=this.getSize().divideBy(2),m=new Z(c.subtract(f),c.add(f)),k=this._getBoundsOffset(m,l,s);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?i:this.unproject(c.add(k),s)},_limitOffset:function(i,s){if(!s)return i;var l=this.getPixelBounds(),c=new Z(l.min.add(i),l.max.add(i));return i.add(this._getBoundsOffset(c,s))},_getBoundsOffset:function(i,s,l){var c=K(this.project(s.getNorthEast(),l),this.project(s.getSouthWest(),l)),f=c.min.subtract(i.min),m=c.max.subtract(i.max),k=this._rebound(f.x,-m.x),T=this._rebound(f.y,-m.y);return new N(k,T)},_rebound:function(i,s){return i+s>0?Math.round(i-s)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(s))},_limitZoom:function(i){var s=this.getMinZoom(),l=this.getMaxZoom(),c=W.any3d?this.options.zoomSnap:1;return c&&(i=Math.round(i/c)*c),Math.max(s,Math.min(l,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Se(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,s){var l=this._getCenterOffset(i)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,s),!0)},_createAnimProxy:function(){var i=this._proxy=oe("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(s){var l=xa,c=this._proxy.style[l];Rn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),c===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_e(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),s=this.getZoom();Rn(this._proxy,this.project(i,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,s,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(s),f=this._getCenterOffset(i)._divideBy(1-1/c);return l.animate!==!0&&!this.getSize().contains(f)?!1:(ue(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(i,s,!0)},this),!0)},_animateZoom:function(i,s,l,c){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=s,Y(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:s,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Se(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Fg(i,s){return new ie(i,s)}var bt=Qe.extend({options:{position:"topright"},initialize:function(i){C(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var s=this._map;return s&&s.removeControl(this),this.options.position=i,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var s=this._container=this.onAdd(i),l=this.getPosition(),c=i._controlCorners[l];return Y(s,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(s,c.firstChild):c.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(_e(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),cr=function(i){return new bt(i)};ie.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},s="leaflet-",l=this._controlContainer=oe("div",s+"control-container",this._container);function c(f,m){var k=s+f+" "+s+m;i[f+m]=oe("div",k,l)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)_e(this._controlCorners[i]);_e(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var ch=bt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,s,l,c){return l<c?-1:c<l?1:0}},initialize:function(i,s,l){C(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in i)this._addLayer(i[c],c);for(c in s)this._addLayer(s[c],c,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return bt.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,s){return this._addLayer(i,s),this._map?this._update():this},addOverlay:function(i,s){return this._addLayer(i,s,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var s=this._getLayer(d(i));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Y(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Y(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Se(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Se(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",s=this._container=oe("div",i),l=this.options.collapsed;s.setAttribute("aria-haspopup",!0),ur(s),Aa(s);var c=this._section=oe("section",i+"-list");l&&(this._map.on("click",this.collapse,this),G(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=oe("a",i+"-toggle",s);f.href="#",f.title="Layers",f.setAttribute("role","button"),G(f,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){ze(m),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=oe("div",i+"-base",c),this._separator=oe("div",i+"-separator",c),this._overlaysList=oe("div",i+"-overlays",c),s.appendChild(c)},_getLayer:function(i){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&d(this._layers[s].layer)===i)return this._layers[s]},_addLayer:function(i,s,l){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:s,overlay:l}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_s(this._baseLayersList),_s(this._overlaysList),this._layerControlInputs=[];var i,s,l,c,f=0;for(l=0;l<this._layers.length;l++)c=this._layers[l],this._addItem(c),s=s||c.overlay,i=i||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(i=i&&f>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=s&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var s=this._getLayer(d(i.target)),l=s.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;l&&this._map.fire(l,s)},_createRadioElement:function(i,s){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(s?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=l,c.firstChild},_addItem:function(i){var s=document.createElement("label"),l=this._map.hasLayer(i.layer),c;i.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=l):c=this._createRadioElement("leaflet-base-layers_"+d(this),l),this._layerControlInputs.push(c),c.layerId=d(i.layer),G(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+i.name;var m=document.createElement("span");s.appendChild(m),m.appendChild(c),m.appendChild(f);var k=i.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,s,l,c=[],f=[];this._handlingClick=!0;for(var m=i.length-1;m>=0;m--)s=i[m],l=this._getLayer(s.layerId).layer,s.checked?c.push(l):s.checked||f.push(l);for(m=0;m<f.length;m++)this._map.hasLayer(f[m])&&this._map.removeLayer(f[m]);for(m=0;m<c.length;m++)this._map.hasLayer(c[m])||this._map.addLayer(c[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,s,l,c=this._map.getZoom(),f=i.length-1;f>=0;f--)s=i[f],l=this._getLayer(s.layerId).layer,s.disabled=l.options.minZoom!==void 0&&c<l.options.minZoom||l.options.maxZoom!==void 0&&c>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,G(i,"click",ze),this.expand();var s=this;setTimeout(function(){he(i,"click",ze),s._preventClick=!1})}}),Zg=function(i,s,l){return new ch(i,s,l)},Ma=bt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var s="leaflet-control-zoom",l=oe("div",s+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,s+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,s+"-out",l,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,s,l,c,f){var m=oe("a",l,c);return m.innerHTML=i,m.href="#",m.title=s,m.setAttribute("role","button"),m.setAttribute("aria-label",s),ur(m),G(m,"click",Bn),G(m,"click",f,this),G(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var i=this._map,s="leaflet-disabled";Se(this._zoomInButton,s),Se(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Y(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Y(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});ie.mergeOptions({zoomControl:!0}),ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ma,this.addControl(this.zoomControl))});var Wg=function(i){return new Ma(i)},hh=bt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var s="leaflet-control-scale",l=oe("div",s),c=this.options;return this._addScales(c,s+"-line",l),i.on(c.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),l},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,s,l){i.metric&&(this._mScale=oe("div",s,l)),i.imperial&&(this._iScale=oe("div",s,l))},_update:function(){var i=this._map,s=i.getSize().y/2,l=i.distance(i.containerPointToLatLng([0,s]),i.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(l)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var s=this._getRoundNum(i),l=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,l,s/i)},_updateImperial:function(i){var s=i*3.2808399,l,c,f;s>5280?(l=s/5280,c=this._getRoundNum(l),this._updateScale(this._iScale,c+" mi",c/l)):(f=this._getRoundNum(s),this._updateScale(this._iScale,f+" ft",f/s))},_updateScale:function(i,s,l){i.style.width=Math.round(this.options.maxWidth*l)+"px",i.innerHTML=s},_getRoundNum:function(i){var s=Math.pow(10,(Math.floor(i)+"").length-1),l=i/s;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,s*l}}),Hg=function(i){return new hh(i)},Vg='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ra=bt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(W.inlineSvg?Vg+" ":"")+"Leaflet</a>"},initialize:function(i){C(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=oe("div","leaflet-control-attribution"),ur(this._container);for(var s in i._layers)i._layers[s].getAttribution&&this.addAttribution(i._layers[s].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var s in this._attributions)this._attributions[s]&&i.push(s);var l=[];this.options.prefix&&l.push(this.options.prefix),i.length&&l.push(i.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});ie.mergeOptions({attributionControl:!0}),ie.addInitHook(function(){this.options.attributionControl&&new Ra().addTo(this)});var qg=function(i){return new Ra(i)};bt.Layers=ch,bt.Zoom=Ma,bt.Scale=hh,bt.Attribution=Ra,cr.layers=Zg,cr.zoom=Wg,cr.scale=Hg,cr.attribution=qg;var Dt=Qe.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Dt.addTo=function(i,s){return i.addHandler(s,this),this};var Kg={Events:Ce},dh=W.touch?"touchstart mousedown":"mousedown",cn=ft.extend({options:{clickTolerance:3},initialize:function(i,s,l,c){C(this,c),this._element=i,this._dragStartTarget=s||i,this._preventOutline=l},enable:function(){this._enabled||(G(this._dragStartTarget,dh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cn._dragging===this&&this.finishDrag(!0),he(this._dragStartTarget,dh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!ka(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){cn._dragging===this&&this.finishDrag();return}if(!(cn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(cn._dragging=this,this._preventOutline&&Ca(this._element),ba(),or(),!this._moving)){this.fire("down");var s=i.touches?i.touches[0]:i,l=rh(this._element);this._startPoint=new N(s.clientX,s.clientY),this._startPos=zn(this._element),this._parentScale=La(l);var c=i.type==="mousedown";G(document,c?"mousemove":"touchmove",this._onMove,this),G(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var s=i.touches&&i.touches.length===1?i.touches[0]:i,l=new N(s.clientX,s.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,ze(i),this._moved||(this.fire("dragstart"),this._moved=!0,Y(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Y(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),be(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Se(document.body,"leaflet-dragging"),this._lastTarget&&(Se(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),he(document,"mousemove touchmove",this._onMove,this),he(document,"mouseup touchend touchcancel",this._onUp,this),Ta(),ar();var s=this._moved&&this._moving;this._moving=!1,cn._dragging=!1,s&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function fh(i,s,l){var c,f=[1,4,2,8],m,k,T,O,A,$,H,X;for(m=0,$=i.length;m<$;m++)i[m]._code=$n(i[m],s);for(T=0;T<4;T++){for(H=f[T],c=[],m=0,$=i.length,k=$-1;m<$;k=m++)O=i[m],A=i[k],O._code&H?A._code&H||(X=ks(A,O,H,s,l),X._code=$n(X,s),c.push(X)):(A._code&H&&(X=ks(A,O,H,s,l),X._code=$n(X,s),c.push(X)),c.push(O));i=c}return i}function ph(i,s){var l,c,f,m,k,T,O,A,$;if(!i||i.length===0)throw new Error("latlngs not passed");mt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var H=q([0,0]),X=se(i),He=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());He<1700&&(H=za(i));var Ie=i.length,gt=[];for(l=0;l<Ie;l++){var Ye=q(i[l]);gt.push(s.project(q([Ye.lat-H.lat,Ye.lng-H.lng])))}for(T=O=A=0,l=0,c=Ie-1;l<Ie;c=l++)f=gt[l],m=gt[c],k=f.y*m.x-m.y*f.x,O+=(f.x+m.x)*k,A+=(f.y+m.y)*k,T+=k*3;T===0?$=gt[0]:$=[O/T,A/T];var pi=s.unproject(j($));return q([pi.lat+H.lat,pi.lng+H.lng])}function za(i){for(var s=0,l=0,c=0,f=0;f<i.length;f++){var m=q(i[f]);s+=m.lat,l+=m.lng,c++}return q([s/c,l/c])}var Gg={__proto__:null,clipPolygon:fh,polygonCenter:ph,centroid:za};function mh(i,s){if(!s||!i.length)return i.slice();var l=s*s;return i=Yg(i,l),i=Qg(i,l),i}function gh(i,s,l){return Math.sqrt(hr(i,s,l,!0))}function Jg(i,s,l){return hr(i,s,l)}function Qg(i,s){var l=i.length,c=typeof Uint8Array<"u"?Uint8Array:Array,f=new c(l);f[0]=f[l-1]=1,Da(i,f,s,0,l-1);var m,k=[];for(m=0;m<l;m++)f[m]&&k.push(i[m]);return k}function Da(i,s,l,c,f){var m=0,k,T,O;for(T=c+1;T<=f-1;T++)O=hr(i[T],i[c],i[f],!0),O>m&&(k=T,m=O);m>l&&(s[k]=1,Da(i,s,l,c,k),Da(i,s,l,k,f))}function Yg(i,s){for(var l=[i[0]],c=1,f=0,m=i.length;c<m;c++)Xg(i[c],i[f])>s&&(l.push(i[c]),f=c);return f<m-1&&l.push(i[m-1]),l}var _h;function vh(i,s,l,c,f){var m=c?_h:$n(i,l),k=$n(s,l),T,O,A;for(_h=k;;){if(!(m|k))return[i,s];if(m&k)return!1;T=m||k,O=ks(i,s,T,l,f),A=$n(O,l),T===m?(i=O,m=A):(s=O,k=A)}}function ks(i,s,l,c,f){var m=s.x-i.x,k=s.y-i.y,T=c.min,O=c.max,A,$;return l&8?(A=i.x+m*(O.y-i.y)/k,$=O.y):l&4?(A=i.x+m*(T.y-i.y)/k,$=T.y):l&2?(A=O.x,$=i.y+k*(O.x-i.x)/m):l&1&&(A=T.x,$=i.y+k*(T.x-i.x)/m),new N(A,$,f)}function $n(i,s){var l=0;return i.x<s.min.x?l|=1:i.x>s.max.x&&(l|=2),i.y<s.min.y?l|=4:i.y>s.max.y&&(l|=8),l}function Xg(i,s){var l=s.x-i.x,c=s.y-i.y;return l*l+c*c}function hr(i,s,l,c){var f=s.x,m=s.y,k=l.x-f,T=l.y-m,O=k*k+T*T,A;return O>0&&(A=((i.x-f)*k+(i.y-m)*T)/O,A>1?(f=l.x,m=l.y):A>0&&(f+=k*A,m+=T*A)),k=i.x-f,T=i.y-m,c?k*k+T*T:new N(f,m)}function mt(i){return!x(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function yh(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mt(i)}function wh(i,s){var l,c,f,m,k,T,O,A;if(!i||i.length===0)throw new Error("latlngs not passed");mt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var $=q([0,0]),H=se(i),X=H.getNorthWest().distanceTo(H.getSouthWest())*H.getNorthEast().distanceTo(H.getNorthWest());X<1700&&($=za(i));var He=i.length,Ie=[];for(l=0;l<He;l++){var gt=q(i[l]);Ie.push(s.project(q([gt.lat-$.lat,gt.lng-$.lng])))}for(l=0,c=0;l<He-1;l++)c+=Ie[l].distanceTo(Ie[l+1])/2;if(c===0)A=Ie[0];else for(l=0,m=0;l<He-1;l++)if(k=Ie[l],T=Ie[l+1],f=k.distanceTo(T),m+=f,m>c){O=(m-c)/f,A=[T.x-O*(T.x-k.x),T.y-O*(T.y-k.y)];break}var Ye=s.unproject(j(A));return q([Ye.lat+$.lat,Ye.lng+$.lng])}var e_={__proto__:null,simplify:mh,pointToSegmentDistance:gh,closestPointOnSegment:Jg,clipSegment:vh,_getEdgeIntersection:ks,_getBitCode:$n,_sqClosestPointOnSegment:hr,isFlat:mt,_flat:yh,polylineCenter:wh},Ba={project:function(i){return new N(i.lng,i.lat)},unproject:function(i){return new ne(i.y,i.x)},bounds:new Z([-180,-90],[180,90])},$a={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var s=Math.PI/180,l=this.R,c=i.lat*s,f=this.R_MINOR/l,m=Math.sqrt(1-f*f),k=m*Math.sin(c),T=Math.tan(Math.PI/4-c/2)/Math.pow((1-k)/(1+k),m/2);return c=-l*Math.log(Math.max(T,1e-10)),new N(i.lng*s*l,c)},unproject:function(i){for(var s=180/Math.PI,l=this.R,c=this.R_MINOR/l,f=Math.sqrt(1-c*c),m=Math.exp(-i.y/l),k=Math.PI/2-2*Math.atan(m),T=0,O=.1,A;T<15&&Math.abs(O)>1e-7;T++)A=f*Math.sin(k),A=Math.pow((1-A)/(1+A),f/2),O=Math.PI/2-2*Math.atan(m*A)-k,k+=O;return new ne(k*s,i.x*s/l)}},t_={__proto__:null,LonLat:Ba,Mercator:$a,SphericalMercator:da},n_=o({},st,{code:"EPSG:3395",projection:$a,transformation:function(){var i=.5/(Math.PI*$a.R);return nr(i,.5,-i,.5)}()}),xh=o({},st,{code:"EPSG:4326",projection:Ba,transformation:nr(1/180,1,-1/180,.5)}),i_=o({},Le,{projection:Ba,transformation:nr(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,s){var l=s.lng-i.lng,c=s.lat-i.lat;return Math.sqrt(l*l+c*c)},infinite:!0});Le.Earth=st,Le.EPSG3395=n_,Le.EPSG3857=pa,Le.EPSG900913=ug,Le.EPSG4326=xh,Le.Simple=i_;var Tt=ft.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var s=i.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var l=this.getEvents();s.on(l,this),this.once("remove",function(){s.off(l,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});ie.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var s=d(i);return this._layers[s]?this:(this._layers[s]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var s=d(i);return this._layers[s]?(this._loaded&&i.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,s){for(var l in this._layers)i.call(s,this._layers[l]);return this},_addLayers:function(i){i=i?x(i)?i:[i]:[];for(var s=0,l=i.length;s<l;s++)this.addLayer(i[s])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var s=d(i);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,s=-1/0,l=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;i=f.minZoom===void 0?i:Math.min(i,f.minZoom),s=f.maxZoom===void 0?s:Math.max(s,f.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=i===1/0?void 0:i,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ui=Tt.extend({initialize:function(i,s){C(this,s),this._layers={};var l,c;if(i)for(l=0,c=i.length;l<c;l++)this.addLayer(i[l])},addLayer:function(i){var s=this.getLayerId(i);return this._layers[s]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var s=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(i){var s=typeof i=="number"?i:this.getLayerId(i);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var s=Array.prototype.slice.call(arguments,1),l,c;for(l in this._layers)c=this._layers[l],c[i]&&c[i].apply(c,s);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,s){for(var l in this._layers)i.call(s,this._layers[l]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),r_=function(i,s){return new ui(i,s)},qt=ui.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),ui.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),ui.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new ce;for(var s in this._layers){var l=this._layers[s];i.extend(l.getBounds?l.getBounds():l.getLatLng())}return i}}),s_=function(i,s){return new qt(i,s)},ci=Qe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){C(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,s){var l=this._getIconUrl(i);if(!l){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(l,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(c,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(i,s){var l=this.options,c=l[s+"Size"];typeof c=="number"&&(c=[c,c]);var f=j(c),m=j(s==="shadow"&&l.shadowAnchor||l.iconAnchor||f&&f.divideBy(2,!0));i.className="leaflet-marker-"+s+" "+(l.className||""),m&&(i.style.marginLeft=-m.x+"px",i.style.marginTop=-m.y+"px"),f&&(i.style.width=f.x+"px",i.style.height=f.y+"px")},_createImg:function(i,s){return s=s||document.createElement("img"),s.src=i,s},_getIconUrl:function(i){return W.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function o_(i){return new ci(i)}var dr=ci.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof dr.imagePath!="string"&&(dr.imagePath=this._detectIconPath()),(this.options.imagePath||dr.imagePath)+ci.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var s=function(l,c,f){var m=c.exec(l);return m&&m[f]};return i=s(i,/^url\((['"])?(.+)\1\)$/,2),i&&s(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=oe("div","leaflet-default-icon-path",document.body),s=sr(i,"background-image")||sr(i,"backgroundImage");if(document.body.removeChild(i),s=this._stripUrl(s),s)return s;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),kh=Dt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new cn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Y(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Se(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var s=this._marker,l=s._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,m=zn(s._icon),k=l.getPixelBounds(),T=l.getPixelOrigin(),O=K(k.min._subtract(T).add(f),k.max._subtract(T).subtract(f));if(!O.contains(m)){var A=j((Math.max(O.max.x,m.x)-O.max.x)/(k.max.x-O.max.x)-(Math.min(O.min.x,m.x)-O.min.x)/(k.min.x-O.min.x),(Math.max(O.max.y,m.y)-O.max.y)/(k.max.y-O.max.y)-(Math.min(O.min.y,m.y)-O.min.y)/(k.min.y-O.min.y)).multiplyBy(c);l.panBy(A,{animate:!1}),this._draggable._newPos._add(A),this._draggable._startPos._add(A),be(s._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=ue(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(ke(this._panRequest),this._panRequest=ue(this._adjustPan.bind(this,i)))},_onDrag:function(i){var s=this._marker,l=s._shadow,c=zn(s._icon),f=s._map.layerPointToLatLng(c);l&&be(l,c),s._latlng=f,i.latlng=f,i.oldLatLng=this._oldLatLng,s.fire("move",i).fire("drag",i)},_onDragEnd:function(i){ke(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Ss=Tt.extend({options:{icon:new dr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,s){C(this,s),this._latlng=q(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var s=this._latlng;return this._latlng=q(i),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=i.icon.createIcon(this._icon),c=!1;l!==this._icon&&(this._icon&&this._removeIcon(),c=!0,i.title&&(l.title=i.title),l.tagName==="IMG"&&(l.alt=i.alt||"")),Y(l,s),i.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&G(l,"focus",this._panOnFocus,this);var f=i.icon.createShadow(this._shadow),m=!1;f!==this._shadow&&(this._removeShadow(),m=!0),f&&(Y(f,s),f.alt=""),this._shadow=f,i.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&m&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(this._icon,"focus",this._panOnFocus,this),_e(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_e(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&be(this._icon,i),this._shadow&&be(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Y(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),kh)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new kh(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&pt(this._icon,i),this._shadow&&pt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var s=this.options.icon.options,l=s.iconSize?j(s.iconSize):j(0,0),c=s.iconAnchor?j(s.iconAnchor):j(0,0);i.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:l.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function a_(i,s){return new Ss(i,s)}var hn=Tt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return C(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ps=hn.extend({options:{fill:!0,radius:10},initialize:function(i,s){C(this,s),this._latlng=q(i),this._radius=this.options.radius},setLatLng:function(i){var s=this._latlng;return this._latlng=q(i),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var s=i&&i.radius||this._radius;return hn.prototype.setStyle.call(this,i),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,s=this._radiusY||i,l=this._clickTolerance(),c=[i+l,s+l];this._pxBounds=new Z(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function l_(i,s){return new Ps(i,s)}var Ua=Ps.extend({initialize:function(i,s,l){if(typeof s=="number"&&(s=o({},l,{radius:s})),C(this,s),this._latlng=q(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new ce(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:hn.prototype.setStyle,_project:function(){var i=this._latlng.lng,s=this._latlng.lat,l=this._map,c=l.options.crs;if(c.distance===st.distance){var f=Math.PI/180,m=this._mRadius/st.R/f,k=l.project([s+m,i]),T=l.project([s-m,i]),O=k.add(T).divideBy(2),A=l.unproject(O).lat,$=Math.acos((Math.cos(m*f)-Math.sin(s*f)*Math.sin(A*f))/(Math.cos(s*f)*Math.cos(A*f)))/f;(isNaN($)||$===0)&&($=m/Math.cos(Math.PI/180*s)),this._point=O.subtract(l.getPixelOrigin()),this._radius=isNaN($)?0:O.x-l.project([A,i-$]).x,this._radiusY=O.y-k.y}else{var H=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(H).x}this._updateBounds()}});function u_(i,s,l){return new Ua(i,s,l)}var Kt=hn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,s){C(this,s),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var s=1/0,l=null,c=hr,f,m,k=0,T=this._parts.length;k<T;k++)for(var O=this._parts[k],A=1,$=O.length;A<$;A++){f=O[A-1],m=O[A];var H=c(i,f,m,!0);H<s&&(s=H,l=c(i,f,m))}return l&&(l.distance=Math.sqrt(s)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return wh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,s){return s=s||this._defaultShape(),i=q(i),s.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new ce,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return mt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var s=[],l=mt(i),c=0,f=i.length;c<f;c++)l?(s[c]=q(i[c]),this._bounds.extend(s[c])):s[c]=this._convertLatLngs(i[c]);return s},_project:function(){var i=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),s=new N(i,i);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(i,s,l){var c=i[0]instanceof ne,f=i.length,m,k;if(c){for(k=[],m=0;m<f;m++)k[m]=this._map.latLngToLayerPoint(i[m]),l.extend(k[m]);s.push(k)}else for(m=0;m<f;m++)this._projectLatlngs(i[m],s,l)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,l,c,f,m,k,T,O;for(l=0,f=0,m=this._rings.length;l<m;l++)for(O=this._rings[l],c=0,k=O.length;c<k-1;c++)T=vh(O[c],O[c+1],i,c,!0),T&&(s[f]=s[f]||[],s[f].push(T[0]),(T[1]!==O[c+1]||c===k-2)&&(s[f].push(T[1]),f++))}},_simplifyPoints:function(){for(var i=this._parts,s=this.options.smoothFactor,l=0,c=i.length;l<c;l++)i[l]=mh(i[l],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,s){var l,c,f,m,k,T,O=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(l=0,m=this._parts.length;l<m;l++)for(T=this._parts[l],c=0,k=T.length,f=k-1;c<k;f=c++)if(!(!s&&c===0)&&gh(i,T[f],T[c])<=O)return!0;return!1}});function c_(i,s){return new Kt(i,s)}Kt._flat=yh;var hi=Kt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ph(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var s=Kt.prototype._convertLatLngs.call(this,i),l=s.length;return l>=2&&s[0]instanceof ne&&s[0].equals(s[l-1])&&s.pop(),s},_setLatLngs:function(i){Kt.prototype._setLatLngs.call(this,i),mt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,s=this.options.weight,l=new N(s,s);if(i=new Z(i.min.subtract(l),i.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,m;c<f;c++)m=fh(this._rings[c],i,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var s=!1,l,c,f,m,k,T,O,A;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(m=0,O=this._parts.length;m<O;m++)for(l=this._parts[m],k=0,A=l.length,T=A-1;k<A;T=k++)c=l[k],f=l[T],c.y>i.y!=f.y>i.y&&i.x<(f.x-c.x)*(i.y-c.y)/(f.y-c.y)+c.x&&(s=!s);return s||Kt.prototype._containsPoint.call(this,i,!0)}});function h_(i,s){return new hi(i,s)}var Gt=qt.extend({initialize:function(i,s){C(this,s),this._layers={},i&&this.addData(i)},addData:function(i){var s=x(i)?i:i.features,l,c,f;if(s){for(l=0,c=s.length;l<c;l++)f=s[l],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var m=this.options;if(m.filter&&!m.filter(i))return this;var k=bs(i,m);return k?(k.feature=Cs(i),k.defaultOptions=k.options,this.resetStyle(k),m.onEachFeature&&m.onEachFeature(i,k),this.addLayer(k)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(s){this._setLayerStyle(s,i)},this)},_setLayerStyle:function(i,s){i.setStyle&&(typeof s=="function"&&(s=s(i.feature)),i.setStyle(s))}});function bs(i,s){var l=i.type==="Feature"?i.geometry:i,c=l?l.coordinates:null,f=[],m=s&&s.pointToLayer,k=s&&s.coordsToLatLng||Fa,T,O,A,$;if(!c&&!l)return null;switch(l.type){case"Point":return T=k(c),Sh(m,i,T,s);case"MultiPoint":for(A=0,$=c.length;A<$;A++)T=k(c[A]),f.push(Sh(m,i,T,s));return new qt(f);case"LineString":case"MultiLineString":return O=Ts(c,l.type==="LineString"?0:1,k),new Kt(O,s);case"Polygon":case"MultiPolygon":return O=Ts(c,l.type==="Polygon"?1:2,k),new hi(O,s);case"GeometryCollection":for(A=0,$=l.geometries.length;A<$;A++){var H=bs({geometry:l.geometries[A],type:"Feature",properties:i.properties},s);H&&f.push(H)}return new qt(f);case"FeatureCollection":for(A=0,$=l.features.length;A<$;A++){var X=bs(l.features[A],s);X&&f.push(X)}return new qt(f);default:throw new Error("Invalid GeoJSON object.")}}function Sh(i,s,l,c){return i?i(s,l):new Ss(l,c&&c.markersInheritOptions&&c)}function Fa(i){return new ne(i[1],i[0],i[2])}function Ts(i,s,l){for(var c=[],f=0,m=i.length,k;f<m;f++)k=s?Ts(i[f],s-1,l):(l||Fa)(i[f]),c.push(k);return c}function Za(i,s){return i=q(i),i.alt!==void 0?[w(i.lng,s),w(i.lat,s),w(i.alt,s)]:[w(i.lng,s),w(i.lat,s)]}function Es(i,s,l,c){for(var f=[],m=0,k=i.length;m<k;m++)f.push(s?Es(i[m],mt(i[m])?0:s-1,l,c):Za(i[m],c));return!s&&l&&f.length>0&&f.push(f[0].slice()),f}function di(i,s){return i.feature?o({},i.feature,{geometry:s}):Cs(s)}function Cs(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Wa={toGeoJSON:function(i){return di(this,{type:"Point",coordinates:Za(this.getLatLng(),i)})}};Ss.include(Wa),Ua.include(Wa),Ps.include(Wa),Kt.include({toGeoJSON:function(i){var s=!mt(this._latlngs),l=Es(this._latlngs,s?1:0,!1,i);return di(this,{type:(s?"Multi":"")+"LineString",coordinates:l})}}),hi.include({toGeoJSON:function(i){var s=!mt(this._latlngs),l=s&&!mt(this._latlngs[0]),c=Es(this._latlngs,l?2:s?1:0,!0,i);return s||(c=[c]),di(this,{type:(l?"Multi":"")+"Polygon",coordinates:c})}}),ui.include({toMultiPoint:function(i){var s=[];return this.eachLayer(function(l){s.push(l.toGeoJSON(i).geometry.coordinates)}),di(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(i){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(i);var l=s==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var m=f.toGeoJSON(i);if(l)c.push(m.geometry);else{var k=Cs(m);k.type==="FeatureCollection"?c.push.apply(c,k.features):c.push(k)}}}),l?di(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Ph(i,s){return new Gt(i,s)}var d_=Ph,Ls=Tt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,s,l){this._url=i,this._bounds=se(s),C(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Y(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_e(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&ai(this._image),this},bringToBack:function(){return this._map&&li(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=se(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",s=this._image=i?this._url:oe("img");if(Y(s,"leaflet-image-layer"),this._zoomAnimated&&Y(s,"leaflet-zoom-animated"),this.options.className&&Y(s,this.options.className),s.onselectstart=v,s.onmousemove=v,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(i){var s=this._map.getZoomScale(i.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Rn(this._image,l,s)},_reset:function(){var i=this._image,s=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=s.getSize();be(i,s.min),i.style.width=l.x+"px",i.style.height=l.y+"px"},_updateOpacity:function(){pt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),f_=function(i,s,l){return new Ls(i,s,l)},bh=Ls.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",s=this._image=i?this._url:oe("video");if(Y(s,"leaflet-image-layer"),this._zoomAnimated&&Y(s,"leaflet-zoom-animated"),this.options.className&&Y(s,this.options.className),s.onselectstart=v,s.onmousemove=v,s.onloadeddata=u(this.fire,this,"load"),i){for(var l=s.getElementsByTagName("source"),c=[],f=0;f<l.length;f++)c.push(l[f].src);this._url=l.length>0?c:[s.src];return}x(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var k=oe("source");k.src=this._url[m],s.appendChild(k)}}});function p_(i,s,l){return new bh(i,s,l)}var Th=Ls.extend({_initImage:function(){var i=this._image=this._url;Y(i,"leaflet-image-layer"),this._zoomAnimated&&Y(i,"leaflet-zoom-animated"),this.options.className&&Y(i,this.options.className),i.onselectstart=v,i.onmousemove=v}});function m_(i,s,l){return new Th(i,s,l)}var Bt=Tt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,s){i&&(i instanceof ne||x(i))?(this._latlng=q(i),C(this,s)):(C(this,i),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&pt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&pt(this._container,1),this.bringToFront(),this.options.interactive&&(Y(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(pt(this._container,0),this._removeTimeout=setTimeout(u(_e,void 0,this._container),200)):_e(this._container),this.options.interactive&&(Se(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=q(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&ai(this._container),this},bringToBack:function(){return this._map&&li(this._container),this},_prepareOpen:function(i){var s=this._source;if(!s._map)return!1;if(s instanceof qt){s=null;var l=this._source._layers;for(var c in l)if(l[c]._map){s=l[c];break}if(!s)return!1;this._source=s}if(!i)if(s.getCenter)i=s.getCenter();else if(s.getLatLng)i=s.getLatLng();else if(s.getBounds)i=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")i.innerHTML=s;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),s=j(this.options.offset),l=this._getAnchor();this._zoomAnimated?be(this._container,i.add(l)):s=s.add(i).add(l);var c=this._containerBottom=-s.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});ie.include({_initOverlay:function(i,s,l,c){var f=s;return f instanceof i||(f=new i(c).setContent(s)),l&&f.setLatLng(l),f}}),Tt.include({_initOverlay:function(i,s,l,c){var f=l;return f instanceof i?(C(f,c),f._source=this):(f=s&&!c?s:new i(c,this),f.setContent(l)),f}});var Os=Bt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Bt.prototype.openOn.call(this,i)},onAdd:function(i){Bt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof hn||this._source.on("preclick",Dn))},onRemove:function(i){Bt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof hn||this._source.off("preclick",Dn))},getEvents:function(){var i=Bt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",s=this._container=oe("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=oe("div",i+"-content-wrapper",s);if(this._contentNode=oe("div",i+"-content",l),ur(s),Aa(this._contentNode),G(s,"contextmenu",Dn),this._tipContainer=oe("div",i+"-tip-container",s),this._tip=oe("div",i+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=oe("a",i+"-close-button",s);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',G(c,"click",function(f){ze(f),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,s=i.style;s.width="",s.whiteSpace="nowrap";var l=i.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),s.width=l+1+"px",s.whiteSpace="",s.height="";var c=i.offsetHeight,f=this.options.maxHeight,m="leaflet-popup-scrolled";f&&c>f?(s.height=f+"px",Y(i,m)):Se(i,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),l=this._getAnchor();be(this._container,s.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,s=parseInt(sr(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+s,c=this._containerWidth,f=new N(this._containerLeft,-l-this._containerBottom);f._add(zn(this._container));var m=i.layerPointToContainerPoint(f),k=j(this.options.autoPanPadding),T=j(this.options.autoPanPaddingTopLeft||k),O=j(this.options.autoPanPaddingBottomRight||k),A=i.getSize(),$=0,H=0;m.x+c+O.x>A.x&&($=m.x+c-A.x+O.x),m.x-$-T.x<0&&($=m.x-T.x),m.y+l+O.y>A.y&&(H=m.y+l-A.y+O.y),m.y-H-T.y<0&&(H=m.y-T.y),($||H)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([$,H]))}},_getAnchor:function(){return j(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),g_=function(i,s){return new Os(i,s)};ie.mergeOptions({closePopupOnClick:!0}),ie.include({openPopup:function(i,s,l){return this._initOverlay(Os,i,s,l).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Tt.include({bindPopup:function(i,s){return this._popup=this._initOverlay(Os,this._popup,i,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof qt||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Bn(i);var s=i.layer||i.target;if(this._popup._source===s&&!(s instanceof hn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=s,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var js=Bt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Bt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Bt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Bt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",s=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=oe("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var s,l,c=this._map,f=this._container,m=c.latLngToContainerPoint(c.getCenter()),k=c.layerPointToContainerPoint(i),T=this.options.direction,O=f.offsetWidth,A=f.offsetHeight,$=j(this.options.offset),H=this._getAnchor();T==="top"?(s=O/2,l=A):T==="bottom"?(s=O/2,l=0):T==="center"?(s=O/2,l=A/2):T==="right"?(s=0,l=A/2):T==="left"?(s=O,l=A/2):k.x<m.x?(T="right",s=0,l=A/2):(T="left",s=O+($.x+H.x)*2,l=A/2),i=i.subtract(j(s,l,!0)).add($).add(H),Se(f,"leaflet-tooltip-right"),Se(f,"leaflet-tooltip-left"),Se(f,"leaflet-tooltip-top"),Se(f,"leaflet-tooltip-bottom"),Y(f,"leaflet-tooltip-"+T),be(f,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&pt(this._container,i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(s)},_getAnchor:function(){return j(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),__=function(i,s){return new js(i,s)};ie.include({openTooltip:function(i,s,l){return this._initOverlay(js,i,s,l).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Tt.include({bindTooltip:function(i,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(js,this._tooltip,i,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var s=i?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[s](l),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof qt||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&(G(s,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),G(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var s=i.latlng,l,c;this._tooltip.options.sticky&&i.originalEvent&&(l=this._map.mouseEventToContainerPoint(i.originalEvent),c=this._map.containerPointToLayerPoint(l),s=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(s)}});var Eh=ci.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var s=i&&i.tagName==="DIV"?i:document.createElement("div"),l=this.options;if(l.html instanceof Element?(_s(s),s.appendChild(l.html)):s.innerHTML=l.html!==!1?l.html:"",l.bgPos){var c=j(l.bgPos);s.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function v_(i){return new Eh(i)}ci.Default=dr;var fr=Tt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:W.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){C(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),_e(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(ai(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(li(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof N?i:new N(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var s=this.getPane().children,l=-i(-1/0,1/0),c=0,f=s.length,m;c<f;c++)m=s[c].style.zIndex,s[c]!==this._container&&m&&(l=i(l,+m));isFinite(l)&&(this.options.zIndex=l+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!W.ielt9){pt(this._container,this.options.opacity);var i=+new Date,s=!1,l=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var m=Math.min(1,(i-f.loaded)/200);pt(f.el,m),m<1?s=!0:(f.active?l=!0:this._onOpaqueTile(f),f.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),s&&(ke(this._fadeFrame),this._fadeFrame=ue(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=oe("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,s=this.options.maxZoom;if(i!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===i?(this._levels[l].el.style.zIndex=s-Math.abs(i-l),this._onUpdateLevel(l)):(_e(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var c=this._levels[i],f=this._map;return c||(c=this._levels[i]={},c.el=oe("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=s,c.origin=f.project(f.unproject(f.getPixelOrigin()),i).round(),c.zoom=i,this._setZoomTransform(c,f.getCenter(),f.getZoom()),v(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var i,s,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)s=this._tiles[i],s.retain=s.current;for(i in this._tiles)if(s=this._tiles[i],s.current&&!s.active){var c=s.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var s in this._tiles)this._tiles[s].coords.z===i&&this._removeTile(s)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)_e(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,s,l,c){var f=Math.floor(i/2),m=Math.floor(s/2),k=l-1,T=new N(+f,+m);T.z=+k;var O=this._tileCoordsToKey(T),A=this._tiles[O];return A&&A.active?(A.retain=!0,!0):(A&&A.loaded&&(A.retain=!0),k>c?this._retainParent(f,m,k,c):!1)},_retainChildren:function(i,s,l,c){for(var f=2*i;f<2*i+2;f++)for(var m=2*s;m<2*s+2;m++){var k=new N(f,m);k.z=l+1;var T=this._tileCoordsToKey(k),O=this._tiles[T];if(O&&O.active){O.retain=!0;continue}else O&&O.loaded&&(O.retain=!0);l+1<c&&this._retainChildren(f,m,l+1,c)}},_resetView:function(i){var s=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var s=this.options;return s.minNativeZoom!==void 0&&i<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<i?s.maxNativeZoom:i},_setView:function(i,s,l,c){var f=Math.round(s);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var m=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||m)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(i),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(i,s)},_setZoomTransforms:function(i,s){for(var l in this._levels)this._setZoomTransform(this._levels[l],i,s)},_setZoomTransform:function(i,s,l){var c=this._map.getZoomScale(l,i.zoom),f=i.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(s,l)).round();W.any3d?Rn(i.el,f,c):be(i.el,f)},_resetGrid:function(){var i=this._map,s=i.options.crs,l=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,s.wrapLng[0]],c).x/l.x),Math.ceil(i.project([0,s.wrapLng[1]],c).x/l.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([s.wrapLat[0],0],c).y/l.x),Math.ceil(i.project([s.wrapLat[1],0],c).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var s=this._map,l=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),c=s.getZoomScale(l,this._tileZoom),f=s.project(i,this._tileZoom).floor(),m=s.getSize().divideBy(c*2);return new Z(f.subtract(m),f.add(m))},_update:function(i){var s=this._map;if(s){var l=this._clampZoom(s.getZoom());if(i===void 0&&(i=s.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(i),f=this._pxBoundsToTileRange(c),m=f.getCenter(),k=[],T=this.options.keepBuffer,O=new Z(f.getBottomLeft().subtract([T,-T]),f.getTopRight().add([T,-T]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var A in this._tiles){var $=this._tiles[A].coords;($.z!==this._tileZoom||!O.contains(new N($.x,$.y)))&&(this._tiles[A].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(i,l);return}for(var H=f.min.y;H<=f.max.y;H++)for(var X=f.min.x;X<=f.max.x;X++){var He=new N(X,H);if(He.z=this._tileZoom,!!this._isValidTile(He)){var Ie=this._tiles[this._tileCoordsToKey(He)];Ie?Ie.current=!0:k.push(He)}}if(k.sort(function(Ye,pi){return Ye.distanceTo(m)-pi.distanceTo(m)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var gt=document.createDocumentFragment();for(X=0;X<k.length;X++)this._addTile(k[X],gt);this._level.el.appendChild(gt)}}}},_isValidTile:function(i){var s=this._map.options.crs;if(!s.infinite){var l=this._globalTileRange;if(!s.wrapLng&&(i.x<l.min.x||i.x>l.max.x)||!s.wrapLat&&(i.y<l.min.y||i.y>l.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(i);return se(this.options.bounds).overlaps(c)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var s=this._map,l=this.getTileSize(),c=i.scaleBy(l),f=c.add(l),m=s.unproject(c,i.z),k=s.unproject(f,i.z);return[m,k]},_tileCoordsToBounds:function(i){var s=this._tileCoordsToNwSe(i),l=new ce(s[0],s[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var s=i.split(":"),l=new N(+s[0],+s[1]);return l.z=+s[2],l},_removeTile:function(i){var s=this._tiles[i];s&&(_e(s.el),delete this._tiles[i],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Y(i,"leaflet-tile");var s=this.getTileSize();i.style.width=s.x+"px",i.style.height=s.y+"px",i.onselectstart=v,i.onmousemove=v,W.ielt9&&this.options.opacity<1&&pt(i,this.options.opacity)},_addTile:function(i,s){var l=this._getTilePos(i),c=this._tileCoordsToKey(i),f=this.createTile(this._wrapCoords(i),u(this._tileReady,this,i));this._initTile(f),this.createTile.length<2&&ue(u(this._tileReady,this,i,null,f)),be(f,l),this._tiles[c]={el:f,coords:i,current:!0},s.appendChild(f),this.fire("tileloadstart",{tile:f,coords:i})},_tileReady:function(i,s,l){s&&this.fire("tileerror",{error:s,tile:l,coords:i});var c=this._tileCoordsToKey(i);l=this._tiles[c],l&&(l.loaded=+new Date,this._map._fadeAnimated?(pt(l.el,0),ke(this._fadeFrame),this._fadeFrame=ue(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),s||(Y(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),W.ielt9||!this._map._fadeAnimated?ue(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var s=new N(this._wrapX?g(i.x,this._wrapX):i.x,this._wrapY?g(i.y,this._wrapY):i.y);return s.z=i.z,s},_pxBoundsToTileRange:function(i){var s=this.getTileSize();return new Z(i.min.unscaleBy(s).floor(),i.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function y_(i){return new fr(i)}var fi=fr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,s){this._url=i,s=C(this,s),s.detectRetina&&W.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,s){return this._url===i&&s===void 0&&(s=!0),this._url=i,s||this.redraw(),this},createTile:function(i,s){var l=document.createElement("img");return G(l,"load",u(this._tileOnLoad,this,s,l)),G(l,"error",u(this._tileOnError,this,s,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(i),l},getTileUrl:function(i){var s={r:W.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-i.y;this.options.tms&&(s.y=l),s["-y"]=l}return y(this._url,o(s,this.options))},_tileOnLoad:function(i,s){W.ielt9?setTimeout(u(i,this,null,s),0):i(null,s)},_tileOnError:function(i,s,l){var c=this.options.errorTileUrl;c&&s.getAttribute("src")!==c&&(s.src=c),i(l,s)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,s=this.options.maxZoom,l=this.options.zoomReverse,c=this.options.zoomOffset;return l&&(i=s-i),i+c},_getSubdomain:function(i){var s=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var i,s;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(s=this._tiles[i].el,s.onload=v,s.onerror=v,!s.complete)){s.src=M;var l=this._tiles[i].coords;_e(s),delete this._tiles[i],this.fire("tileabort",{tile:s,coords:l})}},_removeTile:function(i){var s=this._tiles[i];if(s)return s.el.setAttribute("src",M),fr.prototype._removeTile.call(this,i)},_tileReady:function(i,s,l){if(!(!this._map||l&&l.getAttribute("src")===M))return fr.prototype._tileReady.call(this,i,s,l)}});function Ch(i,s){return new fi(i,s)}var Lh=fi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,s){this._url=i;var l=o({},this.defaultWmsParams);for(var c in s)c in this.options||(l[c]=s[c]);s=C(this,s);var f=s.detectRetina&&W.retina?2:1,m=this.getTileSize();l.width=m.x*f,l.height=m.y*f,this.wmsParams=l},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,fi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var s=this._tileCoordsToNwSe(i),l=this._crs,c=K(l.project(s[0]),l.project(s[1])),f=c.min,m=c.max,k=(this._wmsVersion>=1.3&&this._crs===xh?[f.y,f.x,m.y,m.x]:[f.x,f.y,m.x,m.y]).join(","),T=fi.prototype.getTileUrl.call(this,i);return T+z(this.wmsParams,T,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(i,s){return o(this.wmsParams,i),s||this.redraw(),this}});function w_(i,s){return new Lh(i,s)}fi.WMS=Lh,Ch.wms=w_;var Jt=Tt.extend({options:{padding:.1},initialize:function(i){C(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Y(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,s){var l=this._map.getZoomScale(s,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,s),m=c.multiplyBy(-l).add(f).subtract(this._map._getNewPixelOrigin(i,s));W.any3d?Rn(this._container,m,l):be(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,s=this._map.getSize(),l=this._map.containerPointToLayerPoint(s.multiplyBy(-i)).round();this._bounds=new Z(l,l.add(s.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Oh=Jt.extend({options:{tolerance:0},getEvents:function(){var i=Jt.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Jt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");G(i,"mousemove",this._onMouseMove,this),G(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),G(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){ke(this._redrawRequest),delete this._ctx,_e(this._container),he(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var s in this._layers)i=this._layers[s],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Jt.prototype._update.call(this);var i=this._bounds,s=this._container,l=i.getSize(),c=W.retina?2:1;be(s,i.min),s.width=c*l.x,s.height=c*l.y,s.style.width=l.x+"px",s.style.height=l.y+"px",W.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Jt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var s=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var s=i._order,l=s.next,c=s.prev;l?l.prev=c:this._drawLast=c,c?c.next=l:this._drawFirst=l,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var s=i.options.dashArray.split(/[, ]+/),l=[],c,f;for(f=0;f<s.length;f++){if(c=Number(s[f]),isNaN(c))return;l.push(c)}i.options._dashArray=l}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||ue(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var s=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(i._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(i._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var s=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,s=this._redrawBounds;if(this._ctx.save(),s){var l=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)i=c.layer,(!s||i._pxBounds&&i._pxBounds.intersects(s))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,s){if(this._drawing){var l,c,f,m,k=i._parts,T=k.length,O=this._ctx;if(T){for(O.beginPath(),l=0;l<T;l++){for(c=0,f=k[l].length;c<f;c++)m=k[l][c],O[c?"lineTo":"moveTo"](m.x,m.y);s&&O.closePath()}this._fillStroke(O,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var s=i._point,l=this._ctx,c=Math.max(Math.round(i._radius),1),f=(Math.max(Math.round(i._radiusY),1)||c)/c;f!==1&&(l.save(),l.scale(1,f)),l.beginPath(),l.arc(s.x,s.y/f,c,0,Math.PI*2,!1),f!==1&&l.restore(),this._fillStroke(l,i)}},_fillStroke:function(i,s){var l=s.options;l.fill&&(i.globalAlpha=l.fillOpacity,i.fillStyle=l.fillColor||l.color,i.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(i.setLineDash&&i.setLineDash(s.options&&s.options._dashArray||[]),i.globalAlpha=l.opacity,i.lineWidth=l.weight,i.strokeStyle=l.color,i.lineCap=l.lineCap,i.lineJoin=l.lineJoin,i.stroke())},_onClick:function(i){for(var s=this._map.mouseEventToLayerPoint(i),l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(l))&&(c=l);this._fireEvent(c?[c]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,s)}},_handleMouseOut:function(i){var s=this._hoveredLayer;s&&(Se(this._container,"leaflet-interactive"),this._fireEvent([s],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,s){if(!this._mouseHoverThrottled){for(var l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(c=l);c!==this._hoveredLayer&&(this._handleMouseOut(i),c&&(Y(this._container,"leaflet-interactive"),this._fireEvent([c],i,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,s,l){this._map._fireDOMEvent(s,l||s.type,i)},_bringToFront:function(i){var s=i._order;if(s){var l=s.next,c=s.prev;if(l)l.prev=c;else return;c?c.next=l:l&&(this._drawFirst=l),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(i)}},_bringToBack:function(i){var s=i._order;if(s){var l=s.next,c=s.prev;if(c)c.next=l;else return;l?l.prev=c:c&&(this._drawLast=c),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(i)}}});function jh(i){return W.canvas?new Oh(i):null}var pr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),x_={_initContainer:function(){this._container=oe("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Jt.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var s=i._container=pr("shape");Y(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",i._path=pr("path"),s.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var s=i._container;this._container.appendChild(s),i.options.interactive&&i.addInteractiveTarget(s)},_removePath:function(i){var s=i._container;_e(s),i.removeInteractiveTarget(s),delete this._layers[d(i)]},_updateStyle:function(i){var s=i._stroke,l=i._fill,c=i.options,f=i._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(s||(s=i._stroke=pr("stroke")),f.appendChild(s),s.weight=c.weight+"px",s.color=c.color,s.opacity=c.opacity,c.dashArray?s.dashStyle=x(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=c.lineCap.replace("butt","flat"),s.joinstyle=c.lineJoin):s&&(f.removeChild(s),i._stroke=null),c.fill?(l||(l=i._fill=pr("fill")),f.appendChild(l),l.color=c.fillColor||c.color,l.opacity=c.fillOpacity):l&&(f.removeChild(l),i._fill=null)},_updateCircle:function(i){var s=i._point.round(),l=Math.round(i._radius),c=Math.round(i._radiusY||l);this._setPath(i,i._empty()?"M0 0":"AL "+s.x+","+s.y+" "+l+","+c+" 0,"+65535*360)},_setPath:function(i,s){i._path.v=s},_bringToFront:function(i){ai(i._container)},_bringToBack:function(i){li(i._container)}},Ns=W.vml?pr:Mc,mr=Jt.extend({_initContainer:function(){this._container=Ns("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ns("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_e(this._container),he(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Jt.prototype._update.call(this);var i=this._bounds,s=i.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,l.setAttribute("width",s.x),l.setAttribute("height",s.y)),be(l,i.min),l.setAttribute("viewBox",[i.min.x,i.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(i){var s=i._path=Ns("path");i.options.className&&Y(s,i.options.className),i.options.interactive&&Y(s,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){_e(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var s=i._path,l=i.options;s&&(l.stroke?(s.setAttribute("stroke",l.color),s.setAttribute("stroke-opacity",l.opacity),s.setAttribute("stroke-width",l.weight),s.setAttribute("stroke-linecap",l.lineCap),s.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?s.setAttribute("stroke-dasharray",l.dashArray):s.removeAttribute("stroke-dasharray"),l.dashOffset?s.setAttribute("stroke-dashoffset",l.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),l.fill?(s.setAttribute("fill",l.fillColor||l.color),s.setAttribute("fill-opacity",l.fillOpacity),s.setAttribute("fill-rule",l.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(i,s){this._setPath(i,Rc(i._parts,s))},_updateCircle:function(i){var s=i._point,l=Math.max(Math.round(i._radius),1),c=Math.max(Math.round(i._radiusY),1)||l,f="a"+l+","+c+" 0 1,0 ",m=i._empty()?"M0 0":"M"+(s.x-l)+","+s.y+f+l*2+",0 "+f+-l*2+",0 ";this._setPath(i,m)},_setPath:function(i,s){i._path.setAttribute("d",s)},_bringToFront:function(i){ai(i._path)},_bringToBack:function(i){li(i._path)}});W.vml&&mr.include(x_);function Nh(i){return W.svg||W.vml?new mr(i):null}ie.include({getRenderer:function(i){var s=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var s=this._paneRenderers[i];return s===void 0&&(s=this._createRenderer({pane:i}),this._paneRenderers[i]=s),s},_createRenderer:function(i){return this.options.preferCanvas&&jh(i)||Nh(i)}});var Ah=hi.extend({initialize:function(i,s){hi.prototype.initialize.call(this,this._boundsToLatLngs(i),s)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=se(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function k_(i,s){return new Ah(i,s)}mr.create=Ns,mr.pointsToPath=Rc,Gt.geometryToLayer=bs,Gt.coordsToLatLng=Fa,Gt.coordsToLatLngs=Ts,Gt.latLngToCoords=Za,Gt.latLngsToCoords=Es,Gt.getFeature=di,Gt.asFeature=Cs,ie.mergeOptions({boxZoom:!0});var Ih=Dt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){G(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_e(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),or(),ba(),this._startPoint=this._map.mouseEventToContainerPoint(i),G(document,{contextmenu:Bn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=oe("div","leaflet-zoom-box",this._container),Y(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var s=new Z(this._point,this._startPoint),l=s.getSize();be(this._box,s.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(_e(this._box),Se(this._container,"leaflet-crosshair")),ar(),Ta(),he(document,{contextmenu:Bn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ie.addInitHook("addHandler","boxZoom",Ih),ie.mergeOptions({doubleClickZoom:!0});var Mh=Dt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var s=this._map,l=s.getZoom(),c=s.options.zoomDelta,f=i.originalEvent.shiftKey?l-c:l+c;s.options.doubleClickZoom==="center"?s.setZoom(f):s.setZoomAround(i.containerPoint,f)}});ie.addInitHook("addHandler","doubleClickZoom",Mh),ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Rh=Dt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new cn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Y(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Se(this._map._container,"leaflet-grab"),Se(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=se(this._map.options.maxBounds);this._offsetLimit=K(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var s=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(s),this._prunePositions(s)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,s){return i-(i-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;i.x<s.min.x&&(i.x=this._viscousLimit(i.x,s.min.x)),i.y<s.min.y&&(i.y=this._viscousLimit(i.y,s.min.y)),i.x>s.max.x&&(i.x=this._viscousLimit(i.x,s.max.x)),i.y>s.max.y&&(i.y=this._viscousLimit(i.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,s=Math.round(i/2),l=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-s+l)%i+s-l,m=(c+s+l)%i-s-l,k=Math.abs(f+l)<Math.abs(m+l)?f:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(i){var s=this._map,l=s.options,c=!l.inertia||i.noInertia||this._times.length<2;if(s.fire("dragend",i),c)s.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,k=l.easeLinearity,T=f.multiplyBy(k/m),O=T.distanceTo([0,0]),A=Math.min(l.inertiaMaxSpeed,O),$=T.multiplyBy(A/O),H=A/(l.inertiaDeceleration*k),X=$.multiplyBy(-H/2).round();!X.x&&!X.y?s.fire("moveend"):(X=s._limitOffset(X,s.options.maxBounds),ue(function(){s.panBy(X,{duration:H,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});ie.addInitHook("addHandler","dragging",Rh),ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var zh=Dt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),G(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),he(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,s=document.documentElement,l=i.scrollTop||s.scrollTop,c=i.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(c,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var s=this._panKeys={},l=this.keyCodes,c,f;for(c=0,f=l.left.length;c<f;c++)s[l.left[c]]=[-1*i,0];for(c=0,f=l.right.length;c<f;c++)s[l.right[c]]=[i,0];for(c=0,f=l.down.length;c<f;c++)s[l.down[c]]=[0,i];for(c=0,f=l.up.length;c<f;c++)s[l.up[c]]=[0,-1*i]},_setZoomDelta:function(i){var s=this._zoomKeys={},l=this.keyCodes,c,f;for(c=0,f=l.zoomIn.length;c<f;c++)s[l.zoomIn[c]]=i;for(c=0,f=l.zoomOut.length;c<f;c++)s[l.zoomOut[c]]=-i},_addHooks:function(){G(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){he(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var s=i.keyCode,l=this._map,c;if(s in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(c=this._panKeys[s],i.shiftKey&&(c=j(c).multiplyBy(3)),l.options.maxBounds&&(c=l._limitOffset(j(c),l.options.maxBounds)),l.options.worldCopyJump){var f=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(c)));l.panTo(f)}else l.panBy(c)}else if(s in this._zoomKeys)l.setZoom(l.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;Bn(i)}}});ie.addInitHook("addHandler","keyboard",zh),ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Dh=Dt.extend({addHooks:function(){G(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var s=lh(i),l=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var c=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),Bn(i)},_performZoom:function(){var i=this._map,s=i.getZoom(),l=this._map.options.zoomSnap||0;i._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,m=l?Math.ceil(f/l)*l:f,k=i._limitZoom(s+(this._delta>0?m:-m))-s;this._delta=0,this._startTime=null,k&&(i.options.scrollWheelZoom==="center"?i.setZoom(s+k):i.setZoomAround(this._lastMousePos,s+k))}});ie.addInitHook("addHandler","scrollWheelZoom",Dh);var S_=600;ie.mergeOptions({tapHold:W.touchNative&&W.safari&&W.mobile,tapTolerance:15});var Bh=Dt.extend({addHooks:function(){G(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var s=i.touches[0];this._startPos=this._newPos=new N(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(G(document,"touchend",ze),G(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),S_),G(document,"touchend touchcancel contextmenu",this._cancel,this),G(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){he(document,"touchend",ze),he(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)},_onMove:function(i){var s=i.touches[0];this._newPos=new N(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,s){var l=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});l._simulated=!0,s.target.dispatchEvent(l)}});ie.addInitHook("addHandler","tapHold",Bh),ie.mergeOptions({touchZoom:W.touch,bounceAtZoomLimits:!0});var $h=Dt.extend({addHooks:function(){Y(this._map._container,"leaflet-touch-zoom"),G(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Se(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var s=this._map;if(!(!i.touches||i.touches.length!==2||s._animatingZoom||this._zooming)){var l=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(l.add(c)._divideBy(2))),this._startDist=l.distanceTo(c),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),G(document,"touchmove",this._onTouchMove,this),G(document,"touchend touchcancel",this._onTouchEnd,this),ze(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var s=this._map,l=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]),f=l.distanceTo(c)/this._startDist;if(this._zoom=s.getScaleZoom(f,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&f<1||this._zoom>s.getMaxZoom()&&f>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var m=l._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&m.x===0&&m.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),ke(this._animRequest);var k=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ue(k,this,!0),ze(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ke(this._animRequest),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ie.addInitHook("addHandler","touchZoom",$h),ie.BoxZoom=Ih,ie.DoubleClickZoom=Mh,ie.Drag=Rh,ie.Keyboard=zh,ie.ScrollWheelZoom=Dh,ie.TapHold=Bh,ie.TouchZoom=$h,n.Bounds=Z,n.Browser=W,n.CRS=Le,n.Canvas=Oh,n.Circle=Ua,n.CircleMarker=Ps,n.Class=Qe,n.Control=bt,n.DivIcon=Eh,n.DivOverlay=Bt,n.DomEvent=Ug,n.DomUtil=Bg,n.Draggable=cn,n.Evented=ft,n.FeatureGroup=qt,n.GeoJSON=Gt,n.GridLayer=fr,n.Handler=Dt,n.Icon=ci,n.ImageOverlay=Ls,n.LatLng=ne,n.LatLngBounds=ce,n.Layer=Tt,n.LayerGroup=ui,n.LineUtil=e_,n.Map=ie,n.Marker=Ss,n.Mixin=Kg,n.Path=hn,n.Point=N,n.PolyUtil=Gg,n.Polygon=hi,n.Polyline=Kt,n.Popup=Os,n.PosAnimation=uh,n.Projection=t_,n.Rectangle=Ah,n.Renderer=Jt,n.SVG=mr,n.SVGOverlay=Th,n.TileLayer=fi,n.Tooltip=js,n.Transformation=fa,n.Util=Vt,n.VideoOverlay=bh,n.bind=u,n.bounds=K,n.canvas=jh,n.circle=u_,n.circleMarker=l_,n.control=cr,n.divIcon=v_,n.extend=o,n.featureGroup=s_,n.geoJSON=Ph,n.geoJson=d_,n.gridLayer=y_,n.icon=o_,n.imageOverlay=f_,n.latLng=q,n.latLngBounds=se,n.layerGroup=r_,n.map=Fg,n.marker=a_,n.point=j,n.polygon=h_,n.polyline=c_,n.popup=g_,n.rectangle=k_,n.setOptions=C,n.stamp=d,n.svg=Nh,n.svgOverlay=m_,n.tileLayer=Ch,n.tooltip=__,n.transformation=nr,n.version=r,n.videoOverlay=p_;var P_=window.L;n.noConflict=function(){return window.L=P_,this},window.L=n})})(Ou,Ou.exports);var ps=Ou.exports;function ua(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function Ic(t,e){return e==null?function(r,o){const a=B.useRef();return a.current||(a.current=t(r,o)),a}:function(r,o){const a=B.useRef();a.current||(a.current=t(r,o));const u=B.useRef(r),{instance:h}=a.current;return B.useEffect(function(){u.current!==r&&(e(h,r,u.current),u.current=r)},[h,r,o]),a}}function ag(t,e){B.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Fx(t){return function(n){const r=Nc(),o=t(la(n,r),r);return ig(r.map,n.attribution),Ac(o.current,n.eventHandlers),ag(o.current,r),o}}function Zx(t,e){const n=B.useRef();B.useEffect(function(){if(e.pathOptions!==n.current){const o=e.pathOptions??{};t.instance.setStyle(o),n.current=o}},[t,e])}function Wx(t){return function(n){const r=Nc(),o=t(la(n,r),r);return Ac(o.current,n.eventHandlers),ag(o.current,r),Zx(o.current,n),o}}function Hx(t,e){const n=Ic(t),r=Ux(n,e);return Bx(r)}function lg(t,e){const n=Ic(t,e),r=Wx(n);return Dx(r)}function Vx(t,e){const n=Ic(t,e),r=Fx(n);return $x(r)}function qx(t,e,n){const{opacity:r,zIndex:o}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),o!=null&&o!==n.zIndex&&t.setZIndex(o)}const _f=lg(function({center:e,children:n,...r},o){const a=new ps.CircleMarker(e,r);return ua(a,rg(o,{overlayContainer:a}))},Mx);function ju(){return ju=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ju.apply(this,arguments)}function Kx({bounds:t,boundsOptions:e,center:n,children:r,className:o,id:a,placeholder:u,style:h,whenReady:d,zoom:p,...g},v){const[w]=B.useState({className:o,id:a,style:h}),[P,E]=B.useState(null);B.useImperativeHandle(v,()=>(P==null?void 0:P.map)??null,[P]);const C=B.useCallback(S=>{if(S!==null&&P===null){const y=new ps.Map(S,g);n!=null&&p!=null?y.setView(n,p):t!=null&&y.fitBounds(t,e),d!=null&&y.whenReady(d),E(zx(y))}},[]);B.useEffect(()=>()=>{P==null||P.map.remove()},[P]);const z=P?Tl.createElement(og,{value:P},r):u??null;return Tl.createElement("div",ju({},w,{ref:C}),z)}const Gx=B.forwardRef(Kx),Jx=lg(function({positions:e,...n},r){const o=new ps.Polyline(e,n);return ua(o,rg(r,{overlayContainer:o}))},function(e,n,r){n.positions!==r.positions&&e.setLatLngs(n.positions)}),Qx=Vx(function({url:e,...n},r){const o=new ps.TileLayer(e,la(n,r));return ua(o,r)},function(e,n,r){qx(e,n,r);const{url:o}=n;o!=null&&o!==r.url&&e.setUrl(o)}),vf=Hx(function(e,n){const r=new ps.Tooltip(e,n.overlayContainer);return ua(r,n)},function(e,n,{position:r},o){B.useEffect(function(){const u=n.overlayContainer;if(u==null)return;const{instance:h}=e,d=g=>{g.tooltip===h&&(r!=null&&h.setLatLng(r),h.update(),o(!0))},p=g=>{g.tooltip===h&&o(!1)};return u.on({tooltipopen:d,tooltipclose:p}),u.bindTooltip(h),function(){u.off({tooltipopen:d,tooltipclose:p}),u._map!=null&&u.unbindTooltip()}},[e,n,o,r])});function ca({buses:t=[],stops:e=[],center:n,showRoute:r=!1,selectedBusId:o}){const a=B.useMemo(()=>[9.5916,76.5222],[]),u=B.useMemo(()=>n?[n.lat,n.lng]:e.length>0?[e[0].lat,e[0].lng]:t.length>0?[t[0].current_lat,t[0].current_lng]:a,[n,e,t,a]),h=`${u[0]}-${u[1]}`,d=B.useMemo(()=>e.map(g=>[g.lat,g.lng]),[e]),p=g=>{switch(g){case"on-time":return"#10B981";case"delayed":return"#F59E0B";case"overcrowded":return"#EF4444";default:return"#6B7280"}};return _.jsxs("div",{className:"relative w-full h-full",children:[_.jsxs(Gx,{center:u,zoom:13,scrollWheelZoom:!0,style:{height:"100%",width:"100%",zIndex:0},className:"rounded-xl overflow-hidden shadow-inner leaflet-parent",children:[_.jsx(Qx,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"}),r&&d.length>0&&_.jsx(Jx,{positions:d,pathOptions:{color:"#3B82F6",weight:4,opacity:.9}}),e.map(g=>_.jsx(_f,{center:[g.lat,g.lng],radius:8,pathOptions:{color:"#1D4ED8",fillColor:"#2563EB",fillOpacity:.9,weight:2},children:_.jsx(vf,{direction:"top",offset:[0,-10],opacity:1,permanent:!0,children:_.jsx("span",{className:"text-xs font-semibold text-blue-900",children:g.name})})},g.id)),t.map(g=>{const v=o===g.id;return _.jsx(_f,{center:[g.current_lat,g.current_lng],radius:v?12:10,pathOptions:{color:"#ffffff",weight:v?3:2,fillColor:p(g.status),fillOpacity:1},children:_.jsx(vf,{direction:"top",offset:[0,-12],opacity:1,permanent:!0,children:_.jsx("div",{className:"text-xs font-semibold text-gray-800",children:g.number})})},g.id)})]},h),_.jsxs("div",{className:"absolute bottom-4 right-4 bg-white px-3 py-2 rounded-lg shadow-md text-xs",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),_.jsx("span",{children:"On Time"})]}),_.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[_.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),_.jsx("span",{children:"Delayed"})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),_.jsx("span",{children:"Overcrowded"})]})]})]})}function Yx({onBusSelect:t,onMenuClick:e,onSeeAllStops:n,onSearchResults:r}){var ft,N,V;const[o,a]=B.useState([]),[u,h]=B.useState([]),[d,p]=B.useState([]),[g,v]=B.useState(!0),[w,P]=B.useState(""),[E,C]=B.useState("City Center"),[z,S]=B.useState("Railway Station"),[y,x]=B.useState(null);B.useEffect(()=>{b()},[]);const b=async()=>{v(!0);try{const[j,Z,K]=await Promise.all([wt.from("buses").select("*").order("number"),wt.from("routes").select("*"),wt.from("stops").select("*").order("sequence")]);j.data&&a(j.data),Z.data&&h(Z.data),K.data&&p(K.data)}catch(j){console.error("Error fetching data:",j)}finally{v(!1)}},M=[{id:"mock-1",number:"KL-07-101",route_id:((ft=u[0])==null?void 0:ft.id)??"mock-route",current_lat:0,current_lng:0,status:"on-time",next_stop_id:null,pollution_level:"low",maintenance_status:"ok",updated_at:new Date().toISOString(),created_at:new Date().toISOString()},{id:"mock-2",number:"KL-07-202",route_id:((N=u[1])==null?void 0:N.id)??"mock-route",current_lat:0,current_lng:0,status:"delayed",next_stop_id:null,pollution_level:"low",maintenance_status:"ok",updated_at:new Date().toISOString(),created_at:new Date().toISOString()},{id:"mock-3",number:"KL-07-303",route_id:((V=u[2])==null?void 0:V.id)??"mock-route",current_lat:0,current_lng:0,status:"overcrowded",next_stop_id:null,pollution_level:"low",maintenance_status:"ok",updated_at:new Date().toISOString(),created_at:new Date().toISOString()}];B.useEffect(()=>{const j={lat:9.9312,lng:76.2673};navigator.geolocation.getCurrentPosition(Z=>{x({lat:Z.coords.latitude,lng:Z.coords.longitude})},()=>{x(j)},{enableHighAccuracy:!0,maximumAge:3e4,timeout:1e4})},[]);const I=j=>j*Math.PI/180,D=(j,Z)=>{const ce=I(Z.lat-j.lat),se=I(Z.lng-j.lng),ne=I(j.lat),q=I(Z.lat),Le=Math.sin(ce/2),st=Math.sin(se/2);return 6371*(2*Math.atan2(Math.sqrt(Le*Le+Math.cos(ne)*Math.cos(q)*st*st),Math.sqrt(1-(Le*Le+Math.cos(ne)*Math.cos(q)*st*st))))},U=y?d.reduce((j,Z)=>{if(!j)return Z;const K=D(y,{lat:Z.lat,lng:Z.lng}),ce=D(y,{lat:j.lat,lng:j.lng});return K<ce?Z:j},null):null,le=j=>j.number.split("").reduce((K,ce)=>K+ce.charCodeAt(0),0)%15+2,Q=U?o.filter(j=>j.route_id===U.route_id).map(j=>({bus:j,eta:le(j)})).sort((j,Z)=>j.eta-Z.eta):[],ue=M.slice(0,3).map(j=>({bus:j,eta:le(j)})),ke=(Q.length?Q:ue).slice(0,5),Vt=j=>j==="on-time"?"On Time":j==="delayed"?"Delayed":j==="overcrowded"?"Overcrowded":j==="breakdown"?"Breakdown":j,Qe=j=>j==="on-time"?"bg-green-100 text-green-700":j==="delayed"?"bg-orange-100 text-orange-700":j==="overcrowded"?"bg-yellow-100 text-yellow-700":j==="breakdown"?"bg-red-100 text-red-700":"bg-gray-100 text-gray-700",tr=()=>{r({from:E,to:z})},Ce=()=>{r({from:E,to:z,busNumber:w})};return _.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[_.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 bg-white shadow-md",children:[_.jsxs("div",{className:"px-4 py-3 flex items-center gap-3",children:[_.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:_.jsx(d0,{className:"w-6 h-6 text-gray-700"})}),_.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Next Stop"})]}),_.jsx("div",{className:"px-4 pb-4",children:_.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-sm p-4",children:[_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsxs("div",{className:"flex-1 space-y-3",children:[_.jsxs("div",{className:"relative",children:[_.jsx("span",{className:"text-xs text-gray-500",children:"From"}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("div",{className:"w-10 flex flex-col items-center",children:[_.jsx("div",{className:"w-3 h-3 bg-blue-600 rounded-full"}),_.jsx("div",{className:"flex-1 w-px bg-gray-200"})]}),_.jsx("input",{value:E,onChange:j=>C(j.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]}),_.jsxs("div",{className:"relative",children:[_.jsx("span",{className:"text-xs text-gray-500",children:"To"}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 flex flex-col items-center",children:_.jsx("div",{className:"w-3 h-3 bg-emerald-500 rounded-full"})}),_.jsx("input",{value:z,onChange:j=>S(j.target.value),className:"w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]})]}),_.jsx("button",{onClick:()=>{C(z),S(E)},className:"mt-6 w-12 h-12 rounded-full border border-gray-200 flex items-center justify-center shadow-sm bg-white hover:bg-gray-50","aria-label":"Swap",children:_.jsxs("svg",{className:"w-5 h-5 text-gray-700",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[_.jsx("polyline",{points:"17 1 21 5 17 9"}),_.jsx("line",{x1:"3",y1:"5",x2:"21",y2:"5"}),_.jsx("polyline",{points:"7 15 3 19 7 23"}),_.jsx("line",{x1:"3",y1:"19",x2:"21",y2:"19"})]})})]}),_.jsx("div",{className:"mt-2",children:_.jsx("button",{onClick:tr,className:"w-full block py-3 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition text-sm md:text-base shadow-sm",children:"Find Bus"})}),_.jsxs("div",{className:"mt-4 relative",children:[_.jsx(p0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),_.jsx("input",{type:"text",placeholder:"Search bus number...",value:w,onChange:j=>P(j.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),_.jsx("div",{className:"mt-2",children:_.jsx("button",{onClick:Ce,className:"w-full block py-3 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 transition text-sm md:text-base shadow-sm",children:"Search"})})]})})]}),_.jsxs("div",{className:"flex-1 pt-[240px]",children:[_.jsx("div",{className:"h-[42vh] relative px-4",children:_.jsx("div",{className:"h-full rounded-2xl overflow-hidden shadow-lg",children:_.jsx(ca,{buses:o,stops:d})})}),_.jsxs("div",{className:"bg-gray-50 overflow-y-auto px-4 py-4 space-y-4",children:[_.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-4 border border-gray-100 flex flex-col gap-2",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Nearest bus stop"}),_.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Ernakulam"})]}),_.jsxs("button",{onClick:n,className:"text-sm text-orange-600 font-semibold hover:underline flex items-center gap-1",children:["See all stops",_.jsx("span",{"aria-hidden":!0,children:""})]})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-700 font-semibold",children:""}),_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Ernakulam"}),_.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-emerald-100 text-emerald-700 flex items-center gap-1",children:" 1 min away"})]}),_.jsx("p",{className:"text-sm text-gray-700",children:"To Kottarakkara Bus Stand"}),_.jsx("p",{className:"text-xs text-gray-500",children:"04:43 AM"}),_.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Via: Kasaragodu, Kozhikkodu, Tirur, Thrissur, Angamali"})]})]})]}),_.jsxs("div",{children:[_.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Current Available Buses Near You"}),g&&o.length===0?_.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading buses..."}):ke.length===0?_.jsx("div",{className:"text-center py-8 text-gray-500",children:"No buses nearby"}):_.jsx("div",{className:"space-y-3",children:ke.map(({bus:j,eta:Z})=>{const K=u.find(se=>se.id===j.route_id),ce=Z;return _.jsxs("div",{className:"flex items-center gap-3 bg-white rounded-2xl shadow-sm p-3 border border-gray-100",children:[_.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 text-blue-700 flex items-center justify-center font-semibold",children:""}),_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("p",{className:"text-sm font-semibold text-gray-900",children:j.number}),K&&_.jsx("span",{className:"text-xs text-gray-500",children:K.name})]}),_.jsxs("p",{className:"text-xs text-gray-500",children:["ETA: ",ce," min"]})]}),_.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${Qe(j.status)}`,children:Vt(j.status)}),_.jsx("button",{className:"text-sm text-blue-600 font-semibold hover:underline",onClick:()=>t(j.id),children:"View"})]},j.id)})})]})]})]})]})}function Ui({status:t,type:e="bus"}){const n=()=>{if(e==="bus")switch(t){case"on-time":return"bg-green-100 text-green-700";case"delayed":return"bg-yellow-100 text-yellow-700";case"overcrowded":return"bg-red-100 text-red-700";case"breakdown":return"bg-red-200 text-red-800";default:return"bg-gray-100 text-gray-700"}else if(e==="pollution")switch(t){case"low":return"bg-green-100 text-green-700";case"medium":return"bg-yellow-100 text-yellow-700";case"high":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}else switch(t){case"ok":return"bg-green-100 text-green-700";case"needs-service":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},r=()=>{if(e==="bus")switch(t){case"on-time":return"On Time";case"overcrowded":return"Overcrowded";case"breakdown":return"Breakdown";default:return"Delayed"}else return e==="pollution"?t.charAt(0).toUpperCase()+t.slice(1):t==="ok"?"OK":"Needs Service"};return _.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${n()}`,children:r()})}function Xx({busId:t,onBack:e,onViewRoute:n}){const[r,o]=B.useState(null),[a,u]=B.useState(null),[h,d]=B.useState(null),[p,g]=B.useState([]),[v,w]=B.useState(!0),P=B.useCallback(async()=>{w(!0);try{const{data:C}=await wt.from("buses").select("*").eq("id",t).maybeSingle();if(C){o(C);const[z,S,y]=await Promise.all([wt.from("routes").select("*").eq("id",C.route_id).maybeSingle(),C.next_stop_id?wt.from("stops").select("*").eq("id",C.next_stop_id).maybeSingle():Promise.resolve({data:null}),wt.from("stops").select("*").eq("route_id",C.route_id).order("sequence")]);z.data&&u(z.data),S.data&&d(S.data),y.data&&g(y.data)}}catch(C){console.error("Error fetching bus details:",C)}finally{w(!1)}},[t]);if(B.useEffect(()=>{P()},[P]),v)return _.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:_.jsx("div",{className:"text-gray-500",children:"Loading..."})});if(!r)return _.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:_.jsx("div",{className:"text-gray-500",children:"Bus not found"})});const E=Math.floor(Math.random()*15)+2;return _.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[_.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 bg-white shadow-md",children:_.jsxs("div",{className:"px-4 py-3 flex items-center gap-3",children:[_.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:_.jsx(Tc,{className:"w-6 h-6 text-gray-700"})}),_.jsx("h1",{className:"text-xl font-bold text-gray-900",children:r.number})]})}),_.jsxs("div",{className:"flex-1 pt-16",children:[_.jsx("div",{className:"h-1/2 relative",children:_.jsx(ca,{buses:[r],stops:p,selectedBusId:r.id})}),_.jsx("div",{className:"h-1/2 bg-white overflow-y-auto",children:_.jsxs("div",{className:"p-4 space-y-4",children:[_.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Status"}),_.jsx(Ui,{status:r.status,type:"bus"})]}),a&&_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(f0,{className:"w-5 h-5 text-blue-600"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-600",children:"Route"}),_.jsx("p",{className:"font-medium text-gray-900",children:a.name}),_.jsx("p",{className:"text-sm text-gray-500",children:a.description})]})]}),h&&_.jsx("div",{className:"pt-3 border-t border-gray-100",children:_.jsxs("div",{className:"flex items-start gap-2",children:[_.jsx(Am,{className:"w-5 h-5 text-blue-600 mt-0.5"}),_.jsxs("div",{className:"flex-1",children:[_.jsx("p",{className:"text-sm text-gray-600",children:"Next Stop"}),_.jsx("p",{className:"font-medium text-gray-900",children:h.name}),_.jsxs("div",{className:"flex items-center gap-1 mt-1 text-sm text-gray-500",children:[_.jsx(h0,{className:"w-4 h-4"}),_.jsxs("span",{children:["Arriving in ",E," minutes"]})]})]})]})}),_.jsx("button",{onClick:()=>a&&n(a.id),className:"w-full mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"View Full Route"})]})]}),_.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4",children:[_.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Bus Information"}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{className:"text-gray-600",children:"Pollution Level"}),_.jsx(Ui,{status:r.pollution_level,type:"pollution"})]}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{className:"text-gray-600",children:"Maintenance Status"}),_.jsx(Ui,{status:r.maintenance_status,type:"maintenance"})]}),_.jsx("div",{className:"pt-3 border-t border-gray-100",children:_.jsxs("span",{className:"text-sm text-gray-500",children:["Last updated: ",new Date(r.updated_at).toLocaleTimeString()]})})]})]})]})})]})]})}function e1({routeId:t,onBack:e}){const[n,r]=B.useState(null),[o,a]=B.useState([]),[u,h]=B.useState([]),[d,p]=B.useState(!0),g=B.useMemo(()=>new Date,[]),v=P=>{const E=new Date(g.getTime()+P*6*60*1e3),C=(P%2===0?2:0)+(P===0?0:1),z=new Date(E.getTime()+C*60*1e3);return{scheduled:E,actual:z,delayMinutes:C}},w=B.useCallback(async()=>{p(!0);try{const[P,E,C]=await Promise.all([wt.from("routes").select("*").eq("id",t).maybeSingle(),wt.from("stops").select("*").eq("route_id",t).order("sequence"),wt.from("buses").select("*").eq("route_id",t)]);P.data&&r(P.data),E.data&&a(E.data),C.data&&h(C.data)}catch(P){console.error("Error fetching route data:",P)}finally{p(!1)}},[t]);return B.useEffect(()=>{w()},[w]),d?_.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:_.jsx("div",{className:"text-gray-500",children:"Loading..."})}):n?_.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[_.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 bg-white shadow-md",children:_.jsxs("div",{className:"px-4 py-3 flex items-center gap-3",children:[_.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:_.jsx(Tc,{className:"w-6 h-6 text-gray-700"})}),_.jsxs("div",{children:[_.jsx("h1",{className:"text-xl font-bold text-gray-900",children:n.name}),_.jsx("p",{className:"text-sm text-gray-600",children:n.description})]})]})}),_.jsxs("div",{className:"flex-1 pt-20",children:[_.jsx("div",{className:"h-1/2 relative",children:_.jsx(ca,{buses:u,stops:o,showRoute:!0})}),_.jsxs("div",{className:"h-1/2 bg-white overflow-y-auto px-4 py-4",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Route Stops"}),_.jsxs("span",{className:"text-sm text-gray-500",children:[o.length," stops"]})]}),o.length===0?_.jsx("div",{className:"text-center py-8 text-gray-500",children:"No stops found"}):_.jsx("div",{className:"space-y-1",children:o.map((P,E)=>_.jsxs("div",{className:"flex items-start gap-3 py-3 relative",children:[E<o.length-1&&_.jsx("div",{className:"absolute left-[15px] top-12 bottom-0 w-0.5 bg-blue-200"}),_.jsx("div",{className:"relative z-10 flex-shrink-0",children:_.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center border-2 border-blue-500",children:_.jsx("span",{className:"text-xs font-semibold text-blue-600",children:E+1})})}),_.jsxs("div",{className:"flex-1 pt-1",children:[_.jsx("h3",{className:"font-medium text-gray-900",children:P.name}),_.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-1",children:[_.jsx(Am,{className:"w-3 h-3"}),_.jsxs("span",{children:[P.lat.toFixed(4),", ",P.lng.toFixed(4)]})]})]}),(()=>{const{scheduled:C,actual:z,delayMinutes:S}=v(E);return _.jsxs("div",{className:"flex flex-col items-end text-xs w-24 text-right",children:[_.jsx("span",{className:"text-gray-800 font-semibold",children:C.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),_.jsx("span",{className:S>0?"text-red-600 font-semibold":"text-green-600 font-semibold",children:z.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),S>0&&_.jsxs("span",{className:"text-[10px] text-red-500",children:["Delay: ",S," min"]})]})})(),E===0&&_.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:"Start"}),E===o.length-1&&_.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded-full",children:"End"})]},P.id))}),u.length>0&&_.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[_.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Active Buses"}),_.jsx("div",{className:"flex gap-2 flex-wrap",children:u.map(P=>_.jsx("span",{className:"px-3 py-1 bg-white text-blue-700 text-sm font-medium rounded-full shadow-sm",children:P.number},P.id))})]})]})]})]}):_.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:_.jsx("div",{className:"text-gray-500",children:"Route not found"})})}function t1({onBack:t}){const[e,n]=B.useState([]),[r,o]=B.useState([]),[a,u]=B.useState(!0),[h,d]=B.useState("all"),[p,g]=B.useState(!1),[v,w]=B.useState(!1),[P,E]=B.useState(""),[C,z]=B.useState("");B.useEffect(()=>{S()},[]);const S=async()=>{u(!0);try{const[b,M]=await Promise.all([wt.from("buses").select("*").order("number"),wt.from("routes").select("*")]);b.data&&n(b.data),M.data&&o(M.data)}catch(b){console.error("Error fetching data:",b)}finally{u(!1)}},y=e.filter(b=>h==="needs-attention"?b.pollution_level==="high"||b.maintenance_status==="needs-service":!0),x=e.filter(b=>b.pollution_level==="high"||b.maintenance_status==="needs-service").length;return _.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[_.jsxs("div",{className:"bg-white shadow-md",children:[_.jsxs("div",{className:"px-4 py-3 flex items-center gap-3",children:[_.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:_.jsx(Tc,{className:"w-6 h-6 text-gray-700"})}),_.jsxs("div",{children:[_.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Monitor"}),_.jsx("p",{className:"text-sm text-gray-600",children:"Bus fleet management"})]})]}),_.jsxs("div",{className:"px-4 pb-3 flex items-center gap-3",children:[_.jsxs("div",{className:"flex-1 flex gap-2",children:[_.jsxs("button",{onClick:()=>d("all"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${h==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All Buses (",e.length,")"]}),_.jsxs("button",{onClick:()=>d("needs-attention"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${h==="needs-attention"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Needs Attention (",x,")"]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>{var b;E(""),z(((b=r[0])==null?void 0:b.id)??""),g(!0),w(!1)},className:"px-3 py-2 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 transition",children:"Add"}),_.jsx("button",{onClick:()=>{E(""),w(!0),g(!1)},className:"px-3 py-2 rounded-lg bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition",children:"Remove"})]})]})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a?_.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading buses..."}):y.length===0?_.jsxs("div",{className:"text-center py-8",children:[_.jsx(c0,{className:"w-12 h-12 text-green-500 mx-auto mb-2"}),_.jsx("p",{className:"text-gray-500",children:"All buses are running smoothly"})]}):_.jsx("div",{className:"space-y-3",children:y.map(b=>{const M=r.find(D=>D.id===b.route_id),I=b.pollution_level==="high"||b.maintenance_status==="needs-service";return _.jsx("div",{className:`bg-white rounded-xl shadow-md p-4 ${I?"border-2 border-red-200":""}`,children:_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx("div",{className:"flex-shrink-0",children:_.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${I?"bg-red-100":"bg-gray-100"}`,children:_.jsx(u0,{className:`w-6 h-6 ${I?"text-red-600":"text-gray-600"}`})})}),_.jsxs("div",{className:"flex-1 min-w-0",children:[_.jsxs("div",{className:"flex items-center justify-between mb-2",children:[_.jsx("h3",{className:"font-semibold text-gray-900",children:b.number}),I&&_.jsx(l0,{className:"w-5 h-5 text-red-600"})]}),M&&_.jsx("p",{className:"text-sm text-gray-600 mb-3",children:M.name}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{className:"text-sm text-gray-600",children:"Pollution Level"}),_.jsx(Ui,{status:b.pollution_level,type:"pollution"})]}),_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("span",{className:"text-sm text-gray-600",children:"Maintenance"}),_.jsx(Ui,{status:b.maintenance_status,type:"maintenance"})]}),_.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[_.jsx("span",{className:"text-sm text-gray-600",children:"Status"}),_.jsx(Ui,{status:b.status,type:"bus"})]})]}),_.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:_.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",new Date(b.updated_at).toLocaleString()]})})]})]})},b.id)})})}),(p||v)&&_.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 px-4",children:_.jsxs("div",{className:"bg-white rounded-xl shadow-lg w-full max-w-md p-5 space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:p?"Add Bus":"Remove Bus"}),_.jsx("button",{onClick:()=>{g(!1),w(!1)},className:"text-gray-500 hover:text-gray-700","aria-label":"Close",children:""})]}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"text-sm text-gray-700",children:"Bus Number"}),_.jsx("input",{value:P,onChange:b=>E(b.target.value),className:"mt-1 w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",placeholder:"e.g., KL-07-999"})]}),p&&_.jsxs("div",{children:[_.jsx("label",{className:"text-sm text-gray-700",children:"Route"}),_.jsx("select",{value:C,onChange:b=>z(b.target.value),className:"mt-1 w-full border border-gray-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:r.map(b=>_.jsx("option",{value:b.id,children:b.name},b.id))})]})]}),_.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[_.jsx("button",{onClick:()=>{g(!1),w(!1)},className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 hover:bg-gray-200",children:"Cancel"}),p?_.jsx("button",{onClick:()=>{if(!P||!C)return;const b=new Date().toISOString(),M={id:`mock-${Date.now()}`,number:P,route_id:C,current_lat:0,current_lng:0,status:"on-time",next_stop_id:null,pollution_level:"low",maintenance_status:"ok",updated_at:b,created_at:b};n(I=>[...I,M]),g(!1)},className:"px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700",children:"Save"}):_.jsx("button",{onClick:()=>{P&&(n(b=>b.filter(M=>M.number!==P)),w(!1))},className:"px-4 py-2 rounded-lg bg-red-600 text-white font-semibold hover:bg-red-700",children:"Remove"})]})]})}),_.jsx("div",{className:"bg-white border-t border-gray-200 p-4",children:_.jsx("div",{className:"flex items-center justify-between text-sm",children:_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsxs("div",{children:[_.jsx("span",{className:"text-gray-600",children:"Total Buses: "}),_.jsx("span",{className:"font-semibold text-gray-900",children:e.length})]}),_.jsxs("div",{children:[_.jsx("span",{className:"text-gray-600",children:"Operational: "}),_.jsx("span",{className:"font-semibold text-green-600",children:e.filter(b=>b.maintenance_status==="ok").length})]})]})})})]})}const to={lat:9.9312,lng:76.2673};function n1({onBack:t}){const[e,n]=B.useState(null),[r,o]=B.useState(!1);B.useEffect(()=>{if(r){n(to);return}if(!navigator.geolocation){n(to);return}const h=navigator.geolocation.watchPosition(d=>{n({lat:d.coords.latitude,lng:d.coords.longitude})},()=>n(to),{enableHighAccuracy:!0,maximumAge:1e4,timeout:1e4});return()=>navigator.geolocation.clearWatch(h)},[r]);const a=B.useMemo(()=>e||to,[e]),u=B.useMemo(()=>[{id:"mock-stop-1",route_id:"mock-route",name:"Kochi City Center",lat:9.9312,lng:76.2673,sequence:1,created_at:new Date().toISOString()},{id:"mock-stop-2",route_id:"mock-route",name:"Marine Drive",lat:9.9816,lng:76.2767,sequence:2,created_at:new Date().toISOString()},{id:"mock-stop-3",route_id:"mock-route",name:"Ernakulam South",lat:9.97,lng:76.29,sequence:3,created_at:new Date().toISOString()}],[]);return _.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[_.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white shadow-sm",children:[_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-gray-500",children:"Near you"}),_.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Live stops"})]}),_.jsx("button",{onClick:t,className:"px-3 py-2 text-sm font-medium text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Back"})]}),_.jsxs("div",{className:"p-4 flex items-center gap-3 bg-white shadow-sm",children:[_.jsxs("label",{className:"flex items-center gap-2 text-sm text-gray-700",children:[_.jsx("input",{type:"checkbox",className:"w-4 h-4",checked:r,onChange:h=>o(h.target.checked)}),"Use mock location (Kochi)"]}),_.jsxs("span",{className:"text-xs text-gray-500",children:["Current: ",a.lat.toFixed(4),", ",a.lng.toFixed(4)]})]}),_.jsx("div",{className:"flex-1 p-4",children:_.jsx("div",{className:"h-full rounded-xl overflow-hidden shadow",children:_.jsx(ca,{center:a,stops:u})})})]})}const i1={"on-time":"bg-green-100 text-green-700",delayed:"bg-orange-100 text-orange-700",overcrowded:"bg-yellow-100 text-yellow-800",breakdown:"bg-red-100 text-red-700"},r1={"on-time":"On Time",delayed:"Delayed",overcrowded:"Overcrowded",breakdown:"Breakdown"},s1=[{id:"r1",busNumber:"KL-07-101",routeFrom:"City Center",routeTo:"Railway Station",startTime:"06:15",endTime:"07:10",eta:"12 min",status:"on-time"},{id:"r2",busNumber:"KL-07-202",routeFrom:"City Center",routeTo:"Railway Station",startTime:"06:45",endTime:"07:40",eta:"24 min",status:"delayed"},{id:"r3",busNumber:"KL-07-303",routeFrom:"City Center",routeTo:"Railway Station",startTime:"07:10",endTime:"08:00",eta:"35 min",status:"overcrowded"},{id:"r4",busNumber:"KL-07-404",routeFrom:"City Center",routeTo:"Railway Station",startTime:"07:30",endTime:"08:25",eta:"48 min",status:"breakdown"}];function o1({params:t,onBack:e}){const[n,r]=B.useState(0),o=B.useMemo(()=>{const u=new Date;return u.setDate(u.getDate()+n),u.toLocaleDateString(void 0,{weekday:"short",month:"short",day:"numeric"})},[n]),a=B.useMemo(()=>{const u=s1.filter(d=>d.routeFrom.toLowerCase().includes(t.from.toLowerCase())&&d.routeTo.toLowerCase().includes(t.to.toLowerCase()));if(!t.busNumber)return u;const h=t.busNumber.toLowerCase();return u.filter(d=>d.busNumber.toLowerCase().includes(h))},[t]);return _.jsxs("div",{className:"min-h-screen bg-gray-50",children:[_.jsxs("div",{className:"bg-white shadow-md p-4 flex items-center gap-3",children:[_.jsx("button",{onClick:e,className:"p-2 rounded-lg hover:bg-gray-100 border border-gray-200","aria-label":"Back",children:""}),_.jsxs("div",{children:[_.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Results"}),_.jsxs("p",{className:"text-sm text-gray-600",children:[t.from,"  ",t.to]})]})]}),_.jsxs("div",{className:"p-4",children:[_.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 flex items-center justify-between",children:[_.jsx("button",{onClick:()=>r(u=>u-1),className:"px-3 py-2 rounded-lg border border-gray-200 hover:bg-gray-100",children:"Previous Day"}),_.jsx("span",{className:"text-sm font-semibold text-gray-800",children:o}),_.jsx("button",{onClick:()=>r(u=>u+1),className:"px-3 py-2 rounded-lg border border-gray-200 hover:bg-gray-100",children:"Next Day"})]}),_.jsxs("div",{className:"mt-4 space-y-3",children:[a.map(u=>_.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 space-y-2",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("span",{className:"text-base font-bold text-gray-900",children:u.busNumber}),_.jsxs("span",{className:"text-sm text-gray-600",children:[u.routeFrom,"  ",u.routeTo]})]}),_.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${i1[u.status]}`,children:r1[u.status]})]}),_.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-700",children:[_.jsxs("span",{children:[u.startTime,"  ",u.endTime]}),_.jsxs("span",{className:"text-gray-900 font-medium",children:["ETA ",u.eta]})]})]},u.id)),a.length===0&&_.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-4 text-center text-gray-600",children:"No buses found for this day."})]})]})]})}function a1(){const[t,e]=B.useState({type:"passenger-home"}),[n,r]=B.useState(!1),o=v=>{e({type:"bus-details",busId:v})},a=v=>{e({type:"route-tracking",routeId:v})},u=v=>{e({type:"results",params:v})},h=()=>{e({type:"near-you"})},d=()=>{e({type:"admin-monitor"}),r(!1)},p=()=>{e({type:"passenger-home"})},g=()=>{switch(t.type){case"passenger-home":return _.jsx(Yx,{onBusSelect:o,onMenuClick:()=>r(!0),onSeeAllStops:h,onSearchResults:u});case"bus-details":return _.jsx(Xx,{busId:t.busId,onBack:p,onViewRoute:a});case"route-tracking":return _.jsx(e1,{routeId:t.routeId,onBack:()=>e({type:"passenger-home"})});case"admin-monitor":return _.jsx(t1,{onBack:p});case"near-you":return _.jsx(n1,{onBack:p});case"results":return _.jsx(o1,{params:t.params,onBack:p})}};return _.jsxs(_.Fragment,{children:[g(),n&&_.jsxs("div",{className:"fixed inset-0 z-[2000]",children:[_.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>r(!1)}),_.jsxs("div",{className:"absolute top-0 left-0 bottom-0 w-80 bg-white shadow-xl",children:[_.jsxs("div",{className:"p-4 border-b border-gray-200",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Next Stop"}),_.jsx("button",{onClick:()=>r(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:_.jsx(_0,{className:"w-6 h-6 text-gray-700"})})]}),_.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Bus Monitoring System"})]}),_.jsxs("div",{className:"p-4 space-y-2",children:[_.jsxs("button",{onClick:()=>{p(),r(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 transition-colors text-left",children:[_.jsx(g0,{className:"w-5 h-5 text-blue-600"}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium text-gray-900",children:"Passenger View"}),_.jsx("p",{className:"text-sm text-gray-600",children:"Track buses and routes"})]})]}),_.jsxs("button",{onClick:d,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 transition-colors text-left",children:[_.jsx(m0,{className:"w-5 h-5 text-red-600"}),_.jsxs("div",{children:[_.jsx("p",{className:"font-medium text-gray-900",children:"Admin Monitor"}),_.jsx("p",{className:"text-sm text-gray-600",children:"Fleet management"})]})]})]})]})]})]})}Nm(document.getElementById("root")).render(_.jsx(B.StrictMode,{children:_.jsx(a1,{})}));
