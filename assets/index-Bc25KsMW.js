(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var at=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ig(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Mg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var o=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return t[r]}})}),n}var vf={exports:{}},Do={},yf={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ss=Symbol.for("react.element"),Rg=Symbol.for("react.portal"),zg=Symbol.for("react.fragment"),Bg=Symbol.for("react.strict_mode"),Dg=Symbol.for("react.profiler"),$g=Symbol.for("react.provider"),Ug=Symbol.for("react.context"),Fg=Symbol.for("react.forward_ref"),Zg=Symbol.for("react.suspense"),Wg=Symbol.for("react.memo"),Hg=Symbol.for("react.lazy"),Zh=Symbol.iterator;function Vg(t){return t===null||typeof t!="object"?null:(t=Zh&&t[Zh]||t["@@iterator"],typeof t=="function"?t:null)}var wf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xf=Object.assign,kf={};function Ji(t,e,n){this.props=t,this.context=e,this.refs=kf,this.updater=n||wf}Ji.prototype.isReactComponent={};Ji.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ji.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sf(){}Sf.prototype=Ji.prototype;function bu(t,e,n){this.props=t,this.context=e,this.refs=kf,this.updater=n||wf}var Ou=bu.prototype=new Sf;Ou.constructor=bu;xf(Ou,Ji.prototype);Ou.isPureReactComponent=!0;var Wh=Array.isArray,Pf=Object.prototype.hasOwnProperty,ju={current:null},Tf={key:!0,ref:!0,__self:!0,__source:!0};function Ef(t,e,n){var r,o={},a=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(a=""+e.key),e)Pf.call(e,r)&&!Tf.hasOwnProperty(r)&&(o[r]=e[r]);var h=arguments.length-2;if(h===1)o.children=n;else if(1<h){for(var d=Array(h),p=0;p<h;p++)d[p]=arguments[p+2];o.children=d}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)o[r]===void 0&&(o[r]=h[r]);return{$$typeof:ss,type:t,key:a,ref:u,props:o,_owner:ju.current}}function qg(t,e){return{$$typeof:ss,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nu(t){return typeof t=="object"&&t!==null&&t.$$typeof===ss}function Kg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hh=/\/+/g;function Za(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Kg(""+t.key):e.toString(36)}function eo(t,e,n,r,o){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case ss:case Rg:u=!0}}if(u)return u=t,o=o(u),t=r===""?"."+Za(u,0):r,Wh(o)?(n="",t!=null&&(n=t.replace(Hh,"$&/")+"/"),eo(o,e,n,"",function(p){return p})):o!=null&&(Nu(o)&&(o=qg(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(Hh,"$&/")+"/")+t)),e.push(o)),1;if(u=0,r=r===""?".":r+":",Wh(t))for(var h=0;h<t.length;h++){a=t[h];var d=r+Za(a,h);u+=eo(a,e,n,d,o)}else if(d=Vg(t),typeof d=="function")for(t=d.call(t),h=0;!(a=t.next()).done;)a=a.value,d=r+Za(a,h++),u+=eo(a,e,n,d,o);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function As(t,e,n){if(t==null)return t;var r=[],o=0;return eo(t,r,"","",function(a){return e.call(n,a,o++)}),r}function Gg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ke={current:null},to={transition:null},Jg={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:to,ReactCurrentOwner:ju};function Lf(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:As,forEach:function(t,e,n){As(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return As(t,function(){e++}),e},toArray:function(t){return As(t,function(e){return e})||[]},only:function(t){if(!Nu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=Ji;ee.Fragment=zg;ee.Profiler=Dg;ee.PureComponent=bu;ee.StrictMode=Bg;ee.Suspense=Zg;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jg;ee.act=Lf;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xf({},t.props),o=t.key,a=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,u=ju.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(d in e)Pf.call(e,d)&&!Tf.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&h!==void 0?h[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){h=Array(d);for(var p=0;p<d;p++)h[p]=arguments[p+2];r.children=h}return{$$typeof:ss,type:t.type,key:o,ref:a,props:r,_owner:u}};ee.createContext=function(t){return t={$$typeof:Ug,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$g,_context:t},t.Consumer=t};ee.createElement=Ef;ee.createFactory=function(t){var e=Ef.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:Fg,render:t}};ee.isValidElement=Nu;ee.lazy=function(t){return{$$typeof:Hg,_payload:{_status:-1,_result:t},_init:Gg}};ee.memo=function(t,e){return{$$typeof:Wg,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=to.transition;to.transition={};try{t()}finally{to.transition=e}};ee.unstable_act=Lf;ee.useCallback=function(t,e){return Ke.current.useCallback(t,e)};ee.useContext=function(t){return Ke.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return Ke.current.useDeferredValue(t)};ee.useEffect=function(t,e){return Ke.current.useEffect(t,e)};ee.useId=function(){return Ke.current.useId()};ee.useImperativeHandle=function(t,e,n){return Ke.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return Ke.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return Ke.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return Ke.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return Ke.current.useReducer(t,e,n)};ee.useRef=function(t){return Ke.current.useRef(t)};ee.useState=function(t){return Ke.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return Ke.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return Ke.current.useTransition()};ee.version="18.3.1";yf.exports=ee;var U=yf.exports;const Sl=Ig(U);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg=U,Yg=Symbol.for("react.element"),Xg=Symbol.for("react.fragment"),ev=Object.prototype.hasOwnProperty,tv=Qg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nv={key:!0,ref:!0,__self:!0,__source:!0};function Cf(t,e,n){var r,o={},a=null,u=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)ev.call(e,r)&&!nv.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:Yg,type:t,key:a,ref:u,props:o,_owner:tv.current}}Do.Fragment=Xg;Do.jsx=Cf;Do.jsxs=Cf;vf.exports=Do;var x=vf.exports,bf={exports:{}},ut={},Of={exports:{}},jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,V){var R=j.length;j.push(V);e:for(;0<R;){var H=R-1>>>1,ne=j[H];if(0<o(ne,V))j[H]=V,j[R]=ne,R=H;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var V=j[0],R=j.pop();if(R!==V){j[0]=R;e:for(var H=0,ne=j.length,Ee=ne>>>1;H<Ee;){var ae=2*(H+1)-1,re=j[ae],q=ae+1,Je=j[q];if(0>o(re,R))q<ne&&0>o(Je,re)?(j[H]=Je,j[q]=R,H=q):(j[H]=re,j[ae]=R,H=ae);else if(q<ne&&0>o(Je,R))j[H]=Je,j[q]=R,H=q;else break e}}return V}function o(j,V){var R=j.sortIndex-V.sortIndex;return R!==0?R:j.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],_=1,g=null,v=3,P=!1,T=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(j){for(var V=n(p);V!==null;){if(V.callback===null)r(p);else if(V.startTime<=j)r(p),V.sortIndex=V.expirationTime,e(d,V);else break;V=n(p)}}function O(j){if(C=!1,k(j),!T)if(n(d)!==null)T=!0,Me(z);else{var V=n(p);V!==null&&Wt(O,V.startTime-j)}}function z(j,V){T=!1,C&&(C=!1,S(F),F=-1),P=!0;var R=v;try{for(k(V),g=n(d);g!==null&&(!(g.expirationTime>V)||j&&!le());){var H=g.callback;if(typeof H=="function"){g.callback=null,v=g.priorityLevel;var ne=H(g.expirationTime<=V);V=t.unstable_now(),typeof ne=="function"?g.callback=ne:g===n(d)&&r(d),k(V)}else r(d);g=n(d)}if(g!==null)var Ee=!0;else{var ae=n(p);ae!==null&&Wt(O,ae.startTime-V),Ee=!1}return Ee}finally{g=null,v=R,P=!1}}var M=!1,B=null,F=-1,de=5,Q=-1;function le(){return!(t.unstable_now()-Q<de)}function je(){if(B!==null){var j=t.unstable_now();Q=j;var V=!0;try{V=B(!0,j)}finally{V?Rn():(M=!1,B=null)}}else M=!1}var Rn;if(typeof y=="function")Rn=function(){y(je)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,la=ht.port2;ht.port1.onmessage=je,Rn=function(){la.postMessage(null)}}else Rn=function(){I(je,0)};function Me(j){B=j,M||(M=!0,Rn())}function Wt(j,V){F=I(function(){j(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){T||P||(T=!0,Me(z))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(j){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var R=v;v=V;try{return j()}finally{v=R}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,V){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var R=v;v=j;try{return V()}finally{v=R}},t.unstable_scheduleCallback=function(j,V,R){var H=t.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?H+R:H):R=H,j){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=R+ne,j={id:_++,callback:V,priorityLevel:j,startTime:R,expirationTime:ne,sortIndex:-1},R>H?(j.sortIndex=R,e(p,j),n(d)===null&&j===n(p)&&(C?(S(F),F=-1):C=!0,Wt(O,R-H))):(j.sortIndex=ne,e(d,j),T||P||(T=!0,Me(z))),j},t.unstable_shouldYield=le,t.unstable_wrapCallback=function(j){var V=v;return function(){var R=v;v=V;try{return j.apply(this,arguments)}finally{v=R}}}})(jf);Of.exports=jf;var iv=Of.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv=U,lt=iv;function A(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nf=new Set,Ur={};function ri(t,e){Fi(t,e),Fi(t+"Capture",e)}function Fi(t,e){for(Ur[t]=e,t=0;t<e.length;t++)Nf.add(e[t])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pl=Object.prototype.hasOwnProperty,sv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Vh={},qh={};function ov(t){return Pl.call(qh,t)?!0:Pl.call(Vh,t)?!1:sv.test(t)?qh[t]=!0:(Vh[t]=!0,!1)}function av(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lv(t,e,n,r){if(e===null||typeof e>"u"||av(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ge(t,e,n,r,o,a,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=u}var De={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){De[t]=new Ge(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];De[e]=new Ge(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){De[t]=new Ge(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){De[t]=new Ge(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){De[t]=new Ge(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){De[t]=new Ge(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){De[t]=new Ge(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){De[t]=new Ge(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){De[t]=new Ge(t,5,!1,t.toLowerCase(),null,!1,!1)});var Au=/[\-:]([a-z])/g;function Iu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Au,Iu);De[e]=new Ge(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Au,Iu);De[e]=new Ge(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Au,Iu);De[e]=new Ge(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){De[t]=new Ge(t,1,!1,t.toLowerCase(),null,!1,!1)});De.xlinkHref=new Ge("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){De[t]=new Ge(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mu(t,e,n,r){var o=De.hasOwnProperty(e)?De[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lv(e,n,o,r)&&(n=null),r||o===null?ov(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ln=rv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Is=Symbol.for("react.element"),Pi=Symbol.for("react.portal"),Ti=Symbol.for("react.fragment"),Ru=Symbol.for("react.strict_mode"),Tl=Symbol.for("react.profiler"),Af=Symbol.for("react.provider"),If=Symbol.for("react.context"),zu=Symbol.for("react.forward_ref"),El=Symbol.for("react.suspense"),Ll=Symbol.for("react.suspense_list"),Bu=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),Mf=Symbol.for("react.offscreen"),Kh=Symbol.iterator;function mr(t){return t===null||typeof t!="object"?null:(t=Kh&&t[Kh]||t["@@iterator"],typeof t=="function"?t:null)}var ye=Object.assign,Wa;function Pr(t){if(Wa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Wa=e&&e[1]||""}return`
`+Wa+t}var Ha=!1;function Va(t,e){if(!t||Ha)return"";Ha=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var r=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){r=p}t.call(e.prototype)}else{try{throw Error()}catch(p){r=p}t()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),a=r.stack.split(`
`),u=o.length-1,h=a.length-1;1<=u&&0<=h&&o[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(o[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||o[u]!==a[h]){var d=`
`+o[u].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=u&&0<=h);break}}}finally{Ha=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Pr(t):""}function uv(t){switch(t.tag){case 5:return Pr(t.type);case 16:return Pr("Lazy");case 13:return Pr("Suspense");case 19:return Pr("SuspenseList");case 0:case 2:case 15:return t=Va(t.type,!1),t;case 11:return t=Va(t.type.render,!1),t;case 1:return t=Va(t.type,!0),t;default:return""}}function Cl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ti:return"Fragment";case Pi:return"Portal";case Tl:return"Profiler";case Ru:return"StrictMode";case El:return"Suspense";case Ll:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case If:return(t.displayName||"Context")+".Consumer";case Af:return(t._context.displayName||"Context")+".Provider";case zu:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bu:return e=t.displayName||null,e!==null?e:Cl(t.type)||"Memo";case mn:e=t._payload,t=t._init;try{return Cl(t(e))}catch{}}return null}function cv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cl(e);case 8:return e===Ru?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function On(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hv(t){var e=Rf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(u){r=""+u,a.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ms(t){t._valueTracker||(t._valueTracker=hv(t))}function zf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Rf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bl(t,e){var n=e.checked;return ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Gh(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=On(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bf(t,e){e=e.checked,e!=null&&Mu(t,"checked",e,!1)}function Ol(t,e){Bf(t,e);var n=On(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jl(t,e.type,n):e.hasOwnProperty("defaultValue")&&jl(t,e.type,On(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Jh(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jl(t,e,n){(e!=="number"||fo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Tr=Array.isArray;function Ri(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+On(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Nl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(A(91));return ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qh(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(A(92));if(Tr(n)){if(1<n.length)throw Error(A(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:On(n)}}function Df(t,e){var n=On(e.value),r=On(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Yh(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $f(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Al(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$f(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rs,Uf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rs=Rs||document.createElement("div"),Rs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dv=["Webkit","ms","Moz","O"];Object.keys(br).forEach(function(t){dv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),br[e]=br[t]})});function Ff(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||br.hasOwnProperty(t)&&br[t]?(""+e).trim():e+"px"}function Zf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=Ff(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var fv=ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Il(t,e){if(e){if(fv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(A(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(A(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(A(61))}if(e.style!=null&&typeof e.style!="object")throw Error(A(62))}}function Ml(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rl=null;function Du(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zl=null,zi=null,Bi=null;function Xh(t){if(t=ls(t)){if(typeof zl!="function")throw Error(A(280));var e=t.stateNode;e&&(e=Wo(e),zl(t.stateNode,t.type,e))}}function Wf(t){zi?Bi?Bi.push(t):Bi=[t]:zi=t}function Hf(){if(zi){var t=zi,e=Bi;if(Bi=zi=null,Xh(t),e)for(t=0;t<e.length;t++)Xh(e[t])}}function Vf(t,e){return t(e)}function qf(){}var qa=!1;function Kf(t,e,n){if(qa)return t(e,n);qa=!0;try{return Vf(t,e,n)}finally{qa=!1,(zi!==null||Bi!==null)&&(qf(),Hf())}}function Zr(t,e){var n=t.stateNode;if(n===null)return null;var r=Wo(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(A(231,e,typeof n));return n}var Bl=!1;if(rn)try{var _r={};Object.defineProperty(_r,"passive",{get:function(){Bl=!0}}),window.addEventListener("test",_r,_r),window.removeEventListener("test",_r,_r)}catch{Bl=!1}function pv(t,e,n,r,o,a,u,h,d){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(_){this.onError(_)}}var Or=!1,po=null,mo=!1,Dl=null,mv={onError:function(t){Or=!0,po=t}};function _v(t,e,n,r,o,a,u,h,d){Or=!1,po=null,pv.apply(mv,arguments)}function gv(t,e,n,r,o,a,u,h,d){if(_v.apply(this,arguments),Or){if(Or){var p=po;Or=!1,po=null}else throw Error(A(198));mo||(mo=!0,Dl=p)}}function si(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Gf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ed(t){if(si(t)!==t)throw Error(A(188))}function vv(t){var e=t.alternate;if(!e){if(e=si(t),e===null)throw Error(A(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return ed(o),t;if(a===r)return ed(o),e;a=a.sibling}throw Error(A(188))}if(n.return!==r.return)n=o,r=a;else{for(var u=!1,h=o.child;h;){if(h===n){u=!0,n=o,r=a;break}if(h===r){u=!0,r=o,n=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===n){u=!0,n=a,r=o;break}if(h===r){u=!0,r=a,n=o;break}h=h.sibling}if(!u)throw Error(A(189))}}if(n.alternate!==r)throw Error(A(190))}if(n.tag!==3)throw Error(A(188));return n.stateNode.current===n?t:e}function Jf(t){return t=vv(t),t!==null?Qf(t):null}function Qf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Qf(t);if(e!==null)return e;t=t.sibling}return null}var Yf=lt.unstable_scheduleCallback,td=lt.unstable_cancelCallback,yv=lt.unstable_shouldYield,wv=lt.unstable_requestPaint,ke=lt.unstable_now,xv=lt.unstable_getCurrentPriorityLevel,$u=lt.unstable_ImmediatePriority,Xf=lt.unstable_UserBlockingPriority,_o=lt.unstable_NormalPriority,kv=lt.unstable_LowPriority,ep=lt.unstable_IdlePriority,$o=null,Ft=null;function Sv(t){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot($o,t,void 0,(t.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Ev,Pv=Math.log,Tv=Math.LN2;function Ev(t){return t>>>=0,t===0?32:31-(Pv(t)/Tv|0)|0}var zs=64,Bs=4194304;function Er(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function go(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,a=t.pingedLanes,u=n&268435455;if(u!==0){var h=u&~o;h!==0?r=Er(h):(a&=u,a!==0&&(r=Er(a)))}else u=n&~o,u!==0?r=Er(u):a!==0&&(r=Er(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,a=e&-e,o>=a||o===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-jt(e),o=1<<n,r|=t[n],e&=~o;return r}function Lv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-jt(a),h=1<<u,d=o[u];d===-1?(!(h&n)||h&r)&&(o[u]=Lv(h,e)):d<=e&&(t.expiredLanes|=h),a&=~h}}function $l(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tp(){var t=zs;return zs<<=1,!(zs&4194240)&&(zs=64),t}function Ka(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function os(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jt(e),t[e]=n}function bv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-jt(n),a=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~a}}function Uu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-jt(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var oe=0;function np(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ip,Fu,rp,sp,op,Ul=!1,Ds=[],kn=null,Sn=null,Pn=null,Wr=new Map,Hr=new Map,gn=[],Ov="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nd(t,e){switch(t){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Wr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hr.delete(e.pointerId)}}function gr(t,e,n,r,o,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[o]},e!==null&&(e=ls(e),e!==null&&Fu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function jv(t,e,n,r,o){switch(e){case"focusin":return kn=gr(kn,t,e,n,r,o),!0;case"dragenter":return Sn=gr(Sn,t,e,n,r,o),!0;case"mouseover":return Pn=gr(Pn,t,e,n,r,o),!0;case"pointerover":var a=o.pointerId;return Wr.set(a,gr(Wr.get(a)||null,t,e,n,r,o)),!0;case"gotpointercapture":return a=o.pointerId,Hr.set(a,gr(Hr.get(a)||null,t,e,n,r,o)),!0}return!1}function ap(t){var e=Kn(t.target);if(e!==null){var n=si(e);if(n!==null){if(e=n.tag,e===13){if(e=Gf(n),e!==null){t.blockedOn=e,op(t.priority,function(){rp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function no(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rl=r,n.target.dispatchEvent(r),Rl=null}else return e=ls(n),e!==null&&Fu(e),t.blockedOn=n,!1;e.shift()}return!0}function id(t,e,n){no(t)&&n.delete(e)}function Nv(){Ul=!1,kn!==null&&no(kn)&&(kn=null),Sn!==null&&no(Sn)&&(Sn=null),Pn!==null&&no(Pn)&&(Pn=null),Wr.forEach(id),Hr.forEach(id)}function vr(t,e){t.blockedOn===e&&(t.blockedOn=null,Ul||(Ul=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,Nv)))}function Vr(t){function e(o){return vr(o,t)}if(0<Ds.length){vr(Ds[0],t);for(var n=1;n<Ds.length;n++){var r=Ds[n];r.blockedOn===t&&(r.blockedOn=null)}}for(kn!==null&&vr(kn,t),Sn!==null&&vr(Sn,t),Pn!==null&&vr(Pn,t),Wr.forEach(e),Hr.forEach(e),n=0;n<gn.length;n++)r=gn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<gn.length&&(n=gn[0],n.blockedOn===null);)ap(n),n.blockedOn===null&&gn.shift()}var Di=ln.ReactCurrentBatchConfig,vo=!0;function Av(t,e,n,r){var o=oe,a=Di.transition;Di.transition=null;try{oe=1,Zu(t,e,n,r)}finally{oe=o,Di.transition=a}}function Iv(t,e,n,r){var o=oe,a=Di.transition;Di.transition=null;try{oe=4,Zu(t,e,n,r)}finally{oe=o,Di.transition=a}}function Zu(t,e,n,r){if(vo){var o=Fl(t,e,n,r);if(o===null)rl(t,e,r,yo,n),nd(t,r);else if(jv(o,t,e,n,r))r.stopPropagation();else if(nd(t,r),e&4&&-1<Ov.indexOf(t)){for(;o!==null;){var a=ls(o);if(a!==null&&ip(a),a=Fl(t,e,n,r),a===null&&rl(t,e,r,yo,n),a===o)break;o=a}o!==null&&r.stopPropagation()}else rl(t,e,r,null,n)}}var yo=null;function Fl(t,e,n,r){if(yo=null,t=Du(r),t=Kn(t),t!==null)if(e=si(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Gf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return yo=t,null}function lp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xv()){case $u:return 1;case Xf:return 4;case _o:case kv:return 16;case ep:return 536870912;default:return 16}default:return 16}}var wn=null,Wu=null,io=null;function up(){if(io)return io;var t,e=Wu,n=e.length,r,o="value"in wn?wn.value:wn.textContent,a=o.length;for(t=0;t<n&&e[t]===o[t];t++);var u=n-t;for(r=1;r<=u&&e[n-r]===o[a-r];r++);return io=o.slice(t,1<r?1-r:void 0)}function ro(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $s(){return!0}function rd(){return!1}function ct(t){function e(n,r,o,a,u){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?$s:rd,this.isPropagationStopped=rd,this}return ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$s)},persist:function(){},isPersistent:$s}),e}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hu=ct(Qi),as=ye({},Qi,{view:0,detail:0}),Mv=ct(as),Ga,Ja,yr,Uo=ye({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yr&&(yr&&t.type==="mousemove"?(Ga=t.screenX-yr.screenX,Ja=t.screenY-yr.screenY):Ja=Ga=0,yr=t),Ga)},movementY:function(t){return"movementY"in t?t.movementY:Ja}}),sd=ct(Uo),Rv=ye({},Uo,{dataTransfer:0}),zv=ct(Rv),Bv=ye({},as,{relatedTarget:0}),Qa=ct(Bv),Dv=ye({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),$v=ct(Dv),Uv=ye({},Qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fv=ct(Uv),Zv=ye({},Qi,{data:0}),od=ct(Zv),Wv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Vv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Vv[t])?!!e[t]:!1}function Vu(){return qv}var Kv=ye({},as,{key:function(t){if(t.key){var e=Wv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ro(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vu,charCode:function(t){return t.type==="keypress"?ro(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ro(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gv=ct(Kv),Jv=ye({},Uo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ad=ct(Jv),Qv=ye({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vu}),Yv=ct(Qv),Xv=ye({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),ey=ct(Xv),ty=ye({},Uo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ny=ct(ty),iy=[9,13,27,32],qu=rn&&"CompositionEvent"in window,jr=null;rn&&"documentMode"in document&&(jr=document.documentMode);var ry=rn&&"TextEvent"in window&&!jr,cp=rn&&(!qu||jr&&8<jr&&11>=jr),ld=" ",ud=!1;function hp(t,e){switch(t){case"keyup":return iy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ei=!1;function sy(t,e){switch(t){case"compositionend":return dp(e);case"keypress":return e.which!==32?null:(ud=!0,ld);case"textInput":return t=e.data,t===ld&&ud?null:t;default:return null}}function oy(t,e){if(Ei)return t==="compositionend"||!qu&&hp(t,e)?(t=up(),io=Wu=wn=null,Ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cp&&e.locale!=="ko"?null:e.data;default:return null}}var ay={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ay[t.type]:e==="textarea"}function fp(t,e,n,r){Wf(r),e=wo(e,"onChange"),0<e.length&&(n=new Hu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Nr=null,qr=null;function ly(t){Pp(t,0)}function Fo(t){var e=bi(t);if(zf(e))return t}function uy(t,e){if(t==="change")return e}var pp=!1;if(rn){var Ya;if(rn){var Xa="oninput"in document;if(!Xa){var hd=document.createElement("div");hd.setAttribute("oninput","return;"),Xa=typeof hd.oninput=="function"}Ya=Xa}else Ya=!1;pp=Ya&&(!document.documentMode||9<document.documentMode)}function dd(){Nr&&(Nr.detachEvent("onpropertychange",mp),qr=Nr=null)}function mp(t){if(t.propertyName==="value"&&Fo(qr)){var e=[];fp(e,qr,t,Du(t)),Kf(ly,e)}}function cy(t,e,n){t==="focusin"?(dd(),Nr=e,qr=n,Nr.attachEvent("onpropertychange",mp)):t==="focusout"&&dd()}function hy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fo(qr)}function dy(t,e){if(t==="click")return Fo(e)}function fy(t,e){if(t==="input"||t==="change")return Fo(e)}function py(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var At=typeof Object.is=="function"?Object.is:py;function Kr(t,e){if(At(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Pl.call(e,o)||!At(t[o],e[o]))return!1}return!0}function fd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pd(t,e){var n=fd(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fd(n)}}function _p(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_p(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gp(){for(var t=window,e=fo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fo(t.document)}return e}function Ku(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function my(t){var e=gp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_p(n.ownerDocument.documentElement,n)){if(r!==null&&Ku(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,a=Math.min(r.start,o);r=r.end===void 0?a:Math.min(r.end,o),!t.extend&&a>r&&(o=r,r=a,a=o),o=pd(n,a);var u=pd(n,r);o&&u&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _y=rn&&"documentMode"in document&&11>=document.documentMode,Li=null,Zl=null,Ar=null,Wl=!1;function md(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wl||Li==null||Li!==fo(r)||(r=Li,"selectionStart"in r&&Ku(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ar&&Kr(Ar,r)||(Ar=r,r=wo(Zl,"onSelect"),0<r.length&&(e=new Hu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Li)))}function Us(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ci={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionend:Us("Transition","TransitionEnd")},el={},vp={};rn&&(vp=document.createElement("div").style,"AnimationEvent"in window||(delete Ci.animationend.animation,delete Ci.animationiteration.animation,delete Ci.animationstart.animation),"TransitionEvent"in window||delete Ci.transitionend.transition);function Zo(t){if(el[t])return el[t];if(!Ci[t])return t;var e=Ci[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vp)return el[t]=e[n];return t}var yp=Zo("animationend"),wp=Zo("animationiteration"),xp=Zo("animationstart"),kp=Zo("transitionend"),Sp=new Map,_d="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(t,e){Sp.set(t,e),ri(e,[t])}for(var tl=0;tl<_d.length;tl++){var nl=_d[tl],gy=nl.toLowerCase(),vy=nl[0].toUpperCase()+nl.slice(1);Nn(gy,"on"+vy)}Nn(yp,"onAnimationEnd");Nn(wp,"onAnimationIteration");Nn(xp,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn(kp,"onTransitionEnd");Fi("onMouseEnter",["mouseout","mouseover"]);Fi("onMouseLeave",["mouseout","mouseover"]);Fi("onPointerEnter",["pointerout","pointerover"]);Fi("onPointerLeave",["pointerout","pointerover"]);ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yy=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function gd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gv(r,e,void 0,t),t.currentTarget=null}function Pp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var u=r.length-1;0<=u;u--){var h=r[u],d=h.instance,p=h.currentTarget;if(h=h.listener,d!==a&&o.isPropagationStopped())break e;gd(o,h,p),a=d}else for(u=0;u<r.length;u++){if(h=r[u],d=h.instance,p=h.currentTarget,h=h.listener,d!==a&&o.isPropagationStopped())break e;gd(o,h,p),a=d}}}if(mo)throw t=Dl,mo=!1,Dl=null,t}function fe(t,e){var n=e[Gl];n===void 0&&(n=e[Gl]=new Set);var r=t+"__bubble";n.has(r)||(Tp(e,t,2,!1),n.add(r))}function il(t,e,n){var r=0;e&&(r|=4),Tp(n,t,r,e)}var Fs="_reactListening"+Math.random().toString(36).slice(2);function Gr(t){if(!t[Fs]){t[Fs]=!0,Nf.forEach(function(n){n!=="selectionchange"&&(yy.has(n)||il(n,!1,t),il(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fs]||(e[Fs]=!0,il("selectionchange",!1,e))}}function Tp(t,e,n,r){switch(lp(e)){case 1:var o=Av;break;case 4:o=Iv;break;default:o=Zu}n=o.bind(null,e,n,t),o=void 0,!Bl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function rl(t,e,n,r,o){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var h=r.stateNode.containerInfo;if(h===o||h.nodeType===8&&h.parentNode===o)break;if(u===4)for(u=r.return;u!==null;){var d=u.tag;if((d===3||d===4)&&(d=u.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;u=u.return}for(;h!==null;){if(u=Kn(h),u===null)return;if(d=u.tag,d===5||d===6){r=a=u;continue e}h=h.parentNode}}r=r.return}Kf(function(){var p=a,_=Du(n),g=[];e:{var v=Sp.get(t);if(v!==void 0){var P=Hu,T=t;switch(t){case"keypress":if(ro(n)===0)break e;case"keydown":case"keyup":P=Gv;break;case"focusin":T="focus",P=Qa;break;case"focusout":T="blur",P=Qa;break;case"beforeblur":case"afterblur":P=Qa;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=zv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=Yv;break;case yp:case wp:case xp:P=$v;break;case kp:P=ey;break;case"scroll":P=Mv;break;case"wheel":P=ny;break;case"copy":case"cut":case"paste":P=Fv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=ad}var C=(e&4)!==0,I=!C&&t==="scroll",S=C?v!==null?v+"Capture":null:v;C=[];for(var y=p,k;y!==null;){k=y;var O=k.stateNode;if(k.tag===5&&O!==null&&(k=O,S!==null&&(O=Zr(y,S),O!=null&&C.push(Jr(y,O,k)))),I)break;y=y.return}0<C.length&&(v=new P(v,T,null,n,_),g.push({event:v,listeners:C}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",P=t==="mouseout"||t==="pointerout",v&&n!==Rl&&(T=n.relatedTarget||n.fromElement)&&(Kn(T)||T[sn]))break e;if((P||v)&&(v=_.window===_?_:(v=_.ownerDocument)?v.defaultView||v.parentWindow:window,P?(T=n.relatedTarget||n.toElement,P=p,T=T?Kn(T):null,T!==null&&(I=si(T),T!==I||T.tag!==5&&T.tag!==6)&&(T=null)):(P=null,T=p),P!==T)){if(C=sd,O="onMouseLeave",S="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(C=ad,O="onPointerLeave",S="onPointerEnter",y="pointer"),I=P==null?v:bi(P),k=T==null?v:bi(T),v=new C(O,y+"leave",P,n,_),v.target=I,v.relatedTarget=k,O=null,Kn(_)===p&&(C=new C(S,y+"enter",T,n,_),C.target=k,C.relatedTarget=I,O=C),I=O,P&&T)t:{for(C=P,S=T,y=0,k=C;k;k=_i(k))y++;for(k=0,O=S;O;O=_i(O))k++;for(;0<y-k;)C=_i(C),y--;for(;0<k-y;)S=_i(S),k--;for(;y--;){if(C===S||S!==null&&C===S.alternate)break t;C=_i(C),S=_i(S)}C=null}else C=null;P!==null&&vd(g,v,P,C,!1),T!==null&&I!==null&&vd(g,I,T,C,!0)}}e:{if(v=p?bi(p):window,P=v.nodeName&&v.nodeName.toLowerCase(),P==="select"||P==="input"&&v.type==="file")var z=uy;else if(cd(v))if(pp)z=fy;else{z=hy;var M=cy}else(P=v.nodeName)&&P.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(z=dy);if(z&&(z=z(t,p))){fp(g,z,n,_);break e}M&&M(t,v,p),t==="focusout"&&(M=v._wrapperState)&&M.controlled&&v.type==="number"&&jl(v,"number",v.value)}switch(M=p?bi(p):window,t){case"focusin":(cd(M)||M.contentEditable==="true")&&(Li=M,Zl=p,Ar=null);break;case"focusout":Ar=Zl=Li=null;break;case"mousedown":Wl=!0;break;case"contextmenu":case"mouseup":case"dragend":Wl=!1,md(g,n,_);break;case"selectionchange":if(_y)break;case"keydown":case"keyup":md(g,n,_)}var B;if(qu)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else Ei?hp(t,n)&&(F="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(cp&&n.locale!=="ko"&&(Ei||F!=="onCompositionStart"?F==="onCompositionEnd"&&Ei&&(B=up()):(wn=_,Wu="value"in wn?wn.value:wn.textContent,Ei=!0)),M=wo(p,F),0<M.length&&(F=new od(F,t,null,n,_),g.push({event:F,listeners:M}),B?F.data=B:(B=dp(n),B!==null&&(F.data=B)))),(B=ry?sy(t,n):oy(t,n))&&(p=wo(p,"onBeforeInput"),0<p.length&&(_=new od("onBeforeInput","beforeinput",null,n,_),g.push({event:_,listeners:p}),_.data=B))}Pp(g,e)})}function Jr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wo(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Zr(t,n),a!=null&&r.unshift(Jr(t,a,o)),a=Zr(t,e),a!=null&&r.push(Jr(t,a,o))),t=t.return}return r}function _i(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function vd(t,e,n,r,o){for(var a=e._reactName,u=[];n!==null&&n!==r;){var h=n,d=h.alternate,p=h.stateNode;if(d!==null&&d===r)break;h.tag===5&&p!==null&&(h=p,o?(d=Zr(n,a),d!=null&&u.unshift(Jr(n,d,h))):o||(d=Zr(n,a),d!=null&&u.push(Jr(n,d,h)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var wy=/\r\n?/g,xy=/\u0000|\uFFFD/g;function yd(t){return(typeof t=="string"?t:""+t).replace(wy,`
`).replace(xy,"")}function Zs(t,e,n){if(e=yd(e),yd(t)!==e&&n)throw Error(A(425))}function xo(){}var Hl=null,Vl=null;function ql(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kl=typeof setTimeout=="function"?setTimeout:void 0,ky=typeof clearTimeout=="function"?clearTimeout:void 0,wd=typeof Promise=="function"?Promise:void 0,Sy=typeof queueMicrotask=="function"?queueMicrotask:typeof wd<"u"?function(t){return wd.resolve(null).then(t).catch(Py)}:Kl;function Py(t){setTimeout(function(){throw t})}function sl(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Vr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Vr(e)}function Tn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Yi=Math.random().toString(36).slice(2),Ut="__reactFiber$"+Yi,Qr="__reactProps$"+Yi,sn="__reactContainer$"+Yi,Gl="__reactEvents$"+Yi,Ty="__reactListeners$"+Yi,Ey="__reactHandles$"+Yi;function Kn(t){var e=t[Ut];if(e)return e;for(var n=t.parentNode;n;){if(e=n[sn]||n[Ut]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xd(t);t!==null;){if(n=t[Ut])return n;t=xd(t)}return e}t=n,n=t.parentNode}return null}function ls(t){return t=t[Ut]||t[sn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(A(33))}function Wo(t){return t[Qr]||null}var Jl=[],Oi=-1;function An(t){return{current:t}}function pe(t){0>Oi||(t.current=Jl[Oi],Jl[Oi]=null,Oi--)}function he(t,e){Oi++,Jl[Oi]=t.current,t.current=e}var jn={},Ze=An(jn),tt=An(!1),Xn=jn;function Zi(t,e){var n=t.type.contextTypes;if(!n)return jn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function nt(t){return t=t.childContextTypes,t!=null}function ko(){pe(tt),pe(Ze)}function kd(t,e,n){if(Ze.current!==jn)throw Error(A(168));he(Ze,e),he(tt,n)}function Ep(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(A(108,cv(t)||"Unknown",o));return ye({},n,r)}function So(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||jn,Xn=Ze.current,he(Ze,t),he(tt,tt.current),!0}function Sd(t,e,n){var r=t.stateNode;if(!r)throw Error(A(169));n?(t=Ep(t,e,Xn),r.__reactInternalMemoizedMergedChildContext=t,pe(tt),pe(Ze),he(Ze,t)):pe(tt),he(tt,n)}var Yt=null,Ho=!1,ol=!1;function Lp(t){Yt===null?Yt=[t]:Yt.push(t)}function Ly(t){Ho=!0,Lp(t)}function In(){if(!ol&&Yt!==null){ol=!0;var t=0,e=oe;try{var n=Yt;for(oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Yt=null,Ho=!1}catch(o){throw Yt!==null&&(Yt=Yt.slice(t+1)),Yf($u,In),o}finally{oe=e,ol=!1}}return null}var ji=[],Ni=0,Po=null,To=0,mt=[],_t=0,ei=null,Xt=1,en="";function Wn(t,e){ji[Ni++]=To,ji[Ni++]=Po,Po=t,To=e}function Cp(t,e,n){mt[_t++]=Xt,mt[_t++]=en,mt[_t++]=ei,ei=t;var r=Xt;t=en;var o=32-jt(r)-1;r&=~(1<<o),n+=1;var a=32-jt(e)+o;if(30<a){var u=o-o%5;a=(r&(1<<u)-1).toString(32),r>>=u,o-=u,Xt=1<<32-jt(e)+o|n<<o|r,en=a+t}else Xt=1<<a|n<<o|r,en=t}function Gu(t){t.return!==null&&(Wn(t,1),Cp(t,1,0))}function Ju(t){for(;t===Po;)Po=ji[--Ni],ji[Ni]=null,To=ji[--Ni],ji[Ni]=null;for(;t===ei;)ei=mt[--_t],mt[_t]=null,en=mt[--_t],mt[_t]=null,Xt=mt[--_t],mt[_t]=null}var ot=null,st=null,me=!1,Ot=null;function bp(t,e){var n=gt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Pd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ot=t,st=Tn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ot=t,st=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ei!==null?{id:Xt,overflow:en}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=gt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ot=t,st=null,!0):!1;default:return!1}}function Ql(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Yl(t){if(me){var e=st;if(e){var n=e;if(!Pd(t,e)){if(Ql(t))throw Error(A(418));e=Tn(n.nextSibling);var r=ot;e&&Pd(t,e)?bp(r,n):(t.flags=t.flags&-4097|2,me=!1,ot=t)}}else{if(Ql(t))throw Error(A(418));t.flags=t.flags&-4097|2,me=!1,ot=t}}}function Td(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ot=t}function Ws(t){if(t!==ot)return!1;if(!me)return Td(t),me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ql(t.type,t.memoizedProps)),e&&(e=st)){if(Ql(t))throw Op(),Error(A(418));for(;e;)bp(t,e),e=Tn(e.nextSibling)}if(Td(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(A(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){st=Tn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}st=null}}else st=ot?Tn(t.stateNode.nextSibling):null;return!0}function Op(){for(var t=st;t;)t=Tn(t.nextSibling)}function Wi(){st=ot=null,me=!1}function Qu(t){Ot===null?Ot=[t]:Ot.push(t)}var Cy=ln.ReactCurrentBatchConfig;function wr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(A(309));var r=n.stateNode}if(!r)throw Error(A(147,t));var o=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(u){var h=o.refs;u===null?delete h[a]:h[a]=u},e._stringRef=a,e)}if(typeof t!="string")throw Error(A(284));if(!n._owner)throw Error(A(290,t))}return t}function Hs(t,e){throw t=Object.prototype.toString.call(e),Error(A(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ed(t){var e=t._init;return e(t._payload)}function jp(t){function e(S,y){if(t){var k=S.deletions;k===null?(S.deletions=[y],S.flags|=16):k.push(y)}}function n(S,y){if(!t)return null;for(;y!==null;)e(S,y),y=y.sibling;return null}function r(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function o(S,y){return S=bn(S,y),S.index=0,S.sibling=null,S}function a(S,y,k){return S.index=k,t?(k=S.alternate,k!==null?(k=k.index,k<y?(S.flags|=2,y):k):(S.flags|=2,y)):(S.flags|=1048576,y)}function u(S){return t&&S.alternate===null&&(S.flags|=2),S}function h(S,y,k,O){return y===null||y.tag!==6?(y=fl(k,S.mode,O),y.return=S,y):(y=o(y,k),y.return=S,y)}function d(S,y,k,O){var z=k.type;return z===Ti?_(S,y,k.props.children,O,k.key):y!==null&&(y.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===mn&&Ed(z)===y.type)?(O=o(y,k.props),O.ref=wr(S,y,k),O.return=S,O):(O=ho(k.type,k.key,k.props,null,S.mode,O),O.ref=wr(S,y,k),O.return=S,O)}function p(S,y,k,O){return y===null||y.tag!==4||y.stateNode.containerInfo!==k.containerInfo||y.stateNode.implementation!==k.implementation?(y=pl(k,S.mode,O),y.return=S,y):(y=o(y,k.children||[]),y.return=S,y)}function _(S,y,k,O,z){return y===null||y.tag!==7?(y=Yn(k,S.mode,O,z),y.return=S,y):(y=o(y,k),y.return=S,y)}function g(S,y,k){if(typeof y=="string"&&y!==""||typeof y=="number")return y=fl(""+y,S.mode,k),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Is:return k=ho(y.type,y.key,y.props,null,S.mode,k),k.ref=wr(S,null,y),k.return=S,k;case Pi:return y=pl(y,S.mode,k),y.return=S,y;case mn:var O=y._init;return g(S,O(y._payload),k)}if(Tr(y)||mr(y))return y=Yn(y,S.mode,k,null),y.return=S,y;Hs(S,y)}return null}function v(S,y,k,O){var z=y!==null?y.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return z!==null?null:h(S,y,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Is:return k.key===z?d(S,y,k,O):null;case Pi:return k.key===z?p(S,y,k,O):null;case mn:return z=k._init,v(S,y,z(k._payload),O)}if(Tr(k)||mr(k))return z!==null?null:_(S,y,k,O,null);Hs(S,k)}return null}function P(S,y,k,O,z){if(typeof O=="string"&&O!==""||typeof O=="number")return S=S.get(k)||null,h(y,S,""+O,z);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Is:return S=S.get(O.key===null?k:O.key)||null,d(y,S,O,z);case Pi:return S=S.get(O.key===null?k:O.key)||null,p(y,S,O,z);case mn:var M=O._init;return P(S,y,k,M(O._payload),z)}if(Tr(O)||mr(O))return S=S.get(k)||null,_(y,S,O,z,null);Hs(y,O)}return null}function T(S,y,k,O){for(var z=null,M=null,B=y,F=y=0,de=null;B!==null&&F<k.length;F++){B.index>F?(de=B,B=null):de=B.sibling;var Q=v(S,B,k[F],O);if(Q===null){B===null&&(B=de);break}t&&B&&Q.alternate===null&&e(S,B),y=a(Q,y,F),M===null?z=Q:M.sibling=Q,M=Q,B=de}if(F===k.length)return n(S,B),me&&Wn(S,F),z;if(B===null){for(;F<k.length;F++)B=g(S,k[F],O),B!==null&&(y=a(B,y,F),M===null?z=B:M.sibling=B,M=B);return me&&Wn(S,F),z}for(B=r(S,B);F<k.length;F++)de=P(B,S,F,k[F],O),de!==null&&(t&&de.alternate!==null&&B.delete(de.key===null?F:de.key),y=a(de,y,F),M===null?z=de:M.sibling=de,M=de);return t&&B.forEach(function(le){return e(S,le)}),me&&Wn(S,F),z}function C(S,y,k,O){var z=mr(k);if(typeof z!="function")throw Error(A(150));if(k=z.call(k),k==null)throw Error(A(151));for(var M=z=null,B=y,F=y=0,de=null,Q=k.next();B!==null&&!Q.done;F++,Q=k.next()){B.index>F?(de=B,B=null):de=B.sibling;var le=v(S,B,Q.value,O);if(le===null){B===null&&(B=de);break}t&&B&&le.alternate===null&&e(S,B),y=a(le,y,F),M===null?z=le:M.sibling=le,M=le,B=de}if(Q.done)return n(S,B),me&&Wn(S,F),z;if(B===null){for(;!Q.done;F++,Q=k.next())Q=g(S,Q.value,O),Q!==null&&(y=a(Q,y,F),M===null?z=Q:M.sibling=Q,M=Q);return me&&Wn(S,F),z}for(B=r(S,B);!Q.done;F++,Q=k.next())Q=P(B,S,F,Q.value,O),Q!==null&&(t&&Q.alternate!==null&&B.delete(Q.key===null?F:Q.key),y=a(Q,y,F),M===null?z=Q:M.sibling=Q,M=Q);return t&&B.forEach(function(je){return e(S,je)}),me&&Wn(S,F),z}function I(S,y,k,O){if(typeof k=="object"&&k!==null&&k.type===Ti&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Is:e:{for(var z=k.key,M=y;M!==null;){if(M.key===z){if(z=k.type,z===Ti){if(M.tag===7){n(S,M.sibling),y=o(M,k.props.children),y.return=S,S=y;break e}}else if(M.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===mn&&Ed(z)===M.type){n(S,M.sibling),y=o(M,k.props),y.ref=wr(S,M,k),y.return=S,S=y;break e}n(S,M);break}else e(S,M);M=M.sibling}k.type===Ti?(y=Yn(k.props.children,S.mode,O,k.key),y.return=S,S=y):(O=ho(k.type,k.key,k.props,null,S.mode,O),O.ref=wr(S,y,k),O.return=S,S=O)}return u(S);case Pi:e:{for(M=k.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===k.containerInfo&&y.stateNode.implementation===k.implementation){n(S,y.sibling),y=o(y,k.children||[]),y.return=S,S=y;break e}else{n(S,y);break}else e(S,y);y=y.sibling}y=pl(k,S.mode,O),y.return=S,S=y}return u(S);case mn:return M=k._init,I(S,y,M(k._payload),O)}if(Tr(k))return T(S,y,k,O);if(mr(k))return C(S,y,k,O);Hs(S,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,y!==null&&y.tag===6?(n(S,y.sibling),y=o(y,k),y.return=S,S=y):(n(S,y),y=fl(k,S.mode,O),y.return=S,S=y),u(S)):n(S,y)}return I}var Hi=jp(!0),Np=jp(!1),Eo=An(null),Lo=null,Ai=null,Yu=null;function Xu(){Yu=Ai=Lo=null}function ec(t){var e=Eo.current;pe(Eo),t._currentValue=e}function Xl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function $i(t,e){Lo=t,Yu=Ai=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(et=!0),t.firstContext=null)}function wt(t){var e=t._currentValue;if(Yu!==t)if(t={context:t,memoizedValue:e,next:null},Ai===null){if(Lo===null)throw Error(A(308));Ai=t,Lo.dependencies={lanes:0,firstContext:t}}else Ai=Ai.next=t;return e}var Gn=null;function tc(t){Gn===null?Gn=[t]:Gn.push(t)}function Ap(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,tc(e)):(n.next=o.next,o.next=n),e.interleaved=n,on(t,r)}function on(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _n=!1;function nc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ip(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function tn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function En(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ie&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,on(t,n)}return o=r.interleaved,o===null?(e.next=e,tc(r)):(e.next=o.next,o.next=e),r.interleaved=e,on(t,n)}function so(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uu(t,n)}}function Ld(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?o=a=e:a=a.next=e}else o=a=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Co(t,e,n,r){var o=t.updateQueue;_n=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,h=o.shared.pending;if(h!==null){o.shared.pending=null;var d=h,p=d.next;d.next=null,u===null?a=p:u.next=p,u=d;var _=t.alternate;_!==null&&(_=_.updateQueue,h=_.lastBaseUpdate,h!==u&&(h===null?_.firstBaseUpdate=p:h.next=p,_.lastBaseUpdate=d))}if(a!==null){var g=o.baseState;u=0,_=p=d=null,h=a;do{var v=h.lane,P=h.eventTime;if((r&v)===v){_!==null&&(_=_.next={eventTime:P,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var T=t,C=h;switch(v=e,P=n,C.tag){case 1:if(T=C.payload,typeof T=="function"){g=T.call(P,g,v);break e}g=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=C.payload,v=typeof T=="function"?T.call(P,g,v):T,v==null)break e;g=ye({},g,v);break e;case 2:_n=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,v=o.effects,v===null?o.effects=[h]:v.push(h))}else P={eventTime:P,lane:v,tag:h.tag,payload:h.payload,callback:h.callback,next:null},_===null?(p=_=P,d=g):_=_.next=P,u|=v;if(h=h.next,h===null){if(h=o.shared.pending,h===null)break;v=h,h=v.next,v.next=null,o.lastBaseUpdate=v,o.shared.pending=null}}while(!0);if(_===null&&(d=g),o.baseState=d,o.firstBaseUpdate=p,o.lastBaseUpdate=_,e=o.shared.interleaved,e!==null){o=e;do u|=o.lane,o=o.next;while(o!==e)}else a===null&&(o.shared.lanes=0);ni|=u,t.lanes=u,t.memoizedState=g}}function Cd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(A(191,o));o.call(r)}}}var us={},Zt=An(us),Yr=An(us),Xr=An(us);function Jn(t){if(t===us)throw Error(A(174));return t}function ic(t,e){switch(he(Xr,e),he(Yr,t),he(Zt,us),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Al(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Al(e,t)}pe(Zt),he(Zt,e)}function Vi(){pe(Zt),pe(Yr),pe(Xr)}function Mp(t){Jn(Xr.current);var e=Jn(Zt.current),n=Al(e,t.type);e!==n&&(he(Yr,t),he(Zt,n))}function rc(t){Yr.current===t&&(pe(Zt),pe(Yr))}var ge=An(0);function bo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var al=[];function sc(){for(var t=0;t<al.length;t++)al[t]._workInProgressVersionPrimary=null;al.length=0}var oo=ln.ReactCurrentDispatcher,ll=ln.ReactCurrentBatchConfig,ti=0,ve=null,be=null,Ae=null,Oo=!1,Ir=!1,es=0,by=0;function $e(){throw Error(A(321))}function oc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!At(t[n],e[n]))return!1;return!0}function ac(t,e,n,r,o,a){if(ti=a,ve=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,oo.current=t===null||t.memoizedState===null?Ay:Iy,t=n(r,o),Ir){a=0;do{if(Ir=!1,es=0,25<=a)throw Error(A(301));a+=1,Ae=be=null,e.updateQueue=null,oo.current=My,t=n(r,o)}while(Ir)}if(oo.current=jo,e=be!==null&&be.next!==null,ti=0,Ae=be=ve=null,Oo=!1,e)throw Error(A(300));return t}function lc(){var t=es!==0;return es=0,t}function Dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?ve.memoizedState=Ae=t:Ae=Ae.next=t,Ae}function xt(){if(be===null){var t=ve.alternate;t=t!==null?t.memoizedState:null}else t=be.next;var e=Ae===null?ve.memoizedState:Ae.next;if(e!==null)Ae=e,be=t;else{if(t===null)throw Error(A(310));be=t,t={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ae===null?ve.memoizedState=Ae=t:Ae=Ae.next=t}return Ae}function ts(t,e){return typeof e=="function"?e(t):e}function ul(t){var e=xt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=be,o=r.baseQueue,a=n.pending;if(a!==null){if(o!==null){var u=o.next;o.next=a.next,a.next=u}r.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,r=r.baseState;var h=u=null,d=null,p=a;do{var _=p.lane;if((ti&_)===_)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:t(r,p.action);else{var g={lane:_,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(h=d=g,u=r):d=d.next=g,ve.lanes|=_,ni|=_}p=p.next}while(p!==null&&p!==a);d===null?u=r:d.next=h,At(r,e.memoizedState)||(et=!0),e.memoizedState=r,e.baseState=u,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do a=o.lane,ve.lanes|=a,ni|=a,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cl(t){var e=xt(),n=e.queue;if(n===null)throw Error(A(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,a=e.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do a=t(a,u.action),u=u.next;while(u!==o);At(a,e.memoizedState)||(et=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Rp(){}function zp(t,e){var n=ve,r=xt(),o=e(),a=!At(r.memoizedState,o);if(a&&(r.memoizedState=o,et=!0),r=r.queue,uc($p.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,ns(9,Dp.bind(null,n,r,o,e),void 0,null),Ie===null)throw Error(A(349));ti&30||Bp(n,e,o)}return o}function Bp(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Dp(t,e,n,r){e.value=n,e.getSnapshot=r,Up(e)&&Fp(t)}function $p(t,e,n){return n(function(){Up(e)&&Fp(t)})}function Up(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!At(t,n)}catch{return!0}}function Fp(t){var e=on(t,1);e!==null&&Nt(e,t,1,-1)}function bd(t){var e=Dt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:t},e.queue=t,t=t.dispatch=Ny.bind(null,ve,t),[e.memoizedState,t]}function ns(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ve.updateQueue,e===null?(e={lastEffect:null,stores:null},ve.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Zp(){return xt().memoizedState}function ao(t,e,n,r){var o=Dt();ve.flags|=t,o.memoizedState=ns(1|e,n,void 0,r===void 0?null:r)}function Vo(t,e,n,r){var o=xt();r=r===void 0?null:r;var a=void 0;if(be!==null){var u=be.memoizedState;if(a=u.destroy,r!==null&&oc(r,u.deps)){o.memoizedState=ns(e,n,a,r);return}}ve.flags|=t,o.memoizedState=ns(1|e,n,a,r)}function Od(t,e){return ao(8390656,8,t,e)}function uc(t,e){return Vo(2048,8,t,e)}function Wp(t,e){return Vo(4,2,t,e)}function Hp(t,e){return Vo(4,4,t,e)}function Vp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qp(t,e,n){return n=n!=null?n.concat([t]):null,Vo(4,4,Vp.bind(null,e,t),n)}function cc(){}function Kp(t,e){var n=xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&oc(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Gp(t,e){var n=xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&oc(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Jp(t,e,n){return ti&21?(At(n,e)||(n=tp(),ve.lanes|=n,ni|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,et=!0),t.memoizedState=n)}function Oy(t,e){var n=oe;oe=n!==0&&4>n?n:4,t(!0);var r=ll.transition;ll.transition={};try{t(!1),e()}finally{oe=n,ll.transition=r}}function Qp(){return xt().memoizedState}function jy(t,e,n){var r=Cn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yp(t))Xp(e,n);else if(n=Ap(t,e,n,r),n!==null){var o=qe();Nt(n,t,r,o),em(n,e,r)}}function Ny(t,e,n){var r=Cn(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yp(t))Xp(e,o);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,h=a(u,n);if(o.hasEagerState=!0,o.eagerState=h,At(h,u)){var d=e.interleaved;d===null?(o.next=o,tc(e)):(o.next=d.next,d.next=o),e.interleaved=o;return}}catch{}finally{}n=Ap(t,e,o,r),n!==null&&(o=qe(),Nt(n,t,r,o),em(n,e,r))}}function Yp(t){var e=t.alternate;return t===ve||e!==null&&e===ve}function Xp(t,e){Ir=Oo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function em(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Uu(t,n)}}var jo={readContext:wt,useCallback:$e,useContext:$e,useEffect:$e,useImperativeHandle:$e,useInsertionEffect:$e,useLayoutEffect:$e,useMemo:$e,useReducer:$e,useRef:$e,useState:$e,useDebugValue:$e,useDeferredValue:$e,useTransition:$e,useMutableSource:$e,useSyncExternalStore:$e,useId:$e,unstable_isNewReconciler:!1},Ay={readContext:wt,useCallback:function(t,e){return Dt().memoizedState=[t,e===void 0?null:e],t},useContext:wt,useEffect:Od,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ao(4194308,4,Vp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ao(4194308,4,t,e)},useInsertionEffect:function(t,e){return ao(4,2,t,e)},useMemo:function(t,e){var n=Dt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Dt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=jy.bind(null,ve,t),[r.memoizedState,t]},useRef:function(t){var e=Dt();return t={current:t},e.memoizedState=t},useState:bd,useDebugValue:cc,useDeferredValue:function(t){return Dt().memoizedState=t},useTransition:function(){var t=bd(!1),e=t[0];return t=Oy.bind(null,t[1]),Dt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ve,o=Dt();if(me){if(n===void 0)throw Error(A(407));n=n()}else{if(n=e(),Ie===null)throw Error(A(349));ti&30||Bp(r,e,n)}o.memoizedState=n;var a={value:n,getSnapshot:e};return o.queue=a,Od($p.bind(null,r,a,t),[t]),r.flags|=2048,ns(9,Dp.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Dt(),e=Ie.identifierPrefix;if(me){var n=en,r=Xt;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=es++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=by++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Iy={readContext:wt,useCallback:Kp,useContext:wt,useEffect:uc,useImperativeHandle:qp,useInsertionEffect:Wp,useLayoutEffect:Hp,useMemo:Gp,useReducer:ul,useRef:Zp,useState:function(){return ul(ts)},useDebugValue:cc,useDeferredValue:function(t){var e=xt();return Jp(e,be.memoizedState,t)},useTransition:function(){var t=ul(ts)[0],e=xt().memoizedState;return[t,e]},useMutableSource:Rp,useSyncExternalStore:zp,useId:Qp,unstable_isNewReconciler:!1},My={readContext:wt,useCallback:Kp,useContext:wt,useEffect:uc,useImperativeHandle:qp,useInsertionEffect:Wp,useLayoutEffect:Hp,useMemo:Gp,useReducer:cl,useRef:Zp,useState:function(){return cl(ts)},useDebugValue:cc,useDeferredValue:function(t){var e=xt();return be===null?e.memoizedState=t:Jp(e,be.memoizedState,t)},useTransition:function(){var t=cl(ts)[0],e=xt().memoizedState;return[t,e]},useMutableSource:Rp,useSyncExternalStore:zp,useId:Qp,unstable_isNewReconciler:!1};function Lt(t,e){if(t&&t.defaultProps){e=ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function eu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qo={isMounted:function(t){return(t=t._reactInternals)?si(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qe(),o=Cn(t),a=tn(r,o);a.payload=e,n!=null&&(a.callback=n),e=En(t,a,o),e!==null&&(Nt(e,t,o,r),so(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qe(),o=Cn(t),a=tn(r,o);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=En(t,a,o),e!==null&&(Nt(e,t,o,r),so(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qe(),r=Cn(t),o=tn(n,r);o.tag=2,e!=null&&(o.callback=e),e=En(t,o,r),e!==null&&(Nt(e,t,r,n),so(e,t,r))}};function jd(t,e,n,r,o,a,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,u):e.prototype&&e.prototype.isPureReactComponent?!Kr(n,r)||!Kr(o,a):!0}function tm(t,e,n){var r=!1,o=jn,a=e.contextType;return typeof a=="object"&&a!==null?a=wt(a):(o=nt(e)?Xn:Ze.current,r=e.contextTypes,a=(r=r!=null)?Zi(t,o):jn),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qo,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=a),e}function Nd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qo.enqueueReplaceState(e,e.state,null)}function tu(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},nc(t);var a=e.contextType;typeof a=="object"&&a!==null?o.context=wt(a):(a=nt(e)?Xn:Ze.current,o.context=Zi(t,a)),o.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(eu(t,e,a,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&qo.enqueueReplaceState(o,o.state,null),Co(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function qi(t,e){try{var n="",r=e;do n+=uv(r),r=r.return;while(r);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:o,digest:null}}function hl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Ry=typeof WeakMap=="function"?WeakMap:Map;function nm(t,e,n){n=tn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ao||(Ao=!0,du=r),nu(t,e)},n}function im(t,e,n){n=tn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){nu(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){nu(t,e),typeof r!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function Ad(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Ry;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=Jy.bind(null,t,e,n),e.then(t,t))}function Id(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Md(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=tn(-1,1),e.tag=2,En(n,e,1))),n.lanes|=1),t)}var zy=ln.ReactCurrentOwner,et=!1;function Ve(t,e,n,r){e.child=t===null?Np(e,null,n,r):Hi(e,t.child,n,r)}function Rd(t,e,n,r,o){n=n.render;var a=e.ref;return $i(e,o),r=ac(t,e,n,r,a,o),n=lc(),t!==null&&!et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,an(t,e,o)):(me&&n&&Gu(e),e.flags|=1,Ve(t,e,r,o),e.child)}function zd(t,e,n,r,o){if(t===null){var a=n.type;return typeof a=="function"&&!vc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,rm(t,e,a,r,o)):(t=ho(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&o)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:Kr,n(u,r)&&t.ref===e.ref)return an(t,e,o)}return e.flags|=1,t=bn(a,r),t.ref=e.ref,t.return=e,e.child=t}function rm(t,e,n,r,o){if(t!==null){var a=t.memoizedProps;if(Kr(a,r)&&t.ref===e.ref)if(et=!1,e.pendingProps=r=a,(t.lanes&o)!==0)t.flags&131072&&(et=!0);else return e.lanes=t.lanes,an(t,e,o)}return iu(t,e,n,r,o)}function sm(t,e,n){var r=e.pendingProps,o=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},he(Mi,rt),rt|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,he(Mi,rt),rt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,he(Mi,rt),rt|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,he(Mi,rt),rt|=r;return Ve(t,e,o,n),e.child}function om(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function iu(t,e,n,r,o){var a=nt(n)?Xn:Ze.current;return a=Zi(e,a),$i(e,o),n=ac(t,e,n,r,a,o),r=lc(),t!==null&&!et?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,an(t,e,o)):(me&&r&&Gu(e),e.flags|=1,Ve(t,e,n,o),e.child)}function Bd(t,e,n,r,o){if(nt(n)){var a=!0;So(e)}else a=!1;if($i(e,o),e.stateNode===null)lo(t,e),tm(e,n,r),tu(e,n,r,o),r=!0;else if(t===null){var u=e.stateNode,h=e.memoizedProps;u.props=h;var d=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=wt(p):(p=nt(n)?Xn:Ze.current,p=Zi(e,p));var _=n.getDerivedStateFromProps,g=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function";g||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==r||d!==p)&&Nd(e,u,r,p),_n=!1;var v=e.memoizedState;u.state=v,Co(e,r,u,o),d=e.memoizedState,h!==r||v!==d||tt.current||_n?(typeof _=="function"&&(eu(e,n,_,r),d=e.memoizedState),(h=_n||jd(e,n,h,r,v,d,p))?(g||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),u.props=r,u.state=d,u.context=p,r=h):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{u=e.stateNode,Ip(t,e),h=e.memoizedProps,p=e.type===e.elementType?h:Lt(e.type,h),u.props=p,g=e.pendingProps,v=u.context,d=n.contextType,typeof d=="object"&&d!==null?d=wt(d):(d=nt(n)?Xn:Ze.current,d=Zi(e,d));var P=n.getDerivedStateFromProps;(_=typeof P=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==g||v!==d)&&Nd(e,u,r,d),_n=!1,v=e.memoizedState,u.state=v,Co(e,r,u,o);var T=e.memoizedState;h!==g||v!==T||tt.current||_n?(typeof P=="function"&&(eu(e,n,P,r),T=e.memoizedState),(p=_n||jd(e,n,p,r,v,T,d)||!1)?(_||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,T,d),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,T,d)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),u.props=r,u.state=T,u.context=d,r=p):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),r=!1)}return ru(t,e,n,r,a,o)}function ru(t,e,n,r,o,a){om(t,e);var u=(e.flags&128)!==0;if(!r&&!u)return o&&Sd(e,n,!1),an(t,e,a);r=e.stateNode,zy.current=e;var h=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&u?(e.child=Hi(e,t.child,null,a),e.child=Hi(e,null,h,a)):Ve(t,e,h,a),e.memoizedState=r.state,o&&Sd(e,n,!0),e.child}function am(t){var e=t.stateNode;e.pendingContext?kd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kd(t,e.context,!1),ic(t,e.containerInfo)}function Dd(t,e,n,r,o){return Wi(),Qu(o),e.flags|=256,Ve(t,e,n,r),e.child}var su={dehydrated:null,treeContext:null,retryLane:0};function ou(t){return{baseLanes:t,cachePool:null,transitions:null}}function lm(t,e,n){var r=e.pendingProps,o=ge.current,a=!1,u=(e.flags&128)!==0,h;if((h=u)||(h=t!==null&&t.memoizedState===null?!1:(o&2)!==0),h?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),he(ge,o&1),t===null)return Yl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=r.children,t=r.fallback,a?(r=e.mode,a=e.child,u={mode:"hidden",children:u},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=Jo(u,r,0,null),t=Yn(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=ou(n),e.memoizedState=su,t):hc(e,u));if(o=t.memoizedState,o!==null&&(h=o.dehydrated,h!==null))return By(t,e,u,r,h,o,n);if(a){a=r.fallback,u=e.mode,o=t.child,h=o.sibling;var d={mode:"hidden",children:r.children};return!(u&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=bn(o,d),r.subtreeFlags=o.subtreeFlags&14680064),h!==null?a=bn(h,a):(a=Yn(a,u,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,u=t.child.memoizedState,u=u===null?ou(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=t.childLanes&~n,e.memoizedState=su,r}return a=t.child,t=a.sibling,r=bn(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function hc(t,e){return e=Jo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vs(t,e,n,r){return r!==null&&Qu(r),Hi(e,t.child,null,n),t=hc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function By(t,e,n,r,o,a,u){if(n)return e.flags&256?(e.flags&=-257,r=hl(Error(A(422))),Vs(t,e,u,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,o=e.mode,r=Jo({mode:"visible",children:r.children},o,0,null),a=Yn(a,o,u,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Hi(e,t.child,null,u),e.child.memoizedState=ou(u),e.memoizedState=su,a);if(!(e.mode&1))return Vs(t,e,u,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(A(419)),r=hl(a,r,void 0),Vs(t,e,u,r)}if(h=(u&t.childLanes)!==0,et||h){if(r=Ie,r!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|u)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,on(t,o),Nt(r,t,o,-1))}return gc(),r=hl(Error(A(421))),Vs(t,e,u,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=Qy.bind(null,t),o._reactRetry=e,null):(t=a.treeContext,st=Tn(o.nextSibling),ot=e,me=!0,Ot=null,t!==null&&(mt[_t++]=Xt,mt[_t++]=en,mt[_t++]=ei,Xt=t.id,en=t.overflow,ei=e),e=hc(e,r.children),e.flags|=4096,e)}function $d(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xl(t.return,e,n)}function dl(t,e,n,r,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=o)}function um(t,e,n){var r=e.pendingProps,o=r.revealOrder,a=r.tail;if(Ve(t,e,r.children,n),r=ge.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&$d(t,n,e);else if(t.tag===19)$d(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(he(ge,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&bo(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),dl(e,!1,o,n,a);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&bo(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}dl(e,!0,n,null,a);break;case"together":dl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function lo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function an(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ni|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(A(153));if(e.child!==null){for(t=e.child,n=bn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Dy(t,e,n){switch(e.tag){case 3:am(e),Wi();break;case 5:Mp(e);break;case 1:nt(e.type)&&So(e);break;case 4:ic(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;he(Eo,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(he(ge,ge.current&1),e.flags|=128,null):n&e.child.childLanes?lm(t,e,n):(he(ge,ge.current&1),t=an(t,e,n),t!==null?t.sibling:null);he(ge,ge.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return um(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),he(ge,ge.current),r)break;return null;case 22:case 23:return e.lanes=0,sm(t,e,n)}return an(t,e,n)}var cm,au,hm,dm;cm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};au=function(){};hm=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Jn(Zt.current);var a=null;switch(n){case"input":o=bl(t,o),r=bl(t,r),a=[];break;case"select":o=ye({},o,{value:void 0}),r=ye({},r,{value:void 0}),a=[];break;case"textarea":o=Nl(t,o),r=Nl(t,r),a=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=xo)}Il(n,r);var u;n=null;for(p in o)if(!r.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var h=o[p];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Ur.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in r){var d=r[p];if(h=o!=null?o[p]:void 0,r.hasOwnProperty(p)&&d!==h&&(d!=null||h!=null))if(p==="style")if(h){for(u in h)!h.hasOwnProperty(u)||d&&d.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in d)d.hasOwnProperty(u)&&h[u]!==d[u]&&(n||(n={}),n[u]=d[u])}else n||(a||(a=[]),a.push(p,n)),n=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(a=a||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Ur.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&fe("scroll",t),a||h===d||(a=[])):(a=a||[]).push(p,d))}n&&(a=a||[]).push("style",n);var p=a;(e.updateQueue=p)&&(e.flags|=4)}};dm=function(t,e,n,r){n!==r&&(e.flags|=4)};function xr(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ue(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function $y(t,e,n){var r=e.pendingProps;switch(Ju(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(e),null;case 1:return nt(e.type)&&ko(),Ue(e),null;case 3:return r=e.stateNode,Vi(),pe(tt),pe(Ze),sc(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ws(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ot!==null&&(mu(Ot),Ot=null))),au(t,e),Ue(e),null;case 5:rc(e);var o=Jn(Xr.current);if(n=e.type,t!==null&&e.stateNode!=null)hm(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(A(166));return Ue(e),null}if(t=Jn(Zt.current),Ws(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Ut]=e,r[Qr]=a,t=(e.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(o=0;o<Lr.length;o++)fe(Lr[o],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":Gh(r,a),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},fe("invalid",r);break;case"textarea":Qh(r,a),fe("invalid",r)}Il(n,a),o=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&Zs(r.textContent,h,t),o=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Zs(r.textContent,h,t),o=["children",""+h]):Ur.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&fe("scroll",r)}switch(n){case"input":Ms(r),Jh(r,a,!0);break;case"textarea":Ms(r),Yh(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=xo)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$f(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),n==="select"&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[Ut]=e,t[Qr]=r,cm(t,e,!1,!1),e.stateNode=t;e:{switch(u=Ml(n,r),n){case"dialog":fe("cancel",t),fe("close",t),o=r;break;case"iframe":case"object":case"embed":fe("load",t),o=r;break;case"video":case"audio":for(o=0;o<Lr.length;o++)fe(Lr[o],t);o=r;break;case"source":fe("error",t),o=r;break;case"img":case"image":case"link":fe("error",t),fe("load",t),o=r;break;case"details":fe("toggle",t),o=r;break;case"input":Gh(t,r),o=bl(t,r),fe("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=ye({},r,{value:void 0}),fe("invalid",t);break;case"textarea":Qh(t,r),o=Nl(t,r),fe("invalid",t);break;default:o=r}Il(n,o),h=o;for(a in h)if(h.hasOwnProperty(a)){var d=h[a];a==="style"?Zf(t,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Uf(t,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Fr(t,d):typeof d=="number"&&Fr(t,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ur.hasOwnProperty(a)?d!=null&&a==="onScroll"&&fe("scroll",t):d!=null&&Mu(t,a,d,u))}switch(n){case"input":Ms(t),Jh(t,r,!1);break;case"textarea":Ms(t),Yh(t);break;case"option":r.value!=null&&t.setAttribute("value",""+On(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Ri(t,!!r.multiple,a,!1):r.defaultValue!=null&&Ri(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=xo)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ue(e),null;case 6:if(t&&e.stateNode!=null)dm(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(A(166));if(n=Jn(Xr.current),Jn(Zt.current),Ws(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ut]=e,(a=r.nodeValue!==n)&&(t=ot,t!==null))switch(t.tag){case 3:Zs(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zs(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ut]=e,e.stateNode=r}return Ue(e),null;case 13:if(pe(ge),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&st!==null&&e.mode&1&&!(e.flags&128))Op(),Wi(),e.flags|=98560,a=!1;else if(a=Ws(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(A(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(A(317));a[Ut]=e}else Wi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ue(e),a=!1}else Ot!==null&&(mu(Ot),Ot=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ge.current&1?Oe===0&&(Oe=3):gc())),e.updateQueue!==null&&(e.flags|=4),Ue(e),null);case 4:return Vi(),au(t,e),t===null&&Gr(e.stateNode.containerInfo),Ue(e),null;case 10:return ec(e.type._context),Ue(e),null;case 17:return nt(e.type)&&ko(),Ue(e),null;case 19:if(pe(ge),a=e.memoizedState,a===null)return Ue(e),null;if(r=(e.flags&128)!==0,u=a.rendering,u===null)if(r)xr(a,!1);else{if(Oe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=bo(t),u!==null){for(e.flags|=128,xr(a,!1),r=u.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return he(ge,ge.current&1|2),e.child}t=t.sibling}a.tail!==null&&ke()>Ki&&(e.flags|=128,r=!0,xr(a,!1),e.lanes=4194304)}else{if(!r)if(t=bo(u),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!me)return Ue(e),null}else 2*ke()-a.renderingStartTime>Ki&&n!==1073741824&&(e.flags|=128,r=!0,xr(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(n=a.last,n!==null?n.sibling=u:e.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=ke(),e.sibling=null,n=ge.current,he(ge,r?n&1|2:n&1),e):(Ue(e),null);case 22:case 23:return _c(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rt&1073741824&&(Ue(e),e.subtreeFlags&6&&(e.flags|=8192)):Ue(e),null;case 24:return null;case 25:return null}throw Error(A(156,e.tag))}function Uy(t,e){switch(Ju(e),e.tag){case 1:return nt(e.type)&&ko(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vi(),pe(tt),pe(Ze),sc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rc(e),null;case 13:if(pe(ge),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(A(340));Wi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pe(ge),null;case 4:return Vi(),null;case 10:return ec(e.type._context),null;case 22:case 23:return _c(),null;case 24:return null;default:return null}}var qs=!1,Fe=!1,Fy=typeof WeakSet=="function"?WeakSet:Set,$=null;function Ii(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){we(t,e,r)}else n.current=null}function lu(t,e,n){try{n()}catch(r){we(t,e,r)}}var Ud=!1;function Zy(t,e){if(Hl=vo,t=gp(),Ku(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,h=-1,d=-1,p=0,_=0,g=t,v=null;t:for(;;){for(var P;g!==n||o!==0&&g.nodeType!==3||(h=u+o),g!==a||r!==0&&g.nodeType!==3||(d=u+r),g.nodeType===3&&(u+=g.nodeValue.length),(P=g.firstChild)!==null;)v=g,g=P;for(;;){if(g===t)break t;if(v===n&&++p===o&&(h=u),v===a&&++_===r&&(d=u),(P=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=P}n=h===-1||d===-1?null:{start:h,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vl={focusedElem:t,selectionRange:n},vo=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var C=T.memoizedProps,I=T.memoizedState,S=e.stateNode,y=S.getSnapshotBeforeUpdate(e.elementType===e.type?C:Lt(e.type,C),I);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(O){we(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return T=Ud,Ud=!1,T}function Mr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var a=o.destroy;o.destroy=void 0,a!==void 0&&lu(e,n,a)}o=o.next}while(o!==r)}}function Ko(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function uu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function fm(t){var e=t.alternate;e!==null&&(t.alternate=null,fm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ut],delete e[Qr],delete e[Gl],delete e[Ty],delete e[Ey])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pm(t){return t.tag===5||t.tag===3||t.tag===4}function Fd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=xo));else if(r!==4&&(t=t.child,t!==null))for(cu(t,e,n),t=t.sibling;t!==null;)cu(t,e,n),t=t.sibling}function hu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(hu(t,e,n),t=t.sibling;t!==null;)hu(t,e,n),t=t.sibling}var ze=null,Ct=!1;function dn(t,e,n){for(n=n.child;n!==null;)mm(t,e,n),n=n.sibling}function mm(t,e,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount($o,n)}catch{}switch(n.tag){case 5:Fe||Ii(n,e);case 6:var r=ze,o=Ct;ze=null,dn(t,e,n),ze=r,Ct=o,ze!==null&&(Ct?(t=ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(Ct?(t=ze,n=n.stateNode,t.nodeType===8?sl(t.parentNode,n):t.nodeType===1&&sl(t,n),Vr(t)):sl(ze,n.stateNode));break;case 4:r=ze,o=Ct,ze=n.stateNode.containerInfo,Ct=!0,dn(t,e,n),ze=r,Ct=o;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var a=o,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&lu(n,e,u),o=o.next}while(o!==r)}dn(t,e,n);break;case 1:if(!Fe&&(Ii(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){we(n,e,h)}dn(t,e,n);break;case 21:dn(t,e,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,dn(t,e,n),Fe=r):dn(t,e,n);break;default:dn(t,e,n)}}function Zd(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Fy),e.forEach(function(r){var o=Yy.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Tt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var a=t,u=e,h=u;e:for(;h!==null;){switch(h.tag){case 5:ze=h.stateNode,Ct=!1;break e;case 3:ze=h.stateNode.containerInfo,Ct=!0;break e;case 4:ze=h.stateNode.containerInfo,Ct=!0;break e}h=h.return}if(ze===null)throw Error(A(160));mm(a,u,o),ze=null,Ct=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(p){we(o,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_m(e,t),e=e.sibling}function _m(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Tt(e,t),Bt(t),r&4){try{Mr(3,t,t.return),Ko(3,t)}catch(C){we(t,t.return,C)}try{Mr(5,t,t.return)}catch(C){we(t,t.return,C)}}break;case 1:Tt(e,t),Bt(t),r&512&&n!==null&&Ii(n,n.return);break;case 5:if(Tt(e,t),Bt(t),r&512&&n!==null&&Ii(n,n.return),t.flags&32){var o=t.stateNode;try{Fr(o,"")}catch(C){we(t,t.return,C)}}if(r&4&&(o=t.stateNode,o!=null)){var a=t.memoizedProps,u=n!==null?n.memoizedProps:a,h=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&Bf(o,a),Ml(h,u);var p=Ml(h,a);for(u=0;u<d.length;u+=2){var _=d[u],g=d[u+1];_==="style"?Zf(o,g):_==="dangerouslySetInnerHTML"?Uf(o,g):_==="children"?Fr(o,g):Mu(o,_,g,p)}switch(h){case"input":Ol(o,a);break;case"textarea":Df(o,a);break;case"select":var v=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var P=a.value;P!=null?Ri(o,!!a.multiple,P,!1):v!==!!a.multiple&&(a.defaultValue!=null?Ri(o,!!a.multiple,a.defaultValue,!0):Ri(o,!!a.multiple,a.multiple?[]:"",!1))}o[Qr]=a}catch(C){we(t,t.return,C)}}break;case 6:if(Tt(e,t),Bt(t),r&4){if(t.stateNode===null)throw Error(A(162));o=t.stateNode,a=t.memoizedProps;try{o.nodeValue=a}catch(C){we(t,t.return,C)}}break;case 3:if(Tt(e,t),Bt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vr(e.containerInfo)}catch(C){we(t,t.return,C)}break;case 4:Tt(e,t),Bt(t);break;case 13:Tt(e,t),Bt(t),o=t.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(pc=ke())),r&4&&Zd(t);break;case 22:if(_=n!==null&&n.memoizedState!==null,t.mode&1?(Fe=(p=Fe)||_,Tt(e,t),Fe=p):Tt(e,t),Bt(t),r&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!_&&t.mode&1)for($=t,_=t.child;_!==null;){for(g=$=_;$!==null;){switch(v=$,P=v.child,v.tag){case 0:case 11:case 14:case 15:Mr(4,v,v.return);break;case 1:Ii(v,v.return);var T=v.stateNode;if(typeof T.componentWillUnmount=="function"){r=v,n=v.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(C){we(r,n,C)}}break;case 5:Ii(v,v.return);break;case 22:if(v.memoizedState!==null){Hd(g);continue}}P!==null?(P.return=v,$=P):Hd(g)}_=_.sibling}e:for(_=null,g=t;;){if(g.tag===5){if(_===null){_=g;try{o=g.stateNode,p?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=g.stateNode,d=g.memoizedProps.style,u=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=Ff("display",u))}catch(C){we(t,t.return,C)}}}else if(g.tag===6){if(_===null)try{g.stateNode.nodeValue=p?"":g.memoizedProps}catch(C){we(t,t.return,C)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;_===g&&(_=null),g=g.return}_===g&&(_=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Tt(e,t),Bt(t),r&4&&Zd(t);break;case 21:break;default:Tt(e,t),Bt(t)}}function Bt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(pm(n)){var r=n;break e}n=n.return}throw Error(A(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Fr(o,""),r.flags&=-33);var a=Fd(t);hu(t,a,o);break;case 3:case 4:var u=r.stateNode.containerInfo,h=Fd(t);cu(t,h,u);break;default:throw Error(A(161))}}catch(d){we(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Wy(t,e,n){$=t,gm(t)}function gm(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var o=$,a=o.child;if(o.tag===22&&r){var u=o.memoizedState!==null||qs;if(!u){var h=o.alternate,d=h!==null&&h.memoizedState!==null||Fe;h=qs;var p=Fe;if(qs=u,(Fe=d)&&!p)for($=o;$!==null;)u=$,d=u.child,u.tag===22&&u.memoizedState!==null?Vd(o):d!==null?(d.return=u,$=d):Vd(o);for(;a!==null;)$=a,gm(a),a=a.sibling;$=o,qs=h,Fe=p}Wd(t)}else o.subtreeFlags&8772&&a!==null?(a.return=o,$=a):Wd(t)}}function Wd(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Fe||Ko(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:Lt(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Cd(e,a,r);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cd(e,u,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var _=p.memoizedState;if(_!==null){var g=_.dehydrated;g!==null&&Vr(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Fe||e.flags&512&&uu(e)}catch(v){we(e,e.return,v)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function Hd(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function Vd(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ko(4,e)}catch(d){we(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(d){we(e,o,d)}}var a=e.return;try{uu(e)}catch(d){we(e,a,d)}break;case 5:var u=e.return;try{uu(e)}catch(d){we(e,u,d)}}}catch(d){we(e,e.return,d)}if(e===t){$=null;break}var h=e.sibling;if(h!==null){h.return=e.return,$=h;break}$=e.return}}var Hy=Math.ceil,No=ln.ReactCurrentDispatcher,dc=ln.ReactCurrentOwner,yt=ln.ReactCurrentBatchConfig,ie=0,Ie=null,Te=null,Be=0,rt=0,Mi=An(0),Oe=0,is=null,ni=0,Go=0,fc=0,Rr=null,Ye=null,pc=0,Ki=1/0,Jt=null,Ao=!1,du=null,Ln=null,Ks=!1,xn=null,Io=0,zr=0,fu=null,uo=-1,co=0;function qe(){return ie&6?ke():uo!==-1?uo:uo=ke()}function Cn(t){return t.mode&1?ie&2&&Be!==0?Be&-Be:Cy.transition!==null?(co===0&&(co=tp()),co):(t=oe,t!==0||(t=window.event,t=t===void 0?16:lp(t.type)),t):1}function Nt(t,e,n,r){if(50<zr)throw zr=0,fu=null,Error(A(185));os(t,n,r),(!(ie&2)||t!==Ie)&&(t===Ie&&(!(ie&2)&&(Go|=n),Oe===4&&vn(t,Be)),it(t,r),n===1&&ie===0&&!(e.mode&1)&&(Ki=ke()+500,Ho&&In()))}function it(t,e){var n=t.callbackNode;Cv(t,e);var r=go(t,t===Ie?Be:0);if(r===0)n!==null&&td(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&td(n),e===1)t.tag===0?Ly(qd.bind(null,t)):Lp(qd.bind(null,t)),Sy(function(){!(ie&6)&&In()}),n=null;else{switch(np(r)){case 1:n=$u;break;case 4:n=Xf;break;case 16:n=_o;break;case 536870912:n=ep;break;default:n=_o}n=Tm(n,vm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vm(t,e){if(uo=-1,co=0,ie&6)throw Error(A(327));var n=t.callbackNode;if(Ui()&&t.callbackNode!==n)return null;var r=go(t,t===Ie?Be:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Mo(t,r);else{e=r;var o=ie;ie|=2;var a=wm();(Ie!==t||Be!==e)&&(Jt=null,Ki=ke()+500,Qn(t,e));do try{Ky();break}catch(h){ym(t,h)}while(!0);Xu(),No.current=a,ie=o,Te!==null?e=0:(Ie=null,Be=0,e=Oe)}if(e!==0){if(e===2&&(o=$l(t),o!==0&&(r=o,e=pu(t,o))),e===1)throw n=is,Qn(t,0),vn(t,r),it(t,ke()),n;if(e===6)vn(t,r);else{if(o=t.current.alternate,!(r&30)&&!Vy(o)&&(e=Mo(t,r),e===2&&(a=$l(t),a!==0&&(r=a,e=pu(t,a))),e===1))throw n=is,Qn(t,0),vn(t,r),it(t,ke()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(A(345));case 2:Hn(t,Ye,Jt);break;case 3:if(vn(t,r),(r&130023424)===r&&(e=pc+500-ke(),10<e)){if(go(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){qe(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Kl(Hn.bind(null,t,Ye,Jt),e);break}Hn(t,Ye,Jt);break;case 4:if(vn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var u=31-jt(r);a=1<<u,u=e[u],u>o&&(o=u),r&=~a}if(r=o,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Hy(r/1960))-r,10<r){t.timeoutHandle=Kl(Hn.bind(null,t,Ye,Jt),r);break}Hn(t,Ye,Jt);break;case 5:Hn(t,Ye,Jt);break;default:throw Error(A(329))}}}return it(t,ke()),t.callbackNode===n?vm.bind(null,t):null}function pu(t,e){var n=Rr;return t.current.memoizedState.isDehydrated&&(Qn(t,e).flags|=256),t=Mo(t,e),t!==2&&(e=Ye,Ye=n,e!==null&&mu(e)),t}function mu(t){Ye===null?Ye=t:Ye.push.apply(Ye,t)}function Vy(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],a=o.getSnapshot;o=o.value;try{if(!At(a(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vn(t,e){for(e&=~fc,e&=~Go,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jt(e),r=1<<n;t[n]=-1,e&=~r}}function qd(t){if(ie&6)throw Error(A(327));Ui();var e=go(t,0);if(!(e&1))return it(t,ke()),null;var n=Mo(t,e);if(t.tag!==0&&n===2){var r=$l(t);r!==0&&(e=r,n=pu(t,r))}if(n===1)throw n=is,Qn(t,0),vn(t,e),it(t,ke()),n;if(n===6)throw Error(A(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hn(t,Ye,Jt),it(t,ke()),null}function mc(t,e){var n=ie;ie|=1;try{return t(e)}finally{ie=n,ie===0&&(Ki=ke()+500,Ho&&In())}}function ii(t){xn!==null&&xn.tag===0&&!(ie&6)&&Ui();var e=ie;ie|=1;var n=yt.transition,r=oe;try{if(yt.transition=null,oe=1,t)return t()}finally{oe=r,yt.transition=n,ie=e,!(ie&6)&&In()}}function _c(){rt=Mi.current,pe(Mi)}function Qn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ky(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(Ju(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ko();break;case 3:Vi(),pe(tt),pe(Ze),sc();break;case 5:rc(r);break;case 4:Vi();break;case 13:pe(ge);break;case 19:pe(ge);break;case 10:ec(r.type._context);break;case 22:case 23:_c()}n=n.return}if(Ie=t,Te=t=bn(t.current,null),Be=rt=e,Oe=0,is=null,fc=Go=ni=0,Ye=Rr=null,Gn!==null){for(e=0;e<Gn.length;e++)if(n=Gn[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,a=n.pending;if(a!==null){var u=a.next;a.next=o,r.next=u}n.pending=r}Gn=null}return t}function ym(t,e){do{var n=Te;try{if(Xu(),oo.current=jo,Oo){for(var r=ve.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Oo=!1}if(ti=0,Ae=be=ve=null,Ir=!1,es=0,dc.current=null,n===null||n.return===null){Oe=1,is=e,Te=null;break}e:{var a=t,u=n.return,h=n,d=e;if(e=Be,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,_=h,g=_.tag;if(!(_.mode&1)&&(g===0||g===11||g===15)){var v=_.alternate;v?(_.updateQueue=v.updateQueue,_.memoizedState=v.memoizedState,_.lanes=v.lanes):(_.updateQueue=null,_.memoizedState=null)}var P=Id(u);if(P!==null){P.flags&=-257,Md(P,u,h,a,e),P.mode&1&&Ad(a,p,e),e=P,d=p;var T=e.updateQueue;if(T===null){var C=new Set;C.add(d),e.updateQueue=C}else T.add(d);break e}else{if(!(e&1)){Ad(a,p,e),gc();break e}d=Error(A(426))}}else if(me&&h.mode&1){var I=Id(u);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Md(I,u,h,a,e),Qu(qi(d,h));break e}}a=d=qi(d,h),Oe!==4&&(Oe=2),Rr===null?Rr=[a]:Rr.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var S=nm(a,d,e);Ld(a,S);break e;case 1:h=d;var y=a.type,k=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Ln===null||!Ln.has(k)))){a.flags|=65536,e&=-e,a.lanes|=e;var O=im(a,h,e);Ld(a,O);break e}}a=a.return}while(a!==null)}km(n)}catch(z){e=z,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function wm(){var t=No.current;return No.current=jo,t===null?jo:t}function gc(){(Oe===0||Oe===3||Oe===2)&&(Oe=4),Ie===null||!(ni&268435455)&&!(Go&268435455)||vn(Ie,Be)}function Mo(t,e){var n=ie;ie|=2;var r=wm();(Ie!==t||Be!==e)&&(Jt=null,Qn(t,e));do try{qy();break}catch(o){ym(t,o)}while(!0);if(Xu(),ie=n,No.current=r,Te!==null)throw Error(A(261));return Ie=null,Be=0,Oe}function qy(){for(;Te!==null;)xm(Te)}function Ky(){for(;Te!==null&&!yv();)xm(Te)}function xm(t){var e=Pm(t.alternate,t,rt);t.memoizedProps=t.pendingProps,e===null?km(t):Te=e,dc.current=null}function km(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Uy(n,e),n!==null){n.flags&=32767,Te=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Oe=6,Te=null;return}}else if(n=$y(n,e,rt),n!==null){Te=n;return}if(e=e.sibling,e!==null){Te=e;return}Te=e=t}while(e!==null);Oe===0&&(Oe=5)}function Hn(t,e,n){var r=oe,o=yt.transition;try{yt.transition=null,oe=1,Gy(t,e,n,r)}finally{yt.transition=o,oe=r}return null}function Gy(t,e,n,r){do Ui();while(xn!==null);if(ie&6)throw Error(A(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(A(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(bv(t,a),t===Ie&&(Te=Ie=null,Be=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ks||(Ks=!0,Tm(_o,function(){return Ui(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=yt.transition,yt.transition=null;var u=oe;oe=1;var h=ie;ie|=4,dc.current=null,Zy(t,n),_m(n,t),my(Vl),vo=!!Hl,Vl=Hl=null,t.current=n,Wy(n),wv(),ie=h,oe=u,yt.transition=a}else t.current=n;if(Ks&&(Ks=!1,xn=t,Io=o),a=t.pendingLanes,a===0&&(Ln=null),Sv(n.stateNode),it(t,ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Ao)throw Ao=!1,t=du,du=null,t;return Io&1&&t.tag!==0&&Ui(),a=t.pendingLanes,a&1?t===fu?zr++:(zr=0,fu=t):zr=0,In(),null}function Ui(){if(xn!==null){var t=np(Io),e=yt.transition,n=oe;try{if(yt.transition=null,oe=16>t?16:t,xn===null)var r=!1;else{if(t=xn,xn=null,Io=0,ie&6)throw Error(A(331));var o=ie;for(ie|=4,$=t.current;$!==null;){var a=$,u=a.child;if($.flags&16){var h=a.deletions;if(h!==null){for(var d=0;d<h.length;d++){var p=h[d];for($=p;$!==null;){var _=$;switch(_.tag){case 0:case 11:case 15:Mr(8,_,a)}var g=_.child;if(g!==null)g.return=_,$=g;else for(;$!==null;){_=$;var v=_.sibling,P=_.return;if(fm(_),_===p){$=null;break}if(v!==null){v.return=P,$=v;break}$=P}}}var T=a.alternate;if(T!==null){var C=T.child;if(C!==null){T.child=null;do{var I=C.sibling;C.sibling=null,C=I}while(C!==null)}}$=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,$=u;else e:for(;$!==null;){if(a=$,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Mr(9,a,a.return)}var S=a.sibling;if(S!==null){S.return=a.return,$=S;break e}$=a.return}}var y=t.current;for($=y;$!==null;){u=$;var k=u.child;if(u.subtreeFlags&2064&&k!==null)k.return=u,$=k;else e:for(u=y;$!==null;){if(h=$,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Ko(9,h)}}catch(z){we(h,h.return,z)}if(h===u){$=null;break e}var O=h.sibling;if(O!==null){O.return=h.return,$=O;break e}$=h.return}}if(ie=o,In(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot($o,t)}catch{}r=!0}return r}finally{oe=n,yt.transition=e}}return!1}function Kd(t,e,n){e=qi(n,e),e=nm(t,e,1),t=En(t,e,1),e=qe(),t!==null&&(os(t,1,e),it(t,e))}function we(t,e,n){if(t.tag===3)Kd(t,t,n);else for(;e!==null;){if(e.tag===3){Kd(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ln===null||!Ln.has(r))){t=qi(n,t),t=im(e,t,1),e=En(e,t,1),t=qe(),e!==null&&(os(e,1,t),it(e,t));break}}e=e.return}}function Jy(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qe(),t.pingedLanes|=t.suspendedLanes&n,Ie===t&&(Be&n)===n&&(Oe===4||Oe===3&&(Be&130023424)===Be&&500>ke()-pc?Qn(t,0):fc|=n),it(t,e)}function Sm(t,e){e===0&&(t.mode&1?(e=Bs,Bs<<=1,!(Bs&130023424)&&(Bs=4194304)):e=1);var n=qe();t=on(t,e),t!==null&&(os(t,e,n),it(t,n))}function Qy(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sm(t,n)}function Yy(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(A(314))}r!==null&&r.delete(e),Sm(t,n)}var Pm;Pm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tt.current)et=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return et=!1,Dy(t,e,n);et=!!(t.flags&131072)}else et=!1,me&&e.flags&1048576&&Cp(e,To,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;lo(t,e),t=e.pendingProps;var o=Zi(e,Ze.current);$i(e,n),o=ac(null,e,r,t,o,n);var a=lc();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nt(r)?(a=!0,So(e)):a=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,nc(e),o.updater=qo,e.stateNode=o,o._reactInternals=e,tu(e,r,t,n),e=ru(null,e,r,!0,a,n)):(e.tag=0,me&&a&&Gu(e),Ve(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(lo(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=e0(r),t=Lt(r,t),o){case 0:e=iu(null,e,r,t,n);break e;case 1:e=Bd(null,e,r,t,n);break e;case 11:e=Rd(null,e,r,t,n);break e;case 14:e=zd(null,e,r,Lt(r.type,t),n);break e}throw Error(A(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Lt(r,o),iu(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Lt(r,o),Bd(t,e,r,o,n);case 3:e:{if(am(e),t===null)throw Error(A(387));r=e.pendingProps,a=e.memoizedState,o=a.element,Ip(t,e),Co(e,r,null,n);var u=e.memoizedState;if(r=u.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){o=qi(Error(A(423)),e),e=Dd(t,e,r,n,o);break e}else if(r!==o){o=qi(Error(A(424)),e),e=Dd(t,e,r,n,o);break e}else for(st=Tn(e.stateNode.containerInfo.firstChild),ot=e,me=!0,Ot=null,n=Np(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wi(),r===o){e=an(t,e,n);break e}Ve(t,e,r,n)}e=e.child}return e;case 5:return Mp(e),t===null&&Yl(e),r=e.type,o=e.pendingProps,a=t!==null?t.memoizedProps:null,u=o.children,ql(r,o)?u=null:a!==null&&ql(r,a)&&(e.flags|=32),om(t,e),Ve(t,e,u,n),e.child;case 6:return t===null&&Yl(e),null;case 13:return lm(t,e,n);case 4:return ic(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Hi(e,null,r,n):Ve(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Lt(r,o),Rd(t,e,r,o,n);case 7:return Ve(t,e,e.pendingProps,n),e.child;case 8:return Ve(t,e,e.pendingProps.children,n),e.child;case 12:return Ve(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,a=e.memoizedProps,u=o.value,he(Eo,r._currentValue),r._currentValue=u,a!==null)if(At(a.value,u)){if(a.children===o.children&&!tt.current){e=an(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var d=h.firstContext;d!==null;){if(d.context===r){if(a.tag===1){d=tn(-1,n&-n),d.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var _=p.pending;_===null?d.next=d:(d.next=_.next,_.next=d),p.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),Xl(a.return,n,e),h.lanes|=n;break}d=d.next}}else if(a.tag===10)u=a.type===e.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(A(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),Xl(u,n,e),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Ve(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,$i(e,n),o=wt(o),r=r(o),e.flags|=1,Ve(t,e,r,n),e.child;case 14:return r=e.type,o=Lt(r,e.pendingProps),o=Lt(r.type,o),zd(t,e,r,o,n);case 15:return rm(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Lt(r,o),lo(t,e),e.tag=1,nt(r)?(t=!0,So(e)):t=!1,$i(e,n),tm(e,r,o),tu(e,r,o,n),ru(null,e,r,!0,t,n);case 19:return um(t,e,n);case 22:return sm(t,e,n)}throw Error(A(156,e.tag))};function Tm(t,e){return Yf(t,e)}function Xy(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(t,e,n,r){return new Xy(t,e,n,r)}function vc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function e0(t){if(typeof t=="function")return vc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zu)return 11;if(t===Bu)return 14}return 2}function bn(t,e){var n=t.alternate;return n===null?(n=gt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ho(t,e,n,r,o,a){var u=2;if(r=t,typeof t=="function")vc(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case Ti:return Yn(n.children,o,a,e);case Ru:u=8,o|=8;break;case Tl:return t=gt(12,n,e,o|2),t.elementType=Tl,t.lanes=a,t;case El:return t=gt(13,n,e,o),t.elementType=El,t.lanes=a,t;case Ll:return t=gt(19,n,e,o),t.elementType=Ll,t.lanes=a,t;case Mf:return Jo(n,o,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Af:u=10;break e;case If:u=9;break e;case zu:u=11;break e;case Bu:u=14;break e;case mn:u=16,r=null;break e}throw Error(A(130,t==null?t:typeof t,""))}return e=gt(u,n,e,o),e.elementType=t,e.type=r,e.lanes=a,e}function Yn(t,e,n,r){return t=gt(7,t,r,e),t.lanes=n,t}function Jo(t,e,n,r){return t=gt(22,t,r,e),t.elementType=Mf,t.lanes=n,t.stateNode={isHidden:!1},t}function fl(t,e,n){return t=gt(6,t,null,e),t.lanes=n,t}function pl(t,e,n){return e=gt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function t0(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ka(0),this.expirationTimes=Ka(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ka(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function yc(t,e,n,r,o,a,u,h,d){return t=new t0(t,e,n,h,d),e===1?(e=1,a===!0&&(e|=8)):e=0,a=gt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nc(a),t}function n0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Em(t){if(!t)return jn;t=t._reactInternals;e:{if(si(t)!==t||t.tag!==1)throw Error(A(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(A(171))}if(t.tag===1){var n=t.type;if(nt(n))return Ep(t,n,e)}return e}function Lm(t,e,n,r,o,a,u,h,d){return t=yc(n,r,!0,t,o,a,u,h,d),t.context=Em(null),n=t.current,r=qe(),o=Cn(n),a=tn(r,o),a.callback=e??null,En(n,a,o),t.current.lanes=o,os(t,o,r),it(t,r),t}function Qo(t,e,n,r){var o=e.current,a=qe(),u=Cn(o);return n=Em(n),e.context===null?e.context=n:e.pendingContext=n,e=tn(a,u),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=En(o,e,u),t!==null&&(Nt(t,o,u,a),so(t,o,u)),u}function Ro(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gd(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wc(t,e){Gd(t,e),(t=t.alternate)&&Gd(t,e)}function i0(){return null}var Cm=typeof reportError=="function"?reportError:function(t){console.error(t)};function xc(t){this._internalRoot=t}Yo.prototype.render=xc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(A(409));Qo(t,e,null,null)};Yo.prototype.unmount=xc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ii(function(){Qo(null,t,null,null)}),e[sn]=null}};function Yo(t){this._internalRoot=t}Yo.prototype.unstable_scheduleHydration=function(t){if(t){var e=sp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<gn.length&&e!==0&&e<gn[n].priority;n++);gn.splice(n,0,t),n===0&&ap(t)}};function kc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Jd(){}function r0(t,e,n,r,o){if(o){if(typeof r=="function"){var a=r;r=function(){var p=Ro(u);a.call(p)}}var u=Lm(e,r,t,0,null,!1,!1,"",Jd);return t._reactRootContainer=u,t[sn]=u.current,Gr(t.nodeType===8?t.parentNode:t),ii(),u}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var h=r;r=function(){var p=Ro(d);h.call(p)}}var d=yc(t,0,!1,null,null,!1,!1,"",Jd);return t._reactRootContainer=d,t[sn]=d.current,Gr(t.nodeType===8?t.parentNode:t),ii(function(){Qo(e,d,n,r)}),d}function ea(t,e,n,r,o){var a=n._reactRootContainer;if(a){var u=a;if(typeof o=="function"){var h=o;o=function(){var d=Ro(u);h.call(d)}}Qo(e,u,t,o)}else u=r0(n,e,t,o,r);return Ro(u)}ip=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Er(e.pendingLanes);n!==0&&(Uu(e,n|1),it(e,ke()),!(ie&6)&&(Ki=ke()+500,In()))}break;case 13:ii(function(){var r=on(t,1);if(r!==null){var o=qe();Nt(r,t,1,o)}}),wc(t,1)}};Fu=function(t){if(t.tag===13){var e=on(t,134217728);if(e!==null){var n=qe();Nt(e,t,134217728,n)}wc(t,134217728)}};rp=function(t){if(t.tag===13){var e=Cn(t),n=on(t,e);if(n!==null){var r=qe();Nt(n,t,e,r)}wc(t,e)}};sp=function(){return oe};op=function(t,e){var n=oe;try{return oe=t,e()}finally{oe=n}};zl=function(t,e,n){switch(e){case"input":if(Ol(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=Wo(r);if(!o)throw Error(A(90));zf(r),Ol(r,o)}}}break;case"textarea":Df(t,n);break;case"select":e=n.value,e!=null&&Ri(t,!!n.multiple,e,!1)}};Vf=mc;qf=ii;var s0={usingClientEntryPoint:!1,Events:[ls,bi,Wo,Wf,Hf,mc]},kr={findFiberByHostInstance:Kn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},o0={bundleType:kr.bundleType,version:kr.version,rendererPackageName:kr.rendererPackageName,rendererConfig:kr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Jf(t),t===null?null:t.stateNode},findFiberByHostInstance:kr.findFiberByHostInstance||i0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gs.isDisabled&&Gs.supportsFiber)try{$o=Gs.inject(o0),Ft=Gs}catch{}}ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s0;ut.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!kc(e))throw Error(A(200));return n0(t,e,null,n)};ut.createRoot=function(t,e){if(!kc(t))throw Error(A(299));var n=!1,r="",o=Cm;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=yc(t,1,!1,null,null,n,!1,r,o),t[sn]=e.current,Gr(t.nodeType===8?t.parentNode:t),new xc(e)};ut.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(A(188)):(t=Object.keys(t).join(","),Error(A(268,t)));return t=Jf(e),t=t===null?null:t.stateNode,t};ut.flushSync=function(t){return ii(t)};ut.hydrate=function(t,e,n){if(!Xo(e))throw Error(A(200));return ea(null,t,e,!0,n)};ut.hydrateRoot=function(t,e,n){if(!kc(t))throw Error(A(405));var r=n!=null&&n.hydratedSources||null,o=!1,a="",u=Cm;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=Lm(e,null,t,1,n??null,o,!1,a,u),t[sn]=e.current,Gr(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Yo(e)};ut.render=function(t,e,n){if(!Xo(e))throw Error(A(200));return ea(null,t,e,!1,n)};ut.unmountComponentAtNode=function(t){if(!Xo(t))throw Error(A(40));return t._reactRootContainer?(ii(function(){ea(null,null,t,!1,function(){t._reactRootContainer=null,t[sn]=null})}),!0):!1};ut.unstable_batchedUpdates=mc;ut.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xo(n))throw Error(A(200));if(t==null||t._reactInternals===void 0)throw Error(A(38));return ea(t,e,n,!1,r)};ut.version="18.3.1-next-f1338f8080-20240426";function bm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bm)}catch(t){console.error(t)}}bm(),bf.exports=ut;var Om=bf.exports,jm,Qd=Om;jm=Qd.createRoot,Qd.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var a0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),kt=(t,e)=>{const n=U.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:u,className:h="",children:d,...p},_)=>U.createElement("svg",{ref:_,...a0,width:o,height:o,stroke:r,strokeWidth:u?Number(a)*24/Number(o):a,className:["lucide",`lucide-${l0(t)}`,h].join(" "),...p},[...e.map(([g,v])=>U.createElement(g,v)),...Array.isArray(d)?d:[d]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=kt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=kt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=kt("Bus",[["path",{d:"M8 6v6",key:"18i7km"}],["path",{d:"M15 6v6",key:"1sg6z9"}],["path",{d:"M2 12h19.6",key:"de5uta"}],["path",{d:"M18 18h3s.5-1.7.8-2.8c.1-.4.2-.8.2-1.2 0-.4-.1-.8-.2-1.2l-1.4-5C20.1 6.8 19.1 6 18 6H4a2 2 0 0 0-2 2v10h3",key:"1wwztk"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}],["path",{d:"M9 18h5",key:"lrx6i"}],["circle",{cx:"16",cy:"18",r:"2",key:"1v4tcr"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=kt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=kt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=kt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=kt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=kt("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=kt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=kt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=kt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=kt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),g0="modulepreload",v0=function(t){return"/next_stop/"+t},Yd={},cs=function(e,n,r){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=Promise.allSettled(n.map(d=>{if(d=v0(d),d in Yd)return;Yd[d]=!0;const p=d.endsWith(".css"),_=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${_}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":g0,p||(g.as="script"),g.crossOrigin="",g.href=d,h&&g.setAttribute("nonce",h),document.head.appendChild(g),p)return new Promise((v,P)=>{g.addEventListener("load",v),g.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})},y0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cs(async()=>{const{default:r}=await Promise.resolve().then(()=>Xi);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Pc extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class w0 extends Pc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Xd extends Pc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class ef extends Pc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var _u;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(_u||(_u={}));var x0=function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(_){try{p(r.next(_))}catch(g){u(g)}}function d(_){try{p(r.throw(_))}catch(g){u(g)}}function p(_){_.done?a(_.value):o(_.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class k0{constructor(e,{headers:n={},customFetch:r,region:o=_u.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=y0(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return x0(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:u}=n;let h={},{region:d}=n;d||(d=this.region);const p=new URL(`${this.url}/${e}`);d&&d!=="any"&&(h["x-region"]=d,p.searchParams.set("forceFunctionRegion",d));let _;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",_=u):typeof u=="string"?(h["Content-Type"]="text/plain",_=u):typeof FormData<"u"&&u instanceof FormData?_=u:(h["Content-Type"]="application/json",_=JSON.stringify(u)));const g=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:_}).catch(C=>{throw new w0(C)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new Xd(g);if(!g.ok)throw new ef(g);let P=((r=g.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),T;return P==="application/json"?T=yield g.json():P==="application/octet-stream"?T=yield g.blob():P==="text/event-stream"?T=g:P==="multipart/form-data"?T=yield g.formData():T=yield g.text(),{data:T,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof ef||o instanceof Xd?o.context:void 0}}})}}var Xe={},Tc={},ta={},hs={},na={},ia={},S0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gi=S0();const P0=Gi.fetch,Mm=Gi.fetch.bind(Gi),Rm=Gi.Headers,T0=Gi.Request,E0=Gi.Response,Xi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Rm,Request:T0,Response:E0,default:Mm,fetch:P0},Symbol.toStringTag,{value:"Module"})),L0=Mg(Xi);var ra={};Object.defineProperty(ra,"__esModule",{value:!0});let C0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ra.default=C0;var zm=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ia,"__esModule",{value:!0});const b0=zm(L0),O0=zm(ra);let j0=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=b0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var u,h,d,p;let _=null,g=null,v=null,P=a.status,T=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?g=y:g=JSON.parse(y))}const I=(h=this.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),S=(d=a.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");I&&S&&S.length>1&&(v=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(g)&&(g.length>1?(_={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,v=null,P=406,T="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{const I=await a.text();try{_=JSON.parse(I),Array.isArray(_)&&a.status===404&&(g=[],_=null,P=200,T="OK")}catch{a.status===404&&I===""?(P=204,T="No Content"):_={message:I}}if(_&&this.isMaybeSingle&&(!((p=_==null?void 0:_.details)===null||p===void 0)&&p.includes("0 rows"))&&(_=null,P=200,T="OK"),_&&this.shouldThrowOnError)throw new O0.default(_)}return{error:_,data:g,count:v,status:P,statusText:T}});return this.shouldThrowOnError||(o=o.catch(a=>{var u,h,d;return{error:{message:`${(u=a==null?void 0:a.name)!==null&&u!==void 0?u:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(h=a==null?void 0:a.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=a==null?void 0:a.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}returns(){return this}overrideTypes(){return this}};ia.default=j0;var N0=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(na,"__esModule",{value:!0});const A0=N0(ia);let I0=class extends A0.default{select(e){let n=!1;const r=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:o,referencedTable:a=o}={}){const u=a?`${a}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:o=r}={}){const a=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(u,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:o=!1,wal:a=!1,format:u="text"}={}){var h;const d=[e?"analyze":null,n?"verbose":null,r?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${p}"; options=${d};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};na.default=I0;var M0=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hs,"__esModule",{value:!0});const R0=M0(na);let z0=class extends R0.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const u=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${u}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const o=r?`${r}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};hs.default=z0;var B0=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ta,"__esModule",{value:!0});const Sr=B0(hs);let D0=class{constructor(e,{headers:n={},schema:r,fetch:o}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=o}select(e,{head:n=!1,count:r}={}){const o=n?"HEAD":"GET";let a=!1;const u=(e??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",u),r&&this.headers.append("Prefer",`count=${r}`),new Sr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var o;const a="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(u.length>0){const h=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new Sr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:o,defaultToNull:a=!0}={}){var u;const h="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),o&&this.headers.append("Prefer",`count=${o}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const d=e.reduce((p,_)=>p.concat(Object.keys(_)),[]);if(d.length>0){const p=[...new Set(d)].map(_=>`"${_}"`);this.url.searchParams.set("columns",p.join(","))}}return new Sr.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(e,{count:n}={}){var r;const o="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Sr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Sr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};ta.default=D0;var Bm=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Tc,"__esModule",{value:!0});const $0=Bm(ta),U0=Bm(hs);let F0=class Dm{constructor(e,{headers:n={},schema:r,fetch:o}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=o}from(e){const n=new URL(`${this.url}/${e}`);return new $0.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Dm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:o=!1,count:a}={}){var u;let h;const d=new URL(`${this.url}/rpc/${e}`);let p;r||o?(h=r?"HEAD":"GET",Object.entries(n).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{d.searchParams.append(g,v)})):(h="POST",p=n);const _=new Headers(this.headers);return a&&_.set("Prefer",`count=${a}`),new U0.default({method:h,url:d,headers:_,schema:this.schemaName,body:p,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};Tc.default=F0;var er=at&&at.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xe,"__esModule",{value:!0});Xe.PostgrestError=Xe.PostgrestBuilder=Xe.PostgrestTransformBuilder=Xe.PostgrestFilterBuilder=Xe.PostgrestQueryBuilder=Xe.PostgrestClient=void 0;const $m=er(Tc);Xe.PostgrestClient=$m.default;const Um=er(ta);Xe.PostgrestQueryBuilder=Um.default;const Fm=er(hs);Xe.PostgrestFilterBuilder=Fm.default;const Zm=er(na);Xe.PostgrestTransformBuilder=Zm.default;const Wm=er(ia);Xe.PostgrestBuilder=Wm.default;const Hm=er(ra);Xe.PostgrestError=Hm.default;var Z0=Xe.default={PostgrestClient:$m.default,PostgrestQueryBuilder:Um.default,PostgrestFilterBuilder:Fm.default,PostgrestTransformBuilder:Zm.default,PostgrestBuilder:Wm.default,PostgrestError:Hm.default};const{PostgrestClient:W0,PostgrestQueryBuilder:l1,PostgrestFilterBuilder:u1,PostgrestTransformBuilder:c1,PostgrestBuilder:h1,PostgrestError:d1}=Z0;class H0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,o=parseInt(r.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const V0="2.15.5",q0=`realtime-js/${V0}`,K0="1.0.0",gu=1e4,G0=1e3,J0=100;var Br;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Br||(Br={}));var Le;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Le||(Le={}));var bt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(bt||(bt={}));var vu;(function(t){t.websocket="websocket"})(vu||(vu={}));var qn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(qn||(qn={}));class Q0{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const o=n.getUint8(1),a=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=r.decode(e.slice(u,u+o));u=u+o;const d=r.decode(e.slice(u,u+a));u=u+a;const p=JSON.parse(r.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:d,payload:p}}}class Vm{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ce;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ce||(ce={}));const tf=(t,e,n={})=>{var r;const o=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((a,u)=>(a[u]=Y0(u,t,e,o),a),{})},Y0=(t,e,n,r)=>{const o=e.find(h=>h.name===t),a=o==null?void 0:o.type,u=n[t];return a&&!r.includes(a)?qm(a,u):yu(u)},qm=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return nw(e,n)}switch(t){case ce.bool:return X0(e);case ce.float4:case ce.float8:case ce.int2:case ce.int4:case ce.int8:case ce.numeric:case ce.oid:return ew(e);case ce.json:case ce.jsonb:return tw(e);case ce.timestamp:return iw(e);case ce.abstime:case ce.date:case ce.daterange:case ce.int4range:case ce.int8range:case ce.money:case ce.reltime:case ce.text:case ce.time:case ce.timestamptz:case ce.timetz:case ce.tsrange:case ce.tstzrange:return yu(e);default:return yu(e)}},yu=t=>t,X0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ew=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},tw=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},nw=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const u=t.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(h=>qm(e,h))}return t},iw=t=>typeof t=="string"?t.replace(" ","T"):t,Km=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class ml{constructor(e,n,r={},o=gu){this.channel=e,this.event=n,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var nf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(nf||(nf={}));class Dr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Dr.syncState(this.state,o,a,u),this.pendingDiffs.forEach(d=>{this.state=Dr.syncDiff(this.state,d,a,u)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Dr.syncDiff(this.state,o,a,u),h())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,o){const a=this.cloneDeep(e),u=this.transformState(n),h={},d={};return this.map(a,(p,_)=>{u[p]||(d[p]=_)}),this.map(u,(p,_)=>{const g=a[p];if(g){const v=_.map(I=>I.presence_ref),P=g.map(I=>I.presence_ref),T=_.filter(I=>P.indexOf(I.presence_ref)<0),C=g.filter(I=>v.indexOf(I.presence_ref)<0);T.length>0&&(h[p]=T),C.length>0&&(d[p]=C)}else h[p]=_}),this.syncDiff(a,{joins:h,leaves:d},r,o)}static syncDiff(e,n,r,o){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(a,(h,d)=>{var p;const _=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(d),_.length>0){const g=e[h].map(P=>P.presence_ref),v=_.filter(P=>g.indexOf(P.presence_ref)<0);e[h].unshift(...v)}r(h,_,d)}),this.map(u,(h,d)=>{let p=e[h];if(!p)return;const _=d.map(g=>g.presence_ref);p=p.filter(g=>_.indexOf(g.presence_ref)<0),e[h]=p,o(h,p,d),p.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const o=e[r];return"metas"in o?n[r]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var rf;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(rf||(rf={}));var $r;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})($r||($r={}));var Qt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Qt||(Qt={}));class Ec{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ml(this,bt.join,this.params,this.timeout),this.rejoinTimer=new Vm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Le.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bt.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Dr(this),this.broadcastEndpointURL=Km(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,o,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Le.closed){const{config:{broadcast:u,presence:h,private:d}}=this.params,p=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(P=>P.filter))!==null&&o!==void 0?o:[],_=!!this.bindings[$r.PRESENCE]&&this.bindings[$r.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,g={},v={broadcast:u,presence:Object.assign(Object.assign({},h),{enabled:_}),postgres_changes:p,private:d};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this._onError(P=>e==null?void 0:e(Qt.CHANNEL_ERROR,P)),this._onClose(()=>e==null?void 0:e(Qt.CLOSED)),this.updateJoinPayload(Object.assign({config:v},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:P})=>{var T;if(this.socket.setAuth(),P===void 0){e==null||e(Qt.SUBSCRIBED);return}else{const C=this.bindings.postgres_changes,I=(T=C==null?void 0:C.length)!==null&&T!==void 0?T:0,S=[];for(let y=0;y<I;y++){const k=C[y],{filter:{event:O,schema:z,table:M,filter:B}}=k,F=P&&P[y];if(F&&F.event===O&&F.schema===z&&F.table===M&&F.filter===B)S.push(Object.assign(Object.assign({},k),{id:F.id}));else{this.unsubscribe(),this.state=Le.errored,e==null||e(Qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,e&&e(Qt.SUBSCRIBED);return}}).receive("error",P=>{this.state=Le.errored,e==null||e(Qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(P).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Le.joined&&e===$r.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:u}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,h,d;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Le.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new ml(this,bt.leave,{},e),r.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Le.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const o=new AbortController,a=setTimeout(()=>o.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),u}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new ml(this,e,n,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>J0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var o,a;const u=e.toLocaleLowerCase(),{close:h,error:d,leave:p,join:_}=bt;if(r&&[h,d,p,_].indexOf(u)>=0&&r!==this._joinRef())return;let v=this._onMessage(u,n,r);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(P=>{var T,C,I;return((T=P.filter)===null||T===void 0?void 0:T.event)==="*"||((I=(C=P.filter)===null||C===void 0?void 0:C.event)===null||I===void 0?void 0:I.toLocaleLowerCase())===u}).map(P=>P.callback(v,r)):(a=this.bindings[u])===null||a===void 0||a.filter(P=>{var T,C,I,S,y,k;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in P){const O=P.id,z=(T=P.filter)===null||T===void 0?void 0:T.event;return O&&((C=n.ids)===null||C===void 0?void 0:C.includes(O))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((I=n.data)===null||I===void 0?void 0:I.type.toLocaleLowerCase()))}else{const O=(y=(S=P==null?void 0:P.filter)===null||S===void 0?void 0:S.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return O==="*"||O===((k=n==null?void 0:n.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return P.type.toLocaleLowerCase()===u}).map(P=>{if(typeof v=="object"&&"ids"in v){const T=v.data,{schema:C,table:I,commit_timestamp:S,type:y,errors:k}=T;v=Object.assign(Object.assign({},{schema:C,table:I,commit_timestamp:S,eventType:y,new:{},old:{},errors:k}),this._getPayloadRecords(T))}P.callback(v,r)})}_isClosed(){return this.state===Le.closed}_isJoined(){return this.state===Le.joined}_isJoining(){return this.state===Le.joining}_isLeaving(){return this.state===Le.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:r};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&Ec.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(bt.close,{},e)}_onError(e){this._on(bt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Le.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=tf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=tf(e.columns,e.old_record)),n}}const _l=()=>{},Js={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rw=[1e3,2e3,5e3,1e4],sw=1e4,ow=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aw{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gu,this.transport=null,this.heartbeatIntervalMs=Js.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_l,this.ref=0,this.reconnectTimer=null,this.logger=_l,this.conn=null,this.sendBuffer=[],this.serializer=new Q0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...u)=>cs(async()=>{const{default:h}=await Promise.resolve().then(()=>Xi);return{default:h}},void 0).then(({default:h})=>h(...u)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...u)=>a(...u)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${vu.websocket}`,this.httpEndpoint=Km(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=H0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:K0}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Br.connecting:return qn.Connecting;case Br.open:return qn.Open;case Br.closing:return qn.Closing;default:return qn.Closed}}isConnected(){return this.connectionState()===qn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===r);if(o)return o;{const a=new Ec(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:o,ref:a}=e,u=()=>{this.encode(e,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${n} ${r} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(G0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Js.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(p){this.log("error","error in heartbeat callback",p)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:o,payload:a,ref:u}=n,h=u?`(${u})`:"",d=a.status||"";this.log("receive",`${d} ${r} ${o} ${h}`.trim(),a),this.channels.filter(p=>p._isMember(r)).forEach(p=>p._trigger(o,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(bt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${r}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([ow],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const o={access_token:n,version:q0};n&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(bt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Vm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Js.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,o,a,u,h,d,p,_;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:gu,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:Js.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(h=e==null?void 0:e.heartbeatCallback)!==null&&h!==void 0?h:_l,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=e==null?void 0:e.reconnectAfterMs)!==null&&d!==void 0?d:g=>rw[g-1]||sw,this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:(g,v)=>v(JSON.stringify(g)),this.decode=(_=e==null?void 0:e.decode)!==null&&_!==void 0?_:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Lc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ce(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class lw extends Lc{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wu extends Lc{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var uw=function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(_){try{p(r.next(_))}catch(g){u(g)}}function d(_){try{p(r.throw(_))}catch(g){u(g)}}function p(_){_.done?a(_.value):o(_.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const Gm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cs(async()=>{const{default:r}=await Promise.resolve().then(()=>Xi);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},cw=()=>uw(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield cs(()=>Promise.resolve().then(()=>Xi),void 0)).Response:Response}),xu=t=>{if(Array.isArray(t))return t.map(n=>xu(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=xu(r)}),e},hw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var oi=function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(_){try{p(r.next(_))}catch(g){u(g)}}function d(_){try{p(r.throw(_))}catch(g){u(g)}}function p(_){_.done?a(_.value):o(_.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const gl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dw=(t,e,n)=>oi(void 0,void 0,void 0,function*(){const r=yield cw();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{const a=t.status||500,u=(o==null?void 0:o.statusCode)||a+"";e(new lw(gl(o),a,u))}).catch(o=>{e(new wu(gl(o),o))}):e(new wu(gl(t),t))}),fw=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?o:(hw(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function ds(t,e,n,r,o,a){return oi(this,void 0,void 0,function*(){return new Promise((u,h)=>{t(n,fw(e,r,o,a)).then(d=>{if(!d.ok)throw d;return r!=null&&r.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>dw(d,h,r))})})}function zo(t,e,n,r){return oi(this,void 0,void 0,function*(){return ds(t,"GET",e,n,r)})}function $t(t,e,n,r,o){return oi(this,void 0,void 0,function*(){return ds(t,"POST",e,r,o,n)})}function ku(t,e,n,r,o){return oi(this,void 0,void 0,function*(){return ds(t,"PUT",e,r,o,n)})}function pw(t,e,n,r){return oi(this,void 0,void 0,function*(){return ds(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Jm(t,e,n,r,o){return oi(this,void 0,void 0,function*(){return ds(t,"DELETE",e,r,o,n)})}var He=function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(_){try{p(r.next(_))}catch(g){u(g)}}function d(_){try{p(r.throw(_))}catch(g){u(g)}}function p(_){_.done?a(_.value):o(_.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const mw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},sf={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class _w{constructor(e,n={},r,o){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Gm(o)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,o){return He(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},sf),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const d=u.metadata;typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,d&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const p=this._removeEmptyFolders(n),_=this._getFinalPath(p),g=yield(e=="PUT"?ku:$t)(this.fetch,`${this.url}/object/${_}`,a,Object.assign({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ce(a))return{data:null,error:a};throw a}})}upload(e,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,o){return He(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let d;const p=Object.assign({upsert:sf.upsert},o),_=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",p.cacheControl)):(d=r,_["cache-control"]=`max-age=${p.cacheControl}`,_["content-type"]=p.contentType);const g=yield ku(this.fetch,h.toString(),d,{headers:_});return{data:{path:a,fullPath:g.Key},error:null}}catch(d){if(this.shouldThrowOnError)throw d;if(Ce(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return He(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield $t(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(this.url+a.url),h=u.searchParams.get("token");if(!h)throw new Lc("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}update(e,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return He(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ce(o))return{data:null,error:o};throw o}})}copy(e,n,r){return He(this,void 0,void 0,function*(){try{return{data:{path:(yield $t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ce(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,r){return He(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield $t(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ce(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,r){return He(this,void 0,void 0,function*(){try{const o=yield $t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ce(o))return{data:null,error:o};throw o}})}download(e,n){return He(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=a?`?${a}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield zo(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(this.shouldThrowOnError)throw h;if(Ce(h))return{data:null,error:h};throw h}})}info(e){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield zo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:xu(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}exists(e){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield pw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r)&&r instanceof wu){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&o.push(d);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(e){return He(this,void 0,void 0,function*(){try{return{data:yield Jm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}list(e,n,r){return He(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},mw),n),{prefix:e||""});return{data:yield $t(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(Ce(o))return{data:null,error:o};throw o}})}listV2(e,n){return He(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield $t(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const gw="2.12.1",vw={"X-Client-Info":`storage-js/${gw}`};var gi=function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(_){try{p(r.next(_))}catch(g){u(g)}}function d(_){try{p(r.throw(_))}catch(g){u(g)}}function p(_){_.done?a(_.value):o(_.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class yw{constructor(e,n={},r,o){this.shouldThrowOnError=!1;const a=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},vw),n),this.fetch=Gm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return gi(this,void 0,void 0,function*(){try{return{data:yield zo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Ce(e))return{data:null,error:e};throw e}})}getBucket(e){return gi(this,void 0,void 0,function*(){try{return{data:yield zo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return gi(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return gi(this,void 0,void 0,function*(){try{return{data:yield ku(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ce(r))return{data:null,error:r};throw r}})}emptyBucket(e){return gi(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}deleteBucket(e){return gi(this,void 0,void 0,function*(){try{return{data:yield Jm(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ce(n))return{data:null,error:n};throw n}})}}class ww extends yw{constructor(e,n={},r,o){super(e,n,r,o)}from(e){return new _w(this.url,this.headers,e,this.fetch)}}const xw="2.57.4";let Cr="";typeof Deno<"u"?Cr="deno":typeof document<"u"?Cr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cr="react-native":Cr="node";const kw={"X-Client-Info":`supabase-js-${Cr}/${xw}`},Sw={headers:kw},Pw={schema:"public"},Tw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ew={};var Lw=function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(_){try{p(r.next(_))}catch(g){u(g)}}function d(_){try{p(r.throw(_))}catch(g){u(g)}}function p(_){_.done?a(_.value):o(_.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};const Cw=t=>{let e;return t?e=t:typeof fetch>"u"?e=Mm:e=fetch,(...n)=>e(...n)},bw=()=>typeof Headers>"u"?Rm:Headers,Ow=(t,e,n)=>{const r=Cw(n),o=bw();return(a,u)=>Lw(void 0,void 0,void 0,function*(){var h;const d=(h=yield e())!==null&&h!==void 0?h:t;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),r(a,Object.assign(Object.assign({},u),{headers:p}))})};var jw=function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(_){try{p(r.next(_))}catch(g){u(g)}}function d(_){try{p(r.throw(_))}catch(g){u(g)}}function p(_){_.done?a(_.value):o(_.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};function Nw(t){return t.endsWith("/")?t:t+"/"}function Aw(t,e){var n,r;const{db:o,auth:a,realtime:u,global:h}=t,{db:d,auth:p,realtime:_,global:g}=e,v={db:Object.assign(Object.assign({},d),o),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},_),u),storage:{},global:Object.assign(Object.assign(Object.assign({},g),h),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>jw(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function Iw(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Nw(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Qm="2.71.1",ki=30*1e3,Su=3,vl=Su*ki,Mw="http://localhost:9999",Rw="supabase.auth.token",zw={"X-Client-Info":`gotrue-js/${Qm}`},Pu="X-Supabase-Api-Version",Ym={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Bw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dw=10*60*1e3;class Cc extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function G(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class $w extends Cc{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Uw(t){return G(t)&&t.name==="AuthApiError"}class Xm extends Cc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Mn extends Cc{constructor(e,n,r,o){super(e,r,o),this.name=n,this.status=r}}class pn extends Mn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fw(t){return G(t)&&t.name==="AuthSessionMissingError"}class Qs extends Mn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ys extends Mn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Xs extends Mn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zw(t){return G(t)&&t.name==="AuthImplicitGrantRedirectError"}class of extends Mn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tu extends Mn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function yl(t){return G(t)&&t.name==="AuthRetryableFetchError"}class af extends Mn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Eu extends Mn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Bo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),lf=` 	
\r=`.split(""),Ww=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<lf.length;e+=1)t[lf[e].charCodeAt(0)]=-2;for(let e=0;e<Bo.length;e+=1)t[Bo[e].charCodeAt(0)]=e;return t})();function uf(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Bo[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Bo[r]),e.queuedBits-=6}}function e_(t,e,n){const r=Ww[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function cf(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{qw(u,r,n)};for(let u=0;u<t.length;u+=1)e_(t.charCodeAt(u),o,a);return e.join("")}function Hw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Vw(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}Hw(r,e)}}function qw(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Kw(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)e_(t.charCodeAt(o),n,r);return new Uint8Array(e)}function Gw(t){const e=[];return Vw(t,n=>e.push(n)),new Uint8Array(e)}function Jw(t){const e=[],n={queue:0,queuedBits:0},r=o=>{e.push(o)};return t.forEach(o=>uf(o,n,r)),uf(null,n,r),e.join("")}function Qw(t){return Math.round(Date.now()/1e3)+t}function Yw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Et=()=>typeof window<"u"&&typeof document<"u",Fn={tested:!1,writable:!1},t_=()=>{if(!Et())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fn.tested)return Fn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Fn.tested=!0,Fn.writable=!0}catch{Fn.tested=!0,Fn.writable=!1}return Fn.writable};function Xw(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((r,o)=>{e[o]=r}),e}const n_=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>cs(async()=>{const{default:r}=await Promise.resolve().then(()=>Xi);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},ex=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Si=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Zn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fn=async(t,e)=>{await t.removeItem(e)};class sa{constructor(){this.promise=new sa.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}sa.promiseConstructor=Promise;function wl(t){const e=t.split(".");if(e.length!==3)throw new Eu("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Bw.test(e[r]))throw new Eu("JWT not in base64url format");return{header:JSON.parse(cf(e[0])),payload:JSON.parse(cf(e[1])),signature:Kw(e[2]),raw:{header:e[0],payload:e[1]}}}async function tx(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function nx(t,e){return new Promise((r,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){r(u);return}}catch(u){if(!e(a,u)){o(u);return}}})()})}function ix(t){return("0"+t.toString(16)).substr(-2)}function rx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,ix).join("")}async function sx(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(r);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function ox(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await sx(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function vi(t,e,n=!1){const r=rx();let o=r;n&&(o+="/PASSWORD_RECOVERY"),await Si(t,`${e}-code-verifier`,o);const a=await ox(r);return[a,r===a?"plain":"s256"]}const ax=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function lx(t){const e=t.headers.get(Pu);if(!e||!e.match(ax))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ux(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function cx(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const hx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yi(t){if(!hx.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xl(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function hf(t){return JSON.parse(JSON.stringify(t))}var dx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};const Vn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fx=[502,503,504];async function df(t){var e;if(!ex(t))throw new Tu(Vn(t),0);if(fx.includes(t.status))throw new Tu(Vn(t),t.status);let n;try{n=await t.json()}catch(a){throw new Xm(Vn(a),a)}let r;const o=lx(t);if(o&&o.getTime()>=Ym["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new af(Vn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new pn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new af(Vn(n),t.status,n.weak_password.reasons);throw new $w(Vn(n),t.status||500,r)}const px=(t,e,n,r)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),n))};async function X(t,e,n,r){var o;const a=Object.assign({},r==null?void 0:r.headers);a[Pu]||(a[Pu]=Ym["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const u=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",d=await mx(t,e,n+h,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(d):{data:Object.assign({},d),error:null}}async function mx(t,e,n,r,o,a){const u=px(e,r,o,a);let h;try{h=await t(n,Object.assign({},u))}catch(d){throw console.error(d),new Tu(Vn(d),0)}if(h.ok||await df(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(d){await df(d)}}function Gt(t){var e;let n=null;yx(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Qw(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function ff(t){const e=Gt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function _x(t){return{data:t,error:null}}function gx(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a}=t,u=dx(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:r,redirect_to:o,verification_type:a},d=Object.assign({},u);return{data:{properties:h,user:d},error:null}}function vx(t){return t}function yx(t){return t.access_token&&t.refresh_token&&t.expires_in}const kl=["global","local","others"];var wx=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};class xx{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=n_(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=kl[0]){if(kl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kl.join(", ")}`);try{return await X(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await X(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yn})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=wx(e,["options"]),o=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await X(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:gx,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(G(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await X(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yn})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,o,a,u,h,d;try{const p={nextPage:null,lastPage:0,total:0},_=await X(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:vx});if(_.error)throw _.error;const g=await _.json(),v=(u=_.headers.get("x-total-count"))!==null&&u!==void 0?u:0,P=(d=(h=_.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return P.length>0&&(P.forEach(T=>{const C=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),I=JSON.parse(T.split(";")[1].split("=")[1]);p[`${I}Page`]=C}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(G(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){yi(e);try{return await X(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yn})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){yi(e);try{return await X(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:yn})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){yi(e);try{return await X(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:yn})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){yi(e.userId);try{const{data:n,error:r}=await X(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:r}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _deleteFactor(e){yi(e.userId),yi(e.id);try{return{data:await X(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}}function pf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function kx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const wi={debug:!!(globalThis&&t_()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class i_ extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Sx extends i_{}async function Px(t,e,n){wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),wi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw wi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Sx(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(wi.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}kx();const Tx={url:Mw,storageKey:Rw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:zw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function mf(t,e,n){return await n()}const xi={};class rs{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rs.nextInstanceID,rs.nextInstanceID+=1,this.instanceID>0&&Et()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},Tx),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new xx({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=n_(o.fetch),this.lock=o.lock||mf,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Et()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Px:this.lock=mf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:t_()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pf(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=pf(this.memoryStorage)),Et()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=xi[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=xi[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){xi[this.storageKey]=Object.assign(Object.assign({},xi[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qm}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Xw(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Et()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Zw(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return G(n)?{error:n}:{error:new Xm("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,o;try{const a=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Gt}),{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(G(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,r,o;try{let a;if("email"in e){const{email:_,password:g,options:v}=e;let P=null,T=null;this.flowType==="pkce"&&([P,T]=await vi(this.storage,this.storageKey)),a=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:_,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:P,code_challenge_method:T},xform:Gt})}else if("phone"in e){const{phone:_,password:g,options:v}=e;a=await X(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:g,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Gt})}else throw new Ys("You must provide either an email or phone number and a password");const{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(G(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:u,options:h}=e;n=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ff})}else if("phone"in e){const{phone:a,password:u,options:h}=e;n=await X(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ff})}else throw new Ys("You must provide either an email or phone number and a password");const{data:r,error:o}=n;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Qs}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,o,a,u,h,d,p,_,g,v,P;let T,C;if("message"in e)T=e.message,C=e.signature;else{const{chain:I,wallet:S,statement:y,options:k}=e;let O;if(Et())if(typeof S=="object")O=S;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))O=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=S}const z=new URL((n=k==null?void 0:k.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in O&&O.signIn){const M=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),y?{statement:y}:null));let B;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")B=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)B=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in B&&"signature"in B&&(typeof B.signedMessage=="string"||B.signedMessage instanceof Uint8Array)&&B.signature instanceof Uint8Array)T=typeof B.signedMessage=="string"?B.signedMessage:new TextDecoder().decode(B.signedMessage),C=B.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${z.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(o=(r=k==null?void 0:k.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=k==null?void 0:k.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((h=k==null?void 0:k.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((d=k==null?void 0:k.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((p=k==null?void 0:k.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((g=(_=k==null?void 0:k.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||g===void 0)&&g.length?["Resources",...k.signInWithSolana.resources.map(B=>`- ${B}`)]:[]].join(`
`);const M=await O.signMessage(new TextEncoder().encode(T),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");C=M}}try{const{data:I,error:S}=await X(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:Jw(C)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(P=e.options)===null||P===void 0?void 0:P.captchaToken}}:null),xform:Gt});if(S)throw S;return!I||!I.session||!I.user?{data:{user:null,session:null},error:new Qs}:(I.session&&(await this._saveSession(I.session),await this._notifyAllSubscribers("SIGNED_IN",I.session)),{data:Object.assign({},I),error:S})}catch(I){if(G(I))return{data:{user:null,session:null},error:I};throw I}}async _exchangeCodeForSession(e){const n=await Zn(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(n??"").split("/");try{const{data:a,error:u}=await X(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Gt});if(await fn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Qs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(G(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:o,access_token:a,nonce:u}=e,h=await X(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Gt}),{data:d,error:p}=h;return p?{data:{user:null,session:null},error:p}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Qs}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:p})}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,o,a,u;try{if("email"in e){const{email:h,options:d}=e;let p=null,_=null;this.flowType==="pkce"&&([p,_]=await vi(this.storage,this.storageKey));const{error:g}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(r=d==null?void 0:d.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:_},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:h,options:d}=e,{data:p,error:_}=await X(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=d==null?void 0:d.data)!==null&&o!==void 0?o:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(u=d==null?void 0:d.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:_}}throw new Ys("You must provide either an email or phone number.")}catch(h){if(G(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,r;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:h}=await X(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Gt});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const d=u.session,p=u.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(o){if(G(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,r,o;try{let a=null,u=null;return this.flowType==="pkce"&&([a,u]=await vi(this.storage,this.storageKey)),await X(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:_x})}catch(a){if(G(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new pn;const{error:o}=await X(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(G(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:a}=e,{error:u}=await X(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:r,type:o,options:a}=e,{data:u,error:h}=await X(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Ys("You must provide either an email or phone number and a type")}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Zn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<vl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=await Zn(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=xl()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,p,_)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,p,_))})}return{data:{session:e},error:null}}const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yn}):await this._useSession(async n=>{var r,o,a;const{data:u,error:h}=n;if(h)throw h;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pn}:await X(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:yn})})}catch(n){if(G(n))return Fw(n)&&(await this._removeSession(),await fn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:o,error:a}=r;if(a)throw a;if(!o.session)throw new pn;const u=o.session;let h=null,d=null;this.flowType==="pkce"&&e.email!=null&&([h,d]=await vi(this.storage,this.storageKey));const{data:p,error:_}=await X(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:d}),jwt:u.access_token,xform:yn});if(_)throw _;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new pn;const n=Date.now()/1e3;let r=n,o=!0,a=null;const{payload:u}=wl(e.access_token);if(u.exp&&(r=u.exp,o=r<=n),o){const{session:h,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(G(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:u,error:h}=n;if(h)throw h;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new pn;const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Et())throw new Xs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Xs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new of("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Xs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new of("No code detected.");const{data:y,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:h,expires_at:d,token_type:p}=e;if(!a||!h||!u||!p)throw new Xs("No session defined in URL");const _=Math.round(Date.now()/1e3),g=parseInt(h);let v=_+g;d&&(v=parseInt(d));const P=v-_;P*1e3<=ki&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${P}s, should have been closer to ${g}s`);const T=v-g;_-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,v,_):_-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,v,_);const{data:C,error:I}=await this._getUser(a);if(I)throw I;const S={provider_token:r,provider_refresh_token:o,access_token:a,expires_in:g,expires_at:v,refresh_token:u,token_type:p,user:C.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(r){if(G(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Zn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{error:a};const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(Uw(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await fn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Yw(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,o;try{const{data:{session:a},error:u}=n;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await vi(this.storage,this.storageKey,!0));try{return await X(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(G(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:o}=await this._useSession(async a=>{var u,h,d,p,_;const{data:g,error:v}=a;if(v)throw v;const P=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await X(this.fetch,"GET",P,{headers:this.headers,jwt:(_=(p=g.session)===null||p===void 0?void 0:p.access_token)!==null&&_!==void 0?_:void 0})});if(o)throw o;return Et()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(G(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)throw u;return await X(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await nx(async o=>(o>0&&await tx(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await X(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Gt})),(o,a)=>{const u=200*Math.pow(2,o);return a&&yl(a)&&Date.now()+u-r<ki})}catch(r){if(this._debug(n,"error",r),G(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Et()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await Zn(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Zn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Si(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:xl()}else if(o&&!o.user&&!o.user){const u=await Zn(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await fn(this.storage,this.storageKey+"-user"),await Si(this.storage,this.storageKey,o)):o.user=xl()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<vl;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${vl}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),yl(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new sa;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new pn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(o,"error",a),G(a)){const u={session:null,error:a};return yl(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(d){a.push(d)}});if(await Promise.all(u),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Si(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=hf(o);await Si(this.storage,this.storageKey,a)}else{const o=hf(n);await Si(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await fn(this.storage,this.storageKey),await fn(this.storage,this.storageKey+"-code-verifier"),await fn(this.storage,this.storageKey+"-user"),this.userStorage&&await fn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Et()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ki);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/ki);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ki}ms, refresh threshold is ${Su} ticks`),o<=Su&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof i_)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Et()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const o=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,u]=await vi(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);o.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await X(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,o;const{data:a,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:p}=await X(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((o=d==null?void 0:d.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;if(a)return{data:null,error:a};const{data:u,error:h}=await X(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(n){if(G(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:o,error:a}=n;return a?{data:null,error:a}:await X(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(G(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],o=r.filter(u=>u.factor_type==="totp"&&u.status==="verified"),a=r.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:r,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:o},error:a}=e;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=wl(o.access_token);let h=null;u.aal&&(h=u.aal);let d=h;((r=(n=o.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(d="aal2");const _=u.amr||[];return{data:{currentLevel:h,nextLevel:d,currentAuthenticationMethods:_},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(h=>h.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(h=>h.kid===e),r&&this.jwks_cached_at+Dw>o)return r;const{data:a,error:u}=await X(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,r=a.keys.find(h=>h.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:P,error:T}=await this.getSession();if(T||!P.session)return{data:null,error:T};r=P.session.access_token}const{header:o,payload:a,signature:u,raw:{header:h,payload:d}}=wl(r);n!=null&&n.allowExpired||ux(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:P}=await this.getUser(r);if(P)throw P;return{data:{claims:a,header:o,signature:u},error:null}}const _=cx(o.alg),g=await crypto.subtle.importKey("jwk",p,_,!0,["verify"]);if(!await crypto.subtle.verify(_,g,u,Gw(`${h}.${d}`)))throw new Eu("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}}rs.nextInstanceID=0;const Ex=rs;class Lx extends Ex{constructor(e){super(e)}}var Cx=function(t,e,n,r){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(_){try{p(r.next(_))}catch(g){u(g)}}function d(_){try{p(r.throw(_))}catch(g){u(g)}}function p(_){_.done?a(_.value):o(_.value).then(h,d)}p((r=r.apply(t,e||[])).next())})};class bx{constructor(e,n,r){var o,a,u;this.supabaseUrl=e,this.supabaseKey=n;const h=Iw(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const d=`sb-${h.hostname.split(".")[0]}-auth-token`,p={db:Pw,realtime:Ew,auth:Object.assign(Object.assign({},Tw),{storageKey:d}),global:Sw},_=Aw(r??{},p);this.storageKey=(o=_.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=_.global.headers)!==null&&a!==void 0?a:{},_.accessToken?(this.accessToken=_.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=_.auth)!==null&&u!==void 0?u:{},this.headers,_.global.fetch),this.fetch=Ow(n,this._getAccessToken.bind(this),_.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},_.realtime)),this.rest=new W0(new URL("rest/v1",h).href,{headers:this.headers,schema:_.db.schema,fetch:this.fetch}),this.storage=new ww(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),_.accessToken||this._listenForAuthEvents()}get functions(){return new k0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Cx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:a,storageKey:u,flowType:h,lock:d,debug:p},_,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lx({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),_),storageKey:u,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:o,userStorage:a,flowType:h,lock:d,debug:p,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(P=>P.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new aw(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Ox=(t,e,n)=>new bx(t,e,n);function jx(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}jx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Nx="https://wicptuoulsuoberykfxy.supabase.co",Ax="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndpY3B0dW91bHN1b2JlcnlrZnh5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk3MDA2NzEsImV4cCI6MjA4NTI3NjY3MX0.RFhjK1FWgGspxcK6YPKZA_XUyWlKm5cIywTe4Hmk6Nk",vt=Ox(Nx,Ax);function r_(t,e){const n=U.useRef(e);U.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}function Ix(t,e,n){e.center!==n.center&&t.setLatLng(e.center),e.radius!=null&&e.radius!==n.radius&&t.setRadius(e.radius)}const Mx=1;function Rx(t){return Object.freeze({__version:Mx,map:t})}function s_(t,e){return Object.freeze({...t,...e})}const o_=U.createContext(null),a_=o_.Provider;function bc(){const t=U.useContext(o_);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function zx(t){function e(n,r){const{instance:o,context:a}=t(n).current;return U.useImperativeHandle(r,()=>o),n.children==null?null:Sl.createElement(a_,{value:a},n.children)}return U.forwardRef(e)}function Bx(t){function e(n,r){const[o,a]=U.useState(!1),{instance:u}=t(n,a).current;U.useImperativeHandle(r,()=>u),U.useEffect(function(){o&&u.update()},[u,o,n.children]);const h=u._contentNode;return h?Om.createPortal(n.children,h):null}return U.forwardRef(e)}function Dx(t){function e(n,r){const{instance:o}=t(n).current;return U.useImperativeHandle(r,()=>o),null}return U.forwardRef(e)}function Oc(t,e){const n=U.useRef();U.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function oa(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function $x(t,e){return function(r,o){const a=bc(),u=t(oa(r,a),a);return r_(a.map,r.attribution),Oc(u.current,r.eventHandlers),e(u.current,a,r,o),u}}var Lu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,r){r(e)})(at,function(n){var r="1.9.4";function o(i){var s,l,c,f;for(l=1,c=arguments.length;l<c;l++){f=arguments[l];for(s in f)i[s]=f[s]}return i}var a=Object.create||function(){function i(){}return function(s){return i.prototype=s,new i}}();function u(i,s){var l=Array.prototype.slice;if(i.bind)return i.bind.apply(i,l.call(arguments,1));var c=l.call(arguments,2);return function(){return i.apply(s,c.length?c.concat(l.call(arguments)):arguments)}}var h=0;function d(i){return"_leaflet_id"in i||(i._leaflet_id=++h),i._leaflet_id}function p(i,s,l){var c,f,m,w;return w=function(){c=!1,f&&(m.apply(l,f),f=!1)},m=function(){c?f=arguments:(i.apply(l,arguments),setTimeout(w,s),c=!0)},m}function _(i,s,l){var c=s[1],f=s[0],m=c-f;return i===c&&l?i:((i-f)%m+m)%m+f}function g(){return!1}function v(i,s){if(s===!1)return i;var l=Math.pow(10,s===void 0?6:s);return Math.round(i*l)/l}function P(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function T(i){return P(i).split(/\s+/)}function C(i,s){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?a(i.options):{});for(var l in s)i.options[l]=s[l];return i.options}function I(i,s,l){var c=[];for(var f in i)c.push(encodeURIComponent(l?f.toUpperCase():f)+"="+encodeURIComponent(i[f]));return(!s||s.indexOf("?")===-1?"?":"&")+c.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function y(i,s){return i.replace(S,function(l,c){var f=s[c];if(f===void 0)throw new Error("No value provided for variable "+l);return typeof f=="function"&&(f=f(s)),f})}var k=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function O(i,s){for(var l=0;l<i.length;l++)if(i[l]===s)return l;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function M(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var B=0;function F(i){var s=+new Date,l=Math.max(0,16-(s-B));return B=s+l,window.setTimeout(i,l)}var de=window.requestAnimationFrame||M("RequestAnimationFrame")||F,Q=window.cancelAnimationFrame||M("CancelAnimationFrame")||M("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function le(i,s,l){if(l&&de===F)i.call(s);else return de.call(window,u(i,s))}function je(i){i&&Q.call(window,i)}var Rn={__proto__:null,extend:o,create:a,bind:u,get lastId(){return h},stamp:d,throttle:p,wrapNum:_,falseFn:g,formatNum:v,trim:P,splitWords:T,setOptions:C,getParamString:I,template:y,isArray:k,indexOf:O,emptyImageUrl:z,requestFn:de,cancelFn:Q,requestAnimFrame:le,cancelAnimFrame:je};function ht(){}ht.extend=function(i){var s=function(){C(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=s.__super__=this.prototype,c=a(l);c.constructor=s,s.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(s[f]=this[f]);return i.statics&&o(s,i.statics),i.includes&&(la(i.includes),o.apply(null,[c].concat(i.includes))),o(c,i),delete c.statics,delete c.includes,c.options&&(c.options=l.options?a(l.options):{},o(c.options,i.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,w=c._initHooks.length;m<w;m++)c._initHooks[m].call(this)}},s},ht.include=function(i){var s=this.prototype.options;return o(this.prototype,i),i.options&&(this.prototype.options=s,this.mergeOptions(i.options)),this},ht.mergeOptions=function(i){return o(this.prototype.options,i),this},ht.addInitHook=function(i){var s=Array.prototype.slice.call(arguments,1),l=typeof i=="function"?i:function(){this[i].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function la(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=k(i)?i:[i];for(var s=0;s<i.length;s++)i[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Me={on:function(i,s,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],s);else{i=T(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],s,l)}return this},off:function(i,s,l){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var c in i)this._off(c,i[c],s);else{i=T(i);for(var f=arguments.length===1,m=0,w=i.length;m<w;m++)f?this._off(i[m]):this._off(i[m],s,l)}return this},_on:function(i,s,l,c){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(i,s,l)===!1){l===this&&(l=void 0);var f={fn:s,ctx:l};c&&(f.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(f)}},_off:function(i,s,l){var c,f,m;if(this._events&&(c=this._events[i],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,m=c.length;f<m;f++)c[f].fn=g;delete this._events[i];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var w=this._listens(i,s,l);if(w!==!1){var E=c[w];this._firingCount&&(E.fn=g,this._events[i]=c=c.slice()),c.splice(w,1)}}},fire:function(i,s,l){if(!this.listens(i,l))return this;var c=o({},s,{type:i,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var f=this._events[i];if(f){this._firingCount=this._firingCount+1||1;for(var m=0,w=f.length;m<w;m++){var E=f[m],b=E.fn;E.once&&this.off(i,b,E.ctx),b.call(E.ctx||this,c)}this._firingCount--}}return l&&this._propagateEvent(c),this},listens:function(i,s,l,c){typeof i!="string"&&console.warn('"string" type argument expected');var f=s;typeof s!="function"&&(c=!!s,f=void 0,l=void 0);var m=this._events&&this._events[i];if(m&&m.length&&this._listens(i,f,l)!==!1)return!0;if(c){for(var w in this._eventParents)if(this._eventParents[w].listens(i,s,l,c))return!0}return!1},_listens:function(i,s,l){if(!this._events)return!1;var c=this._events[i]||[];if(!s)return!!c.length;l===this&&(l=void 0);for(var f=0,m=c.length;f<m;f++)if(c[f].fn===s&&c[f].ctx===l)return f;return!1},once:function(i,s,l){if(typeof i=="object")for(var c in i)this._on(c,i[c],s,!0);else{i=T(i);for(var f=0,m=i.length;f<m;f++)this._on(i[f],s,l,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[d(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[d(i)],this},_propagateEvent:function(i){for(var s in this._eventParents)this._eventParents[s].fire(i.type,o({layer:i.target,propagatedFrom:i.target},i),!0)}};Me.addEventListener=Me.on,Me.removeEventListener=Me.clearAllEventListeners=Me.off,Me.addOneTimeEventListener=Me.once,Me.fireEvent=Me.fire,Me.hasEventListeners=Me.listens;var Wt=ht.extend(Me);function j(i,s,l){this.x=l?Math.round(i):i,this.y=l?Math.round(s):s}var V=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};j.prototype={clone:function(){return new j(this.x,this.y)},add:function(i){return this.clone()._add(R(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(R(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new j(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new j(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=V(this.x),this.y=V(this.y),this},distanceTo:function(i){i=R(i);var s=i.x-this.x,l=i.y-this.y;return Math.sqrt(s*s+l*l)},equals:function(i){return i=R(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=R(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function R(i,s,l){return i instanceof j?i:k(i)?new j(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new j(i.x,i.y):new j(i,s,l)}function H(i,s){if(i)for(var l=s?[i,s]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}H.prototype={extend:function(i){var s,l;if(!i)return this;if(i instanceof j||typeof i[0]=="number"||"x"in i)s=l=R(i);else if(i=ne(i),s=i.min,l=i.max,!s||!l)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=l.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(i){return R((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return R(this.min.x,this.max.y)},getTopRight:function(){return R(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var s,l;return typeof i[0]=="number"||i instanceof j?i=R(i):i=ne(i),i instanceof H?(s=i.min,l=i.max):s=l=i,s.x>=this.min.x&&l.x<=this.max.x&&s.y>=this.min.y&&l.y<=this.max.y},intersects:function(i){i=ne(i);var s=this.min,l=this.max,c=i.min,f=i.max,m=f.x>=s.x&&c.x<=l.x,w=f.y>=s.y&&c.y<=l.y;return m&&w},overlaps:function(i){i=ne(i);var s=this.min,l=this.max,c=i.min,f=i.max,m=f.x>s.x&&c.x<l.x,w=f.y>s.y&&c.y<l.y;return m&&w},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var s=this.min,l=this.max,c=Math.abs(s.x-l.x)*i,f=Math.abs(s.y-l.y)*i;return ne(R(s.x-c,s.y-f),R(l.x+c,l.y+f))},equals:function(i){return i?(i=ne(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function ne(i,s){return!i||i instanceof H?i:new H(i,s)}function Ee(i,s){if(i)for(var l=s?[i,s]:i,c=0,f=l.length;c<f;c++)this.extend(l[c])}Ee.prototype={extend:function(i){var s=this._southWest,l=this._northEast,c,f;if(i instanceof re)c=i,f=i;else if(i instanceof Ee){if(c=i._southWest,f=i._northEast,!c||!f)return this}else return i?this.extend(q(i)||ae(i)):this;return!s&&!l?(this._southWest=new re(c.lat,c.lng),this._northEast=new re(f.lat,f.lng)):(s.lat=Math.min(c.lat,s.lat),s.lng=Math.min(c.lng,s.lng),l.lat=Math.max(f.lat,l.lat),l.lng=Math.max(f.lng,l.lng)),this},pad:function(i){var s=this._southWest,l=this._northEast,c=Math.abs(s.lat-l.lat)*i,f=Math.abs(s.lng-l.lng)*i;return new Ee(new re(s.lat-c,s.lng-f),new re(l.lat+c,l.lng+f))},getCenter:function(){return new re((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new re(this.getNorth(),this.getWest())},getSouthEast:function(){return new re(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof re||"lat"in i?i=q(i):i=ae(i);var s=this._southWest,l=this._northEast,c,f;return i instanceof Ee?(c=i.getSouthWest(),f=i.getNorthEast()):c=f=i,c.lat>=s.lat&&f.lat<=l.lat&&c.lng>=s.lng&&f.lng<=l.lng},intersects:function(i){i=ae(i);var s=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>=s.lat&&c.lat<=l.lat,w=f.lng>=s.lng&&c.lng<=l.lng;return m&&w},overlaps:function(i){i=ae(i);var s=this._southWest,l=this._northEast,c=i.getSouthWest(),f=i.getNorthEast(),m=f.lat>s.lat&&c.lat<l.lat,w=f.lng>s.lng&&c.lng<l.lng;return m&&w},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,s){return i?(i=ae(i),this._southWest.equals(i.getSouthWest(),s)&&this._northEast.equals(i.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ae(i,s){return i instanceof Ee?i:new Ee(i,s)}function re(i,s,l){if(isNaN(i)||isNaN(s))throw new Error("Invalid LatLng object: ("+i+", "+s+")");this.lat=+i,this.lng=+s,l!==void 0&&(this.alt=+l)}re.prototype={equals:function(i,s){if(!i)return!1;i=q(i);var l=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return l<=(s===void 0?1e-9:s)},toString:function(i){return"LatLng("+v(this.lat,i)+", "+v(this.lng,i)+")"},distanceTo:function(i){return un.distance(this,q(i))},wrap:function(){return un.wrapLatLng(this)},toBounds:function(i){var s=180*i/40075017,l=s/Math.cos(Math.PI/180*this.lat);return ae([this.lat-s,this.lng-l],[this.lat+s,this.lng+l])},clone:function(){return new re(this.lat,this.lng,this.alt)}};function q(i,s,l){return i instanceof re?i:k(i)&&typeof i[0]!="object"?i.length===3?new re(i[0],i[1],i[2]):i.length===2?new re(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new re(i.lat,"lng"in i?i.lng:i.lon,i.alt):s===void 0?null:new re(i,s,l)}var Je={latLngToPoint:function(i,s){var l=this.projection.project(i),c=this.scale(s);return this.transformation._transform(l,c)},pointToLatLng:function(i,s){var l=this.scale(s),c=this.transformation.untransform(i,l);return this.projection.unproject(c)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var s=this.projection.bounds,l=this.scale(i),c=this.transformation.transform(s.min,l),f=this.transformation.transform(s.max,l);return new H(c,f)},infinite:!1,wrapLatLng:function(i){var s=this.wrapLng?_(i.lng,this.wrapLng,!0):i.lng,l=this.wrapLat?_(i.lat,this.wrapLat,!0):i.lat,c=i.alt;return new re(l,s,c)},wrapLatLngBounds:function(i){var s=i.getCenter(),l=this.wrapLatLng(s),c=s.lat-l.lat,f=s.lng-l.lng;if(c===0&&f===0)return i;var m=i.getSouthWest(),w=i.getNorthEast(),E=new re(m.lat-c,m.lng-f),b=new re(w.lat-c,w.lng-f);return new Ee(E,b)}},un=o({},Je,{wrapLng:[-180,180],R:6371e3,distance:function(i,s){var l=Math.PI/180,c=i.lat*l,f=s.lat*l,m=Math.sin((s.lat-i.lat)*l/2),w=Math.sin((s.lng-i.lng)*l/2),E=m*m+Math.cos(c)*Math.cos(f)*w*w,b=2*Math.atan2(Math.sqrt(E),Math.sqrt(1-E));return this.R*b}}),Ac=6378137,ua={R:Ac,MAX_LATITUDE:85.0511287798,project:function(i){var s=Math.PI/180,l=this.MAX_LATITUDE,c=Math.max(Math.min(l,i.lat),-l),f=Math.sin(c*s);return new j(this.R*i.lng*s,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(i){var s=180/Math.PI;return new re((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*s,i.x*s/this.R)},bounds:function(){var i=Ac*Math.PI;return new H([-i,-i],[i,i])}()};function ca(i,s,l,c){if(k(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=s,this._c=l,this._d=c}ca.prototype={transform:function(i,s){return this._transform(i.clone(),s)},_transform:function(i,s){return s=s||1,i.x=s*(this._a*i.x+this._b),i.y=s*(this._c*i.y+this._d),i},untransform:function(i,s){return s=s||1,new j((i.x/s-this._b)/this._a,(i.y/s-this._d)/this._c)}};function tr(i,s,l,c){return new ca(i,s,l,c)}var ha=o({},un,{code:"EPSG:3857",projection:ua,transformation:function(){var i=.5/(Math.PI*ua.R);return tr(i,.5,-i,.5)}()}),c_=o({},ha,{code:"EPSG:900913"});function Ic(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function Mc(i,s){var l="",c,f,m,w,E,b;for(c=0,m=i.length;c<m;c++){for(E=i[c],f=0,w=E.length;f<w;f++)b=E[f],l+=(f?"L":"M")+b.x+" "+b.y;l+=s?Z.svg?"z":"x":""}return l||"M0 0"}var da=document.documentElement.style,ps="ActiveXObject"in window,h_=ps&&!document.addEventListener,Rc="msLaunchUri"in navigator&&!("documentMode"in document),fa=It("webkit"),zc=It("android"),Bc=It("android 2")||It("android 3"),d_=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),f_=zc&&It("Google")&&d_<537&&!("AudioNode"in window),pa=!!window.opera,Dc=!Rc&&It("chrome"),$c=It("gecko")&&!fa&&!pa&&!ps,p_=!Dc&&It("safari"),Uc=It("phantom"),Fc="OTransition"in da,m_=navigator.platform.indexOf("Win")===0,Zc=ps&&"transition"in da,ma="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Bc,Wc="MozPerspective"in da,__=!window.L_DISABLE_3D&&(Zc||ma||Wc)&&!Fc&&!Uc,nr=typeof orientation<"u"||It("mobile"),g_=nr&&fa,v_=nr&&ma,Hc=!window.PointerEvent&&window.MSPointerEvent,Vc=!!(window.PointerEvent||Hc),qc="ontouchstart"in window||!!window.TouchEvent,y_=!window.L_NO_TOUCH&&(qc||Vc),w_=nr&&pa,x_=nr&&$c,k_=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,S_=function(){var i=!1;try{var s=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",g,s),window.removeEventListener("testPassiveEventSupport",g,s)}catch{}return i}(),P_=function(){return!!document.createElement("canvas").getContext}(),_a=!!(document.createElementNS&&Ic("svg").createSVGRect),T_=!!_a&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),E_=!_a&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var s=i.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),L_=navigator.platform.indexOf("Mac")===0,C_=navigator.platform.indexOf("Linux")===0;function It(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Z={ie:ps,ielt9:h_,edge:Rc,webkit:fa,android:zc,android23:Bc,androidStock:f_,opera:pa,chrome:Dc,gecko:$c,safari:p_,phantom:Uc,opera12:Fc,win:m_,ie3d:Zc,webkit3d:ma,gecko3d:Wc,any3d:__,mobile:nr,mobileWebkit:g_,mobileWebkit3d:v_,msPointer:Hc,pointer:Vc,touch:y_,touchNative:qc,mobileOpera:w_,mobileGecko:x_,retina:k_,passiveEvents:S_,canvas:P_,svg:_a,vml:E_,inlineSvg:T_,mac:L_,linux:C_},Kc=Z.msPointer?"MSPointerDown":"pointerdown",Gc=Z.msPointer?"MSPointerMove":"pointermove",Jc=Z.msPointer?"MSPointerUp":"pointerup",Qc=Z.msPointer?"MSPointerCancel":"pointercancel",ga={touchstart:Kc,touchmove:Gc,touchend:Jc,touchcancel:Qc},Yc={touchstart:I_,touchmove:ms,touchend:ms,touchcancel:ms},ai={},Xc=!1;function b_(i,s,l){return s==="touchstart"&&A_(),Yc[s]?(l=Yc[s].bind(this,l),i.addEventListener(ga[s],l,!1),l):(console.warn("wrong event specified:",s),g)}function O_(i,s,l){if(!ga[s]){console.warn("wrong event specified:",s);return}i.removeEventListener(ga[s],l,!1)}function j_(i){ai[i.pointerId]=i}function N_(i){ai[i.pointerId]&&(ai[i.pointerId]=i)}function eh(i){delete ai[i.pointerId]}function A_(){Xc||(document.addEventListener(Kc,j_,!0),document.addEventListener(Gc,N_,!0),document.addEventListener(Jc,eh,!0),document.addEventListener(Qc,eh,!0),Xc=!0)}function ms(i,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var l in ai)s.touches.push(ai[l]);s.changedTouches=[s],i(s)}}function I_(i,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&Re(s),ms(i,s)}function M_(i){var s={},l,c;for(c in i)l=i[c],s[c]=l&&l.bind?l.bind(i):l;return i=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var R_=200;function z_(i,s){i.addEventListener("dblclick",s);var l=0,c;function f(m){if(m.detail!==1){c=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var w=sh(m);if(!(w.some(function(b){return b instanceof HTMLLabelElement&&b.attributes.for})&&!w.some(function(b){return b instanceof HTMLInputElement||b instanceof HTMLSelectElement}))){var E=Date.now();E-l<=R_?(c++,c===2&&s(M_(m))):c=1,l=E}}}return i.addEventListener("click",f),{dblclick:s,simDblclick:f}}function B_(i,s){i.removeEventListener("dblclick",s.dblclick),i.removeEventListener("click",s.simDblclick)}var va=vs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ir=vs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),th=ir==="webkitTransition"||ir==="OTransition"?ir+"End":"transitionend";function nh(i){return typeof i=="string"?document.getElementById(i):i}function rr(i,s){var l=i.style[s]||i.currentStyle&&i.currentStyle[s];if((!l||l==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(i,null);l=c?c[s]:null}return l==="auto"?null:l}function se(i,s,l){var c=document.createElement(i);return c.className=s||"",l&&l.appendChild(c),c}function _e(i){var s=i.parentNode;s&&s.removeChild(i)}function _s(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function li(i){var s=i.parentNode;s&&s.lastChild!==i&&s.appendChild(i)}function ui(i){var s=i.parentNode;s&&s.firstChild!==i&&s.insertBefore(i,s.firstChild)}function ya(i,s){if(i.classList!==void 0)return i.classList.contains(s);var l=gs(i);return l.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(l)}function J(i,s){if(i.classList!==void 0)for(var l=T(s),c=0,f=l.length;c<f;c++)i.classList.add(l[c]);else if(!ya(i,s)){var m=gs(i);wa(i,(m?m+" ":"")+s)}}function xe(i,s){i.classList!==void 0?i.classList.remove(s):wa(i,P((" "+gs(i)+" ").replace(" "+s+" "," ")))}function wa(i,s){i.className.baseVal===void 0?i.className=s:i.className.baseVal=s}function gs(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function dt(i,s){"opacity"in i.style?i.style.opacity=s:"filter"in i.style&&D_(i,s)}function D_(i,s){var l=!1,c="DXImageTransform.Microsoft.Alpha";try{l=i.filters.item(c)}catch{if(s===1)return}s=Math.round(s*100),l?(l.Enabled=s!==100,l.Opacity=s):i.style.filter+=" progid:"+c+"(opacity="+s+")"}function vs(i){for(var s=document.documentElement.style,l=0;l<i.length;l++)if(i[l]in s)return i[l];return!1}function zn(i,s,l){var c=s||new j(0,0);i.style[va]=(Z.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(l?" scale("+l+")":"")}function Se(i,s){i._leaflet_pos=s,Z.any3d?zn(i,s):(i.style.left=s.x+"px",i.style.top=s.y+"px")}function Bn(i){return i._leaflet_pos||new j(0,0)}var sr,or,xa;if("onselectstart"in document)sr=function(){K(window,"selectstart",Re)},or=function(){ue(window,"selectstart",Re)};else{var ar=vs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);sr=function(){if(ar){var i=document.documentElement.style;xa=i[ar],i[ar]="none"}},or=function(){ar&&(document.documentElement.style[ar]=xa,xa=void 0)}}function ka(){K(window,"dragstart",Re)}function Sa(){ue(window,"dragstart",Re)}var ys,Pa;function Ta(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(ws(),ys=i,Pa=i.style.outlineStyle,i.style.outlineStyle="none",K(window,"keydown",ws))}function ws(){ys&&(ys.style.outlineStyle=Pa,ys=void 0,Pa=void 0,ue(window,"keydown",ws))}function ih(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Ea(i){var s=i.getBoundingClientRect();return{x:s.width/i.offsetWidth||1,y:s.height/i.offsetHeight||1,boundingClientRect:s}}var $_={__proto__:null,TRANSFORM:va,TRANSITION:ir,TRANSITION_END:th,get:nh,getStyle:rr,create:se,remove:_e,empty:_s,toFront:li,toBack:ui,hasClass:ya,addClass:J,removeClass:xe,setClass:wa,getClass:gs,setOpacity:dt,testProp:vs,setTransform:zn,setPosition:Se,getPosition:Bn,get disableTextSelection(){return sr},get enableTextSelection(){return or},disableImageDrag:ka,enableImageDrag:Sa,preventOutline:Ta,restoreOutline:ws,getSizedParentNode:ih,getScale:Ea};function K(i,s,l,c){if(s&&typeof s=="object")for(var f in s)Ca(i,f,s[f],l);else{s=T(s);for(var m=0,w=s.length;m<w;m++)Ca(i,s[m],l,c)}return this}var Mt="_leaflet_events";function ue(i,s,l,c){if(arguments.length===1)rh(i),delete i[Mt];else if(s&&typeof s=="object")for(var f in s)ba(i,f,s[f],l);else if(s=T(s),arguments.length===2)rh(i,function(E){return O(s,E)!==-1});else for(var m=0,w=s.length;m<w;m++)ba(i,s[m],l,c);return this}function rh(i,s){for(var l in i[Mt]){var c=l.split(/\d/)[0];(!s||s(c))&&ba(i,c,null,null,l)}}var La={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ca(i,s,l,c){var f=s+d(l)+(c?"_"+d(c):"");if(i[Mt]&&i[Mt][f])return this;var m=function(E){return l.call(c||i,E||window.event)},w=m;!Z.touchNative&&Z.pointer&&s.indexOf("touch")===0?m=b_(i,s,m):Z.touch&&s==="dblclick"?m=z_(i,m):"addEventListener"in i?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?i.addEventListener(La[s]||s,m,Z.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(m=function(E){E=E||window.event,ja(i,E)&&w(E)},i.addEventListener(La[s],m,!1)):i.addEventListener(s,w,!1):i.attachEvent("on"+s,m),i[Mt]=i[Mt]||{},i[Mt][f]=m}function ba(i,s,l,c,f){f=f||s+d(l)+(c?"_"+d(c):"");var m=i[Mt]&&i[Mt][f];if(!m)return this;!Z.touchNative&&Z.pointer&&s.indexOf("touch")===0?O_(i,s,m):Z.touch&&s==="dblclick"?B_(i,m):"removeEventListener"in i?i.removeEventListener(La[s]||s,m,!1):i.detachEvent("on"+s,m),i[Mt][f]=null}function Dn(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Oa(i){return Ca(i,"wheel",Dn),this}function lr(i){return K(i,"mousedown touchstart dblclick contextmenu",Dn),i._leaflet_disable_click=!0,this}function Re(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function $n(i){return Re(i),Dn(i),this}function sh(i){if(i.composedPath)return i.composedPath();for(var s=[],l=i.target;l;)s.push(l),l=l.parentNode;return s}function oh(i,s){if(!s)return new j(i.clientX,i.clientY);var l=Ea(s),c=l.boundingClientRect;return new j((i.clientX-c.left)/l.x-s.clientLeft,(i.clientY-c.top)/l.y-s.clientTop)}var U_=Z.linux&&Z.chrome?window.devicePixelRatio:Z.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ah(i){return Z.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/U_:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function ja(i,s){var l=s.relatedTarget;if(!l)return!0;try{for(;l&&l!==i;)l=l.parentNode}catch{return!1}return l!==i}var F_={__proto__:null,on:K,off:ue,stopPropagation:Dn,disableScrollPropagation:Oa,disableClickPropagation:lr,preventDefault:Re,stop:$n,getPropagationPath:sh,getMousePosition:oh,getWheelDelta:ah,isExternalTarget:ja,addListener:K,removeListener:ue},lh=Wt.extend({run:function(i,s,l,c){this.stop(),this._el=i,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Bn(i),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=le(this._animate,this),this._step()},_step:function(i){var s=+new Date-this._startTime,l=this._duration*1e3;s<l?this._runFrame(this._easeOut(s/l),i):(this._runFrame(1),this._complete())},_runFrame:function(i,s){var l=this._startPos.add(this._offset.multiplyBy(i));s&&l._round(),Se(this._el,l),this.fire("step")},_complete:function(){je(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),te=Wt.extend({options:{crs:ha,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,s){s=C(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(q(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ir&&Z.any3d&&!Z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),K(this._proxy,th,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,s,l){if(s=s===void 0?this._zoom:this._limitZoom(s),i=this._limitCenter(q(i),s,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=o({animate:l.animate},l.zoom),l.pan=o({animate:l.animate,duration:l.duration},l.pan));var c=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,s,l.zoom):this._tryAnimatedPan(i,l.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(i,s,l.pan&&l.pan.noMoveStart),this},setZoom:function(i,s){return this._loaded?this.setView(this.getCenter(),i,{zoom:s}):(this._zoom=i,this)},zoomIn:function(i,s){return i=i||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,s)},zoomOut:function(i,s){return i=i||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,s)},setZoomAround:function(i,s,l){var c=this.getZoomScale(s),f=this.getSize().divideBy(2),m=i instanceof j?i:this.latLngToContainerPoint(i),w=m.subtract(f).multiplyBy(1-1/c),E=this.containerPointToLatLng(f.add(w));return this.setView(E,s,{zoom:l})},_getBoundsCenterZoom:function(i,s){s=s||{},i=i.getBounds?i.getBounds():ae(i);var l=R(s.paddingTopLeft||s.padding||[0,0]),c=R(s.paddingBottomRight||s.padding||[0,0]),f=this.getBoundsZoom(i,!1,l.add(c));if(f=typeof s.maxZoom=="number"?Math.min(s.maxZoom,f):f,f===1/0)return{center:i.getCenter(),zoom:f};var m=c.subtract(l).divideBy(2),w=this.project(i.getSouthWest(),f),E=this.project(i.getNorthEast(),f),b=this.unproject(w.add(E).divideBy(2).add(m),f);return{center:b,zoom:f}},fitBounds:function(i,s){if(i=ae(i),!i.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(i,s);return this.setView(l.center,l.zoom,s)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,s){return this.setView(i,this._zoom,{pan:s})},panBy:function(i,s){if(i=R(i).round(),s=s||{},!i.x&&!i.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new lh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){J(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,l,s.duration||.25,s.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,s,l){if(l=l||{},l.animate===!1||!Z.any3d)return this.setView(i,s,l);this._stop();var c=this.project(this.getCenter()),f=this.project(i),m=this.getSize(),w=this._zoom;i=q(i),s=s===void 0?w:s;var E=Math.max(m.x,m.y),b=E*this.getZoomScale(w,s),N=f.distanceTo(c)||1,D=1.42,W=D*D;function Y(Pe){var Ns=Pe?-1:1,Og=Pe?b:E,jg=b*b-E*E+Ns*W*W*N*N,Ng=2*Og*W*N,Fa=jg/Ng,Fh=Math.sqrt(Fa*Fa+1)-Fa,Ag=Fh<1e-9?-18:Math.log(Fh);return Ag}function We(Pe){return(Math.exp(Pe)-Math.exp(-Pe))/2}function Ne(Pe){return(Math.exp(Pe)+Math.exp(-Pe))/2}function pt(Pe){return We(Pe)/Ne(Pe)}var Qe=Y(0);function mi(Pe){return E*(Ne(Qe)/Ne(Qe+D*Pe))}function Eg(Pe){return E*(Ne(Qe)*pt(Qe+D*Pe)-We(Qe))/W}function Lg(Pe){return 1-Math.pow(1-Pe,1.5)}var Cg=Date.now(),$h=(Y(1)-Qe)/D,bg=l.duration?1e3*l.duration:1e3*$h*.8;function Uh(){var Pe=(Date.now()-Cg)/bg,Ns=Lg(Pe)*$h;Pe<=1?(this._flyToFrame=le(Uh,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(Eg(Ns)/N)),w),this.getScaleZoom(E/mi(Ns),w),{flyTo:!0})):this._move(i,s)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),Uh.call(this),this},flyToBounds:function(i,s){var l=this._getBoundsCenterZoom(i,s);return this.flyTo(l.center,l.zoom,s)},setMaxBounds:function(i){return i=ae(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var s=this.options.minZoom;return this.options.minZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var s=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&s!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,s){this._enforcingBounds=!0;var l=this.getCenter(),c=this._limitCenter(l,this._zoom,ae(i));return l.equals(c)||this.panTo(c,s),this._enforcingBounds=!1,this},panInside:function(i,s){s=s||{};var l=R(s.paddingTopLeft||s.padding||[0,0]),c=R(s.paddingBottomRight||s.padding||[0,0]),f=this.project(this.getCenter()),m=this.project(i),w=this.getPixelBounds(),E=ne([w.min.add(l),w.max.subtract(c)]),b=E.getSize();if(!E.contains(m)){this._enforcingBounds=!0;var N=m.subtract(E.getCenter()),D=E.extend(m).getSize().subtract(b);f.x+=N.x<0?-D.x:D.x,f.y+=N.y<0?-D.y:D.y,this.panTo(this.unproject(f),s),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=o({animate:!1,pan:!0},i===!0?{animate:!0}:i);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),c=s.divideBy(2).round(),f=l.divideBy(2).round(),m=c.subtract(f);return!m.x&&!m.y?this:(i.animate&&i.pan?this.panBy(m):(i.pan&&this._rawPanBy(m),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=o({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),l=u(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,l,i):navigator.geolocation.getCurrentPosition(s,l,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var s=i.code,l=i.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var s=i.coords.latitude,l=i.coords.longitude,c=new re(s,l),f=c.toBounds(i.coords.accuracy*2),m=this._locateOptions;if(m.setView){var w=this.getBoundsZoom(f);this.setView(c,m.maxZoom?Math.min(w,m.maxZoom):w)}var E={latlng:c,bounds:f,timestamp:i.timestamp};for(var b in i.coords)typeof i.coords[b]=="number"&&(E[b]=i.coords[b]);this.fire("locationfound",E)}},addHandler:function(i,s){if(!s)return this;var l=this[i]=new s(this);return this._handlers.push(l),this.options[i]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),_e(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(je(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)_e(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,s){var l="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),c=se("div",l,s||this._mapPane);return i&&(this._panes[i]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),s=this.unproject(i.getBottomLeft()),l=this.unproject(i.getTopRight());return new Ee(s,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,s,l){i=ae(i),l=R(l||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),m=this.getMaxZoom(),w=i.getNorthWest(),E=i.getSouthEast(),b=this.getSize().subtract(l),N=ne(this.project(E,c),this.project(w,c)).getSize(),D=Z.any3d?this.options.zoomSnap:1,W=b.x/N.x,Y=b.y/N.y,We=s?Math.max(W,Y):Math.min(W,Y);return c=this.getScaleZoom(We,c),D&&(c=Math.round(c/(D/100))*(D/100),c=s?Math.ceil(c/D)*D:Math.floor(c/D)*D),Math.max(f,Math.min(m,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new j(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,s){var l=this._getTopLeftPoint(i,s);return new H(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,s){var l=this.options.crs;return s=s===void 0?this._zoom:s,l.scale(i)/l.scale(s)},getScaleZoom:function(i,s){var l=this.options.crs;s=s===void 0?this._zoom:s;var c=l.zoom(i*l.scale(s));return isNaN(c)?1/0:c},project:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(q(i),s)},unproject:function(i,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(R(i),s)},layerPointToLatLng:function(i){var s=R(i).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(i){var s=this.project(q(i))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(q(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(ae(i))},distance:function(i,s){return this.options.crs.distance(q(i),q(s))},containerPointToLayerPoint:function(i){return R(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return R(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var s=this.containerPointToLayerPoint(R(i));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(q(i)))},mouseEventToContainerPoint:function(i){return oh(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var s=this._container=nh(i);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");K(s,"scroll",this._onScroll,this),this._containerId=d(s)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Z.any3d,J(i,"leaflet-container"+(Z.touch?" leaflet-touch":"")+(Z.retina?" leaflet-retina":"")+(Z.ielt9?" leaflet-oldie":"")+(Z.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=rr(i,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Se(this._mapPane,new j(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(J(i.markerPane,"leaflet-zoom-hide"),J(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,s,l){Se(this._mapPane,new j(0,0));var c=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var f=this._zoom!==s;this._moveStart(f,l)._move(i,s)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(i,s){return i&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(i,s,l,c){s===void 0&&(s=this._zoom);var f=this._zoom!==s;return this._zoom=s,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),c?l&&l.pinch&&this.fire("zoom",l):((f||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return je(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Se(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[d(this._container)]=this;var s=i?ue:K;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),Z.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){je(this._resizeRequest),this._resizeRequest=le(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,s){for(var l=[],c,f=s==="mouseout"||s==="mouseover",m=i.target||i.srcElement,w=!1;m;){if(c=this._targets[d(m)],c&&(s==="click"||s==="preclick")&&this._draggableMoved(c)){w=!0;break}if(c&&c.listens(s,!0)&&(f&&!ja(m,i)||(l.push(c),f))||m===this._container)break;m=m.parentNode}return!l.length&&!w&&!f&&this.listens(s,!0)&&(l=[this]),l},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var s=i.target||i.srcElement;if(!(!this._loaded||s._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(s))){var l=i.type;l==="mousedown"&&Ta(s),this._fireDOMEvent(i,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,s,l){if(i.type==="click"){var c=o({},i);c.type="preclick",this._fireDOMEvent(c,c.type,l)}var f=this._findEventTargets(i,s);if(l){for(var m=[],w=0;w<l.length;w++)l[w].listens(s,!0)&&m.push(l[w]);f=m.concat(f)}if(f.length){s==="contextmenu"&&Re(i);var E=f[0],b={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var N=E.getLatLng&&(!E._radius||E._radius<=10);b.containerPoint=N?this.latLngToContainerPoint(E.getLatLng()):this.mouseEventToContainerPoint(i),b.layerPoint=this.containerPointToLayerPoint(b.containerPoint),b.latlng=N?E.getLatLng():this.layerPointToLatLng(b.layerPoint)}for(w=0;w<f.length;w++)if(f[w].fire(s,b,!0),b.originalEvent._stopped||f[w].options.bubblingMouseEvents===!1&&O(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,s=this._handlers.length;i<s;i++)this._handlers[i].disable()},whenReady:function(i,s){return this._loaded?i.call(s||this,{target:this}):this.on("load",i,s),this},_getMapPanePos:function(){return Bn(this._mapPane)||new j(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,s){var l=i&&s!==void 0?this._getNewPixelOrigin(i,s):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,s){var l=this.getSize()._divideBy(2);return this.project(i,s)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,s,l){var c=this._getNewPixelOrigin(l,s);return this.project(i,s)._subtract(c)},_latLngBoundsToNewLayerBounds:function(i,s,l){var c=this._getNewPixelOrigin(l,s);return ne([this.project(i.getSouthWest(),s)._subtract(c),this.project(i.getNorthWest(),s)._subtract(c),this.project(i.getSouthEast(),s)._subtract(c),this.project(i.getNorthEast(),s)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,s,l){if(!l)return i;var c=this.project(i,s),f=this.getSize().divideBy(2),m=new H(c.subtract(f),c.add(f)),w=this._getBoundsOffset(m,l,s);return Math.abs(w.x)<=1&&Math.abs(w.y)<=1?i:this.unproject(c.add(w),s)},_limitOffset:function(i,s){if(!s)return i;var l=this.getPixelBounds(),c=new H(l.min.add(i),l.max.add(i));return i.add(this._getBoundsOffset(c,s))},_getBoundsOffset:function(i,s,l){var c=ne(this.project(s.getNorthEast(),l),this.project(s.getSouthWest(),l)),f=c.min.subtract(i.min),m=c.max.subtract(i.max),w=this._rebound(f.x,-m.x),E=this._rebound(f.y,-m.y);return new j(w,E)},_rebound:function(i,s){return i+s>0?Math.round(i-s)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(s))},_limitZoom:function(i){var s=this.getMinZoom(),l=this.getMaxZoom(),c=Z.any3d?this.options.zoomSnap:1;return c&&(i=Math.round(i/c)*c),Math.max(s,Math.min(l,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xe(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,s){var l=this._getCenterOffset(i)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,s),!0)},_createAnimProxy:function(){var i=this._proxy=se("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(s){var l=va,c=this._proxy.style[l];zn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),c===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_e(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),s=this.getZoom();zn(this._proxy,this.project(i,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,s,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(s),f=this._getCenterOffset(i)._divideBy(1-1/c);return l.animate!==!0&&!this.getSize().contains(f)?!1:(le(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(i,s,!0)},this),!0)},_animateZoom:function(i,s,l,c){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=s,J(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:s,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&xe(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Z_(i,s){return new te(i,s)}var St=ht.extend({options:{position:"topright"},initialize:function(i){C(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var s=this._map;return s&&s.removeControl(this),this.options.position=i,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var s=this._container=this.onAdd(i),l=this.getPosition(),c=i._controlCorners[l];return J(s,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(s,c.firstChild):c.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(_e(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),ur=function(i){return new St(i)};te.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},s="leaflet-",l=this._controlContainer=se("div",s+"control-container",this._container);function c(f,m){var w=s+f+" "+s+m;i[f+m]=se("div",w,l)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)_e(this._controlCorners[i]);_e(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var uh=St.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,s,l,c){return l<c?-1:c<l?1:0}},initialize:function(i,s,l){C(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in i)this._addLayer(i[c],c);for(c in s)this._addLayer(s[c],c,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return St.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,s){return this._addLayer(i,s),this._map?this._update():this},addOverlay:function(i,s){return this._addLayer(i,s,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var s=this._getLayer(d(i));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){J(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(J(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):xe(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xe(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",s=this._container=se("div",i),l=this.options.collapsed;s.setAttribute("aria-haspopup",!0),lr(s),Oa(s);var c=this._section=se("section",i+"-list");l&&(this._map.on("click",this.collapse,this),K(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=se("a",i+"-toggle",s);f.href="#",f.title="Layers",f.setAttribute("role","button"),K(f,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){Re(m),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=se("div",i+"-base",c),this._separator=se("div",i+"-separator",c),this._overlaysList=se("div",i+"-overlays",c),s.appendChild(c)},_getLayer:function(i){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&d(this._layers[s].layer)===i)return this._layers[s]},_addLayer:function(i,s,l){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:s,overlay:l}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;_s(this._baseLayersList),_s(this._overlaysList),this._layerControlInputs=[];var i,s,l,c,f=0;for(l=0;l<this._layers.length;l++)c=this._layers[l],this._addItem(c),s=s||c.overlay,i=i||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(i=i&&f>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=s&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var s=this._getLayer(d(i.target)),l=s.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;l&&this._map.fire(l,s)},_createRadioElement:function(i,s){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(s?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=l,c.firstChild},_addItem:function(i){var s=document.createElement("label"),l=this._map.hasLayer(i.layer),c;i.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=l):c=this._createRadioElement("leaflet-base-layers_"+d(this),l),this._layerControlInputs.push(c),c.layerId=d(i.layer),K(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+i.name;var m=document.createElement("span");s.appendChild(m),m.appendChild(c),m.appendChild(f);var w=i.overlay?this._overlaysList:this._baseLayersList;return w.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,s,l,c=[],f=[];this._handlingClick=!0;for(var m=i.length-1;m>=0;m--)s=i[m],l=this._getLayer(s.layerId).layer,s.checked?c.push(l):s.checked||f.push(l);for(m=0;m<f.length;m++)this._map.hasLayer(f[m])&&this._map.removeLayer(f[m]);for(m=0;m<c.length;m++)this._map.hasLayer(c[m])||this._map.addLayer(c[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,s,l,c=this._map.getZoom(),f=i.length-1;f>=0;f--)s=i[f],l=this._getLayer(s.layerId).layer,s.disabled=l.options.minZoom!==void 0&&c<l.options.minZoom||l.options.maxZoom!==void 0&&c>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,K(i,"click",Re),this.expand();var s=this;setTimeout(function(){ue(i,"click",Re),s._preventClick=!1})}}),W_=function(i,s,l){return new uh(i,s,l)},Na=St.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var s="leaflet-control-zoom",l=se("div",s+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,s+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,s+"-out",l,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,s,l,c,f){var m=se("a",l,c);return m.innerHTML=i,m.href="#",m.title=s,m.setAttribute("role","button"),m.setAttribute("aria-label",s),lr(m),K(m,"click",$n),K(m,"click",f,this),K(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var i=this._map,s="leaflet-disabled";xe(this._zoomInButton,s),xe(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(J(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(J(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});te.mergeOptions({zoomControl:!0}),te.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Na,this.addControl(this.zoomControl))});var H_=function(i){return new Na(i)},ch=St.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var s="leaflet-control-scale",l=se("div",s),c=this.options;return this._addScales(c,s+"-line",l),i.on(c.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),l},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,s,l){i.metric&&(this._mScale=se("div",s,l)),i.imperial&&(this._iScale=se("div",s,l))},_update:function(){var i=this._map,s=i.getSize().y/2,l=i.distance(i.containerPointToLatLng([0,s]),i.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(l)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var s=this._getRoundNum(i),l=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,l,s/i)},_updateImperial:function(i){var s=i*3.2808399,l,c,f;s>5280?(l=s/5280,c=this._getRoundNum(l),this._updateScale(this._iScale,c+" mi",c/l)):(f=this._getRoundNum(s),this._updateScale(this._iScale,f+" ft",f/s))},_updateScale:function(i,s,l){i.style.width=Math.round(this.options.maxWidth*l)+"px",i.innerHTML=s},_getRoundNum:function(i){var s=Math.pow(10,(Math.floor(i)+"").length-1),l=i/s;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,s*l}}),V_=function(i){return new ch(i)},q_='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Aa=St.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Z.inlineSvg?q_+" ":"")+"Leaflet</a>"},initialize:function(i){C(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=se("div","leaflet-control-attribution"),lr(this._container);for(var s in i._layers)i._layers[s].getAttribution&&this.addAttribution(i._layers[s].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var s in this._attributions)this._attributions[s]&&i.push(s);var l=[];this.options.prefix&&l.push(this.options.prefix),i.length&&l.push(i.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});te.mergeOptions({attributionControl:!0}),te.addInitHook(function(){this.options.attributionControl&&new Aa().addTo(this)});var K_=function(i){return new Aa(i)};St.Layers=uh,St.Zoom=Na,St.Scale=ch,St.Attribution=Aa,ur.layers=W_,ur.zoom=H_,ur.scale=V_,ur.attribution=K_;var Rt=ht.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Rt.addTo=function(i,s){return i.addHandler(s,this),this};var G_={Events:Me},hh=Z.touch?"touchstart mousedown":"mousedown",cn=Wt.extend({options:{clickTolerance:3},initialize:function(i,s,l,c){C(this,c),this._element=i,this._dragStartTarget=s||i,this._preventOutline=l},enable:function(){this._enabled||(K(this._dragStartTarget,hh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cn._dragging===this&&this.finishDrag(!0),ue(this._dragStartTarget,hh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!ya(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){cn._dragging===this&&this.finishDrag();return}if(!(cn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(cn._dragging=this,this._preventOutline&&Ta(this._element),ka(),sr(),!this._moving)){this.fire("down");var s=i.touches?i.touches[0]:i,l=ih(this._element);this._startPoint=new j(s.clientX,s.clientY),this._startPos=Bn(this._element),this._parentScale=Ea(l);var c=i.type==="mousedown";K(document,c?"mousemove":"touchmove",this._onMove,this),K(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var s=i.touches&&i.touches.length===1?i.touches[0]:i,l=new j(s.clientX,s.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,Re(i),this._moved||(this.fire("dragstart"),this._moved=!0,J(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),J(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Se(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){xe(document.body,"leaflet-dragging"),this._lastTarget&&(xe(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ue(document,"mousemove touchmove",this._onMove,this),ue(document,"mouseup touchend touchcancel",this._onUp,this),Sa(),or();var s=this._moved&&this._moving;this._moving=!1,cn._dragging=!1,s&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function dh(i,s,l){var c,f=[1,4,2,8],m,w,E,b,N,D,W,Y;for(m=0,D=i.length;m<D;m++)i[m]._code=Un(i[m],s);for(E=0;E<4;E++){for(W=f[E],c=[],m=0,D=i.length,w=D-1;m<D;w=m++)b=i[m],N=i[w],b._code&W?N._code&W||(Y=xs(N,b,W,s,l),Y._code=Un(Y,s),c.push(Y)):(N._code&W&&(Y=xs(N,b,W,s,l),Y._code=Un(Y,s),c.push(Y)),c.push(b));i=c}return i}function fh(i,s){var l,c,f,m,w,E,b,N,D;if(!i||i.length===0)throw new Error("latlngs not passed");ft(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var W=q([0,0]),Y=ae(i),We=Y.getNorthWest().distanceTo(Y.getSouthWest())*Y.getNorthEast().distanceTo(Y.getNorthWest());We<1700&&(W=Ia(i));var Ne=i.length,pt=[];for(l=0;l<Ne;l++){var Qe=q(i[l]);pt.push(s.project(q([Qe.lat-W.lat,Qe.lng-W.lng])))}for(E=b=N=0,l=0,c=Ne-1;l<Ne;c=l++)f=pt[l],m=pt[c],w=f.y*m.x-m.y*f.x,b+=(f.x+m.x)*w,N+=(f.y+m.y)*w,E+=w*3;E===0?D=pt[0]:D=[b/E,N/E];var mi=s.unproject(R(D));return q([mi.lat+W.lat,mi.lng+W.lng])}function Ia(i){for(var s=0,l=0,c=0,f=0;f<i.length;f++){var m=q(i[f]);s+=m.lat,l+=m.lng,c++}return q([s/c,l/c])}var J_={__proto__:null,clipPolygon:dh,polygonCenter:fh,centroid:Ia};function ph(i,s){if(!s||!i.length)return i.slice();var l=s*s;return i=X_(i,l),i=Y_(i,l),i}function mh(i,s,l){return Math.sqrt(cr(i,s,l,!0))}function Q_(i,s,l){return cr(i,s,l)}function Y_(i,s){var l=i.length,c=typeof Uint8Array<"u"?Uint8Array:Array,f=new c(l);f[0]=f[l-1]=1,Ma(i,f,s,0,l-1);var m,w=[];for(m=0;m<l;m++)f[m]&&w.push(i[m]);return w}function Ma(i,s,l,c,f){var m=0,w,E,b;for(E=c+1;E<=f-1;E++)b=cr(i[E],i[c],i[f],!0),b>m&&(w=E,m=b);m>l&&(s[w]=1,Ma(i,s,l,c,w),Ma(i,s,l,w,f))}function X_(i,s){for(var l=[i[0]],c=1,f=0,m=i.length;c<m;c++)eg(i[c],i[f])>s&&(l.push(i[c]),f=c);return f<m-1&&l.push(i[m-1]),l}var _h;function gh(i,s,l,c,f){var m=c?_h:Un(i,l),w=Un(s,l),E,b,N;for(_h=w;;){if(!(m|w))return[i,s];if(m&w)return!1;E=m||w,b=xs(i,s,E,l,f),N=Un(b,l),E===m?(i=b,m=N):(s=b,w=N)}}function xs(i,s,l,c,f){var m=s.x-i.x,w=s.y-i.y,E=c.min,b=c.max,N,D;return l&8?(N=i.x+m*(b.y-i.y)/w,D=b.y):l&4?(N=i.x+m*(E.y-i.y)/w,D=E.y):l&2?(N=b.x,D=i.y+w*(b.x-i.x)/m):l&1&&(N=E.x,D=i.y+w*(E.x-i.x)/m),new j(N,D,f)}function Un(i,s){var l=0;return i.x<s.min.x?l|=1:i.x>s.max.x&&(l|=2),i.y<s.min.y?l|=4:i.y>s.max.y&&(l|=8),l}function eg(i,s){var l=s.x-i.x,c=s.y-i.y;return l*l+c*c}function cr(i,s,l,c){var f=s.x,m=s.y,w=l.x-f,E=l.y-m,b=w*w+E*E,N;return b>0&&(N=((i.x-f)*w+(i.y-m)*E)/b,N>1?(f=l.x,m=l.y):N>0&&(f+=w*N,m+=E*N)),w=i.x-f,E=i.y-m,c?w*w+E*E:new j(f,m)}function ft(i){return!k(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function vh(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ft(i)}function yh(i,s){var l,c,f,m,w,E,b,N;if(!i||i.length===0)throw new Error("latlngs not passed");ft(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var D=q([0,0]),W=ae(i),Y=W.getNorthWest().distanceTo(W.getSouthWest())*W.getNorthEast().distanceTo(W.getNorthWest());Y<1700&&(D=Ia(i));var We=i.length,Ne=[];for(l=0;l<We;l++){var pt=q(i[l]);Ne.push(s.project(q([pt.lat-D.lat,pt.lng-D.lng])))}for(l=0,c=0;l<We-1;l++)c+=Ne[l].distanceTo(Ne[l+1])/2;if(c===0)N=Ne[0];else for(l=0,m=0;l<We-1;l++)if(w=Ne[l],E=Ne[l+1],f=w.distanceTo(E),m+=f,m>c){b=(m-c)/f,N=[E.x-b*(E.x-w.x),E.y-b*(E.y-w.y)];break}var Qe=s.unproject(R(N));return q([Qe.lat+D.lat,Qe.lng+D.lng])}var tg={__proto__:null,simplify:ph,pointToSegmentDistance:mh,closestPointOnSegment:Q_,clipSegment:gh,_getEdgeIntersection:xs,_getBitCode:Un,_sqClosestPointOnSegment:cr,isFlat:ft,_flat:vh,polylineCenter:yh},Ra={project:function(i){return new j(i.lng,i.lat)},unproject:function(i){return new re(i.y,i.x)},bounds:new H([-180,-90],[180,90])},za={R:6378137,R_MINOR:6356752314245179e-9,bounds:new H([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var s=Math.PI/180,l=this.R,c=i.lat*s,f=this.R_MINOR/l,m=Math.sqrt(1-f*f),w=m*Math.sin(c),E=Math.tan(Math.PI/4-c/2)/Math.pow((1-w)/(1+w),m/2);return c=-l*Math.log(Math.max(E,1e-10)),new j(i.lng*s*l,c)},unproject:function(i){for(var s=180/Math.PI,l=this.R,c=this.R_MINOR/l,f=Math.sqrt(1-c*c),m=Math.exp(-i.y/l),w=Math.PI/2-2*Math.atan(m),E=0,b=.1,N;E<15&&Math.abs(b)>1e-7;E++)N=f*Math.sin(w),N=Math.pow((1-N)/(1+N),f/2),b=Math.PI/2-2*Math.atan(m*N)-w,w+=b;return new re(w*s,i.x*s/l)}},ng={__proto__:null,LonLat:Ra,Mercator:za,SphericalMercator:ua},ig=o({},un,{code:"EPSG:3395",projection:za,transformation:function(){var i=.5/(Math.PI*za.R);return tr(i,.5,-i,.5)}()}),wh=o({},un,{code:"EPSG:4326",projection:Ra,transformation:tr(1/180,1,-1/180,.5)}),rg=o({},Je,{projection:Ra,transformation:tr(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,s){var l=s.lng-i.lng,c=s.lat-i.lat;return Math.sqrt(l*l+c*c)},infinite:!0});Je.Earth=un,Je.EPSG3395=ig,Je.EPSG3857=ha,Je.EPSG900913=c_,Je.EPSG4326=wh,Je.Simple=rg;var Pt=Wt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[d(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[d(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var s=i.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var l=this.getEvents();s.on(l,this),this.once("remove",function(){s.off(l,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});te.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var s=d(i);return this._layers[s]?this:(this._layers[s]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var s=d(i);return this._layers[s]?(this._loaded&&i.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return d(i)in this._layers},eachLayer:function(i,s){for(var l in this._layers)i.call(s,this._layers[l]);return this},_addLayers:function(i){i=i?k(i)?i:[i]:[];for(var s=0,l=i.length;s<l;s++)this.addLayer(i[s])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[d(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var s=d(i);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,s=-1/0,l=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;i=f.minZoom===void 0?i:Math.min(i,f.minZoom),s=f.maxZoom===void 0?s:Math.max(s,f.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=i===1/0?void 0:i,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ci=Pt.extend({initialize:function(i,s){C(this,s),this._layers={};var l,c;if(i)for(l=0,c=i.length;l<c;l++)this.addLayer(i[l])},addLayer:function(i){var s=this.getLayerId(i);return this._layers[s]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var s=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(i){var s=typeof i=="number"?i:this.getLayerId(i);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var s=Array.prototype.slice.call(arguments,1),l,c;for(l in this._layers)c=this._layers[l],c[i]&&c[i].apply(c,s);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,s){for(var l in this._layers)i.call(s,this._layers[l]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return d(i)}}),sg=function(i,s){return new ci(i,s)},Ht=ci.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),ci.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),ci.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Ee;for(var s in this._layers){var l=this._layers[s];i.extend(l.getBounds?l.getBounds():l.getLatLng())}return i}}),og=function(i,s){return new Ht(i,s)},hi=ht.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){C(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,s){var l=this._getIconUrl(i);if(!l){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(l,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(c,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(i,s){var l=this.options,c=l[s+"Size"];typeof c=="number"&&(c=[c,c]);var f=R(c),m=R(s==="shadow"&&l.shadowAnchor||l.iconAnchor||f&&f.divideBy(2,!0));i.className="leaflet-marker-"+s+" "+(l.className||""),m&&(i.style.marginLeft=-m.x+"px",i.style.marginTop=-m.y+"px"),f&&(i.style.width=f.x+"px",i.style.height=f.y+"px")},_createImg:function(i,s){return s=s||document.createElement("img"),s.src=i,s},_getIconUrl:function(i){return Z.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function ag(i){return new hi(i)}var hr=hi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof hr.imagePath!="string"&&(hr.imagePath=this._detectIconPath()),(this.options.imagePath||hr.imagePath)+hi.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var s=function(l,c,f){var m=c.exec(l);return m&&m[f]};return i=s(i,/^url\((['"])?(.+)\1\)$/,2),i&&s(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=se("div","leaflet-default-icon-path",document.body),s=rr(i,"background-image")||rr(i,"backgroundImage");if(document.body.removeChild(i),s=this._stripUrl(s),s)return s;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),xh=Rt.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new cn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),J(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xe(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var s=this._marker,l=s._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,m=Bn(s._icon),w=l.getPixelBounds(),E=l.getPixelOrigin(),b=ne(w.min._subtract(E).add(f),w.max._subtract(E).subtract(f));if(!b.contains(m)){var N=R((Math.max(b.max.x,m.x)-b.max.x)/(w.max.x-b.max.x)-(Math.min(b.min.x,m.x)-b.min.x)/(w.min.x-b.min.x),(Math.max(b.max.y,m.y)-b.max.y)/(w.max.y-b.max.y)-(Math.min(b.min.y,m.y)-b.min.y)/(w.min.y-b.min.y)).multiplyBy(c);l.panBy(N,{animate:!1}),this._draggable._newPos._add(N),this._draggable._startPos._add(N),Se(s._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=le(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(je(this._panRequest),this._panRequest=le(this._adjustPan.bind(this,i)))},_onDrag:function(i){var s=this._marker,l=s._shadow,c=Bn(s._icon),f=s._map.layerPointToLatLng(c);l&&Se(l,c),s._latlng=f,i.latlng=f,i.oldLatLng=this._oldLatLng,s.fire("move",i).fire("drag",i)},_onDragEnd:function(i){je(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),ks=Pt.extend({options:{icon:new hr,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,s){C(this,s),this._latlng=q(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var s=this._latlng;return this._latlng=q(i),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=i.icon.createIcon(this._icon),c=!1;l!==this._icon&&(this._icon&&this._removeIcon(),c=!0,i.title&&(l.title=i.title),l.tagName==="IMG"&&(l.alt=i.alt||"")),J(l,s),i.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&K(l,"focus",this._panOnFocus,this);var f=i.icon.createShadow(this._shadow),m=!1;f!==this._shadow&&(this._removeShadow(),m=!0),f&&(J(f,s),f.alt=""),this._shadow=f,i.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&m&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ue(this._icon,"focus",this._panOnFocus,this),_e(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_e(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Se(this._icon,i),this._shadow&&Se(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(J(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xh)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xh(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&dt(this._icon,i),this._shadow&&dt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var s=this.options.icon.options,l=s.iconSize?R(s.iconSize):R(0,0),c=s.iconAnchor?R(s.iconAnchor):R(0,0);i.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:l.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function lg(i,s){return new ks(i,s)}var hn=Pt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return C(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ss=hn.extend({options:{fill:!0,radius:10},initialize:function(i,s){C(this,s),this._latlng=q(i),this._radius=this.options.radius},setLatLng:function(i){var s=this._latlng;return this._latlng=q(i),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var s=i&&i.radius||this._radius;return hn.prototype.setStyle.call(this,i),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,s=this._radiusY||i,l=this._clickTolerance(),c=[i+l,s+l];this._pxBounds=new H(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ug(i,s){return new Ss(i,s)}var Ba=Ss.extend({initialize:function(i,s,l){if(typeof s=="number"&&(s=o({},l,{radius:s})),C(this,s),this._latlng=q(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Ee(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:hn.prototype.setStyle,_project:function(){var i=this._latlng.lng,s=this._latlng.lat,l=this._map,c=l.options.crs;if(c.distance===un.distance){var f=Math.PI/180,m=this._mRadius/un.R/f,w=l.project([s+m,i]),E=l.project([s-m,i]),b=w.add(E).divideBy(2),N=l.unproject(b).lat,D=Math.acos((Math.cos(m*f)-Math.sin(s*f)*Math.sin(N*f))/(Math.cos(s*f)*Math.cos(N*f)))/f;(isNaN(D)||D===0)&&(D=m/Math.cos(Math.PI/180*s)),this._point=b.subtract(l.getPixelOrigin()),this._radius=isNaN(D)?0:b.x-l.project([N,i-D]).x,this._radiusY=b.y-w.y}else{var W=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(W).x}this._updateBounds()}});function cg(i,s,l){return new Ba(i,s,l)}var Vt=hn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,s){C(this,s),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var s=1/0,l=null,c=cr,f,m,w=0,E=this._parts.length;w<E;w++)for(var b=this._parts[w],N=1,D=b.length;N<D;N++){f=b[N-1],m=b[N];var W=c(i,f,m,!0);W<s&&(s=W,l=c(i,f,m))}return l&&(l.distance=Math.sqrt(s)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return yh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,s){return s=s||this._defaultShape(),i=q(i),s.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Ee,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return ft(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var s=[],l=ft(i),c=0,f=i.length;c<f;c++)l?(s[c]=q(i[c]),this._bounds.extend(s[c])):s[c]=this._convertLatLngs(i[c]);return s},_project:function(){var i=new H;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),s=new j(i,i);this._rawPxBounds&&(this._pxBounds=new H([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(i,s,l){var c=i[0]instanceof re,f=i.length,m,w;if(c){for(w=[],m=0;m<f;m++)w[m]=this._map.latLngToLayerPoint(i[m]),l.extend(w[m]);s.push(w)}else for(m=0;m<f;m++)this._projectLatlngs(i[m],s,l)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,l,c,f,m,w,E,b;for(l=0,f=0,m=this._rings.length;l<m;l++)for(b=this._rings[l],c=0,w=b.length;c<w-1;c++)E=gh(b[c],b[c+1],i,c,!0),E&&(s[f]=s[f]||[],s[f].push(E[0]),(E[1]!==b[c+1]||c===w-2)&&(s[f].push(E[1]),f++))}},_simplifyPoints:function(){for(var i=this._parts,s=this.options.smoothFactor,l=0,c=i.length;l<c;l++)i[l]=ph(i[l],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,s){var l,c,f,m,w,E,b=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(l=0,m=this._parts.length;l<m;l++)for(E=this._parts[l],c=0,w=E.length,f=w-1;c<w;f=c++)if(!(!s&&c===0)&&mh(i,E[f],E[c])<=b)return!0;return!1}});function hg(i,s){return new Vt(i,s)}Vt._flat=vh;var di=Vt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var s=Vt.prototype._convertLatLngs.call(this,i),l=s.length;return l>=2&&s[0]instanceof re&&s[0].equals(s[l-1])&&s.pop(),s},_setLatLngs:function(i){Vt.prototype._setLatLngs.call(this,i),ft(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ft(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,s=this.options.weight,l=new j(s,s);if(i=new H(i.min.subtract(l),i.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,m;c<f;c++)m=dh(this._rings[c],i,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var s=!1,l,c,f,m,w,E,b,N;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(m=0,b=this._parts.length;m<b;m++)for(l=this._parts[m],w=0,N=l.length,E=N-1;w<N;E=w++)c=l[w],f=l[E],c.y>i.y!=f.y>i.y&&i.x<(f.x-c.x)*(i.y-c.y)/(f.y-c.y)+c.x&&(s=!s);return s||Vt.prototype._containsPoint.call(this,i,!0)}});function dg(i,s){return new di(i,s)}var qt=Ht.extend({initialize:function(i,s){C(this,s),this._layers={},i&&this.addData(i)},addData:function(i){var s=k(i)?i:i.features,l,c,f;if(s){for(l=0,c=s.length;l<c;l++)f=s[l],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var m=this.options;if(m.filter&&!m.filter(i))return this;var w=Ps(i,m);return w?(w.feature=Ls(i),w.defaultOptions=w.options,this.resetStyle(w),m.onEachFeature&&m.onEachFeature(i,w),this.addLayer(w)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=o({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(s){this._setLayerStyle(s,i)},this)},_setLayerStyle:function(i,s){i.setStyle&&(typeof s=="function"&&(s=s(i.feature)),i.setStyle(s))}});function Ps(i,s){var l=i.type==="Feature"?i.geometry:i,c=l?l.coordinates:null,f=[],m=s&&s.pointToLayer,w=s&&s.coordsToLatLng||Da,E,b,N,D;if(!c&&!l)return null;switch(l.type){case"Point":return E=w(c),kh(m,i,E,s);case"MultiPoint":for(N=0,D=c.length;N<D;N++)E=w(c[N]),f.push(kh(m,i,E,s));return new Ht(f);case"LineString":case"MultiLineString":return b=Ts(c,l.type==="LineString"?0:1,w),new Vt(b,s);case"Polygon":case"MultiPolygon":return b=Ts(c,l.type==="Polygon"?1:2,w),new di(b,s);case"GeometryCollection":for(N=0,D=l.geometries.length;N<D;N++){var W=Ps({geometry:l.geometries[N],type:"Feature",properties:i.properties},s);W&&f.push(W)}return new Ht(f);case"FeatureCollection":for(N=0,D=l.features.length;N<D;N++){var Y=Ps(l.features[N],s);Y&&f.push(Y)}return new Ht(f);default:throw new Error("Invalid GeoJSON object.")}}function kh(i,s,l,c){return i?i(s,l):new ks(l,c&&c.markersInheritOptions&&c)}function Da(i){return new re(i[1],i[0],i[2])}function Ts(i,s,l){for(var c=[],f=0,m=i.length,w;f<m;f++)w=s?Ts(i[f],s-1,l):(l||Da)(i[f]),c.push(w);return c}function $a(i,s){return i=q(i),i.alt!==void 0?[v(i.lng,s),v(i.lat,s),v(i.alt,s)]:[v(i.lng,s),v(i.lat,s)]}function Es(i,s,l,c){for(var f=[],m=0,w=i.length;m<w;m++)f.push(s?Es(i[m],ft(i[m])?0:s-1,l,c):$a(i[m],c));return!s&&l&&f.length>0&&f.push(f[0].slice()),f}function fi(i,s){return i.feature?o({},i.feature,{geometry:s}):Ls(s)}function Ls(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Ua={toGeoJSON:function(i){return fi(this,{type:"Point",coordinates:$a(this.getLatLng(),i)})}};ks.include(Ua),Ba.include(Ua),Ss.include(Ua),Vt.include({toGeoJSON:function(i){var s=!ft(this._latlngs),l=Es(this._latlngs,s?1:0,!1,i);return fi(this,{type:(s?"Multi":"")+"LineString",coordinates:l})}}),di.include({toGeoJSON:function(i){var s=!ft(this._latlngs),l=s&&!ft(this._latlngs[0]),c=Es(this._latlngs,l?2:s?1:0,!0,i);return s||(c=[c]),fi(this,{type:(l?"Multi":"")+"Polygon",coordinates:c})}}),ci.include({toMultiPoint:function(i){var s=[];return this.eachLayer(function(l){s.push(l.toGeoJSON(i).geometry.coordinates)}),fi(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(i){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(i);var l=s==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var m=f.toGeoJSON(i);if(l)c.push(m.geometry);else{var w=Ls(m);w.type==="FeatureCollection"?c.push.apply(c,w.features):c.push(w)}}}),l?fi(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Sh(i,s){return new qt(i,s)}var fg=Sh,Cs=Pt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,s,l){this._url=i,this._bounds=ae(s),C(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(J(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_e(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&li(this._image),this},bringToBack:function(){return this._map&&ui(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=ae(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",s=this._image=i?this._url:se("img");if(J(s,"leaflet-image-layer"),this._zoomAnimated&&J(s,"leaflet-zoom-animated"),this.options.className&&J(s,this.options.className),s.onselectstart=g,s.onmousemove=g,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(i){var s=this._map.getZoomScale(i.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;zn(this._image,l,s)},_reset:function(){var i=this._image,s=new H(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=s.getSize();Se(i,s.min),i.style.width=l.x+"px",i.style.height=l.y+"px"},_updateOpacity:function(){dt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),pg=function(i,s,l){return new Cs(i,s,l)},Ph=Cs.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",s=this._image=i?this._url:se("video");if(J(s,"leaflet-image-layer"),this._zoomAnimated&&J(s,"leaflet-zoom-animated"),this.options.className&&J(s,this.options.className),s.onselectstart=g,s.onmousemove=g,s.onloadeddata=u(this.fire,this,"load"),i){for(var l=s.getElementsByTagName("source"),c=[],f=0;f<l.length;f++)c.push(l[f].src);this._url=l.length>0?c:[s.src];return}k(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var w=se("source");w.src=this._url[m],s.appendChild(w)}}});function mg(i,s,l){return new Ph(i,s,l)}var Th=Cs.extend({_initImage:function(){var i=this._image=this._url;J(i,"leaflet-image-layer"),this._zoomAnimated&&J(i,"leaflet-zoom-animated"),this.options.className&&J(i,this.options.className),i.onselectstart=g,i.onmousemove=g}});function _g(i,s,l){return new Th(i,s,l)}var zt=Pt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,s){i&&(i instanceof re||k(i))?(this._latlng=q(i),C(this,s)):(C(this,i),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&dt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&dt(this._container,1),this.bringToFront(),this.options.interactive&&(J(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(dt(this._container,0),this._removeTimeout=setTimeout(u(_e,void 0,this._container),200)):_e(this._container),this.options.interactive&&(xe(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=q(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&li(this._container),this},bringToBack:function(){return this._map&&ui(this._container),this},_prepareOpen:function(i){var s=this._source;if(!s._map)return!1;if(s instanceof Ht){s=null;var l=this._source._layers;for(var c in l)if(l[c]._map){s=l[c];break}if(!s)return!1;this._source=s}if(!i)if(s.getCenter)i=s.getCenter();else if(s.getLatLng)i=s.getLatLng();else if(s.getBounds)i=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")i.innerHTML=s;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),s=R(this.options.offset),l=this._getAnchor();this._zoomAnimated?Se(this._container,i.add(l)):s=s.add(i).add(l);var c=this._containerBottom=-s.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});te.include({_initOverlay:function(i,s,l,c){var f=s;return f instanceof i||(f=new i(c).setContent(s)),l&&f.setLatLng(l),f}}),Pt.include({_initOverlay:function(i,s,l,c){var f=l;return f instanceof i?(C(f,c),f._source=this):(f=s&&!c?s:new i(c,this),f.setContent(l)),f}});var bs=zt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,zt.prototype.openOn.call(this,i)},onAdd:function(i){zt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof hn||this._source.on("preclick",Dn))},onRemove:function(i){zt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof hn||this._source.off("preclick",Dn))},getEvents:function(){var i=zt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",s=this._container=se("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=se("div",i+"-content-wrapper",s);if(this._contentNode=se("div",i+"-content",l),lr(s),Oa(this._contentNode),K(s,"contextmenu",Dn),this._tipContainer=se("div",i+"-tip-container",s),this._tip=se("div",i+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=se("a",i+"-close-button",s);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',K(c,"click",function(f){Re(f),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,s=i.style;s.width="",s.whiteSpace="nowrap";var l=i.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),s.width=l+1+"px",s.whiteSpace="",s.height="";var c=i.offsetHeight,f=this.options.maxHeight,m="leaflet-popup-scrolled";f&&c>f?(s.height=f+"px",J(i,m)):xe(i,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),l=this._getAnchor();Se(this._container,s.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,s=parseInt(rr(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+s,c=this._containerWidth,f=new j(this._containerLeft,-l-this._containerBottom);f._add(Bn(this._container));var m=i.layerPointToContainerPoint(f),w=R(this.options.autoPanPadding),E=R(this.options.autoPanPaddingTopLeft||w),b=R(this.options.autoPanPaddingBottomRight||w),N=i.getSize(),D=0,W=0;m.x+c+b.x>N.x&&(D=m.x+c-N.x+b.x),m.x-D-E.x<0&&(D=m.x-E.x),m.y+l+b.y>N.y&&(W=m.y+l-N.y+b.y),m.y-W-E.y<0&&(W=m.y-E.y),(D||W)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([D,W]))}},_getAnchor:function(){return R(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),gg=function(i,s){return new bs(i,s)};te.mergeOptions({closePopupOnClick:!0}),te.include({openPopup:function(i,s,l){return this._initOverlay(bs,i,s,l).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Pt.include({bindPopup:function(i,s){return this._popup=this._initOverlay(bs,this._popup,i,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Ht||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){$n(i);var s=i.layer||i.target;if(this._popup._source===s&&!(s instanceof hn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=s,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Os=zt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){zt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){zt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=zt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",s=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=se("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var s,l,c=this._map,f=this._container,m=c.latLngToContainerPoint(c.getCenter()),w=c.layerPointToContainerPoint(i),E=this.options.direction,b=f.offsetWidth,N=f.offsetHeight,D=R(this.options.offset),W=this._getAnchor();E==="top"?(s=b/2,l=N):E==="bottom"?(s=b/2,l=0):E==="center"?(s=b/2,l=N/2):E==="right"?(s=0,l=N/2):E==="left"?(s=b,l=N/2):w.x<m.x?(E="right",s=0,l=N/2):(E="left",s=b+(D.x+W.x)*2,l=N/2),i=i.subtract(R(s,l,!0)).add(D).add(W),xe(f,"leaflet-tooltip-right"),xe(f,"leaflet-tooltip-left"),xe(f,"leaflet-tooltip-top"),xe(f,"leaflet-tooltip-bottom"),J(f,"leaflet-tooltip-"+E),Se(f,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&dt(this._container,i)},_animateZoom:function(i){var s=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(s)},_getAnchor:function(){return R(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),vg=function(i,s){return new Os(i,s)};te.include({openTooltip:function(i,s,l){return this._initOverlay(Os,i,s,l).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Pt.include({bindTooltip:function(i,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Os,this._tooltip,i,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var s=i?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[s](l),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Ht||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&(K(s,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),K(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var s=typeof i.getElement=="function"&&i.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var s=i.latlng,l,c;this._tooltip.options.sticky&&i.originalEvent&&(l=this._map.mouseEventToContainerPoint(i.originalEvent),c=this._map.containerPointToLayerPoint(l),s=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(s)}});var Eh=hi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var s=i&&i.tagName==="DIV"?i:document.createElement("div"),l=this.options;if(l.html instanceof Element?(_s(s),s.appendChild(l.html)):s.innerHTML=l.html!==!1?l.html:"",l.bgPos){var c=R(l.bgPos);s.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function yg(i){return new Eh(i)}hi.Default=hr;var dr=Pt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){C(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),_e(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(li(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ui(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof j?i:new j(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var s=this.getPane().children,l=-i(-1/0,1/0),c=0,f=s.length,m;c<f;c++)m=s[c].style.zIndex,s[c]!==this._container&&m&&(l=i(l,+m));isFinite(l)&&(this.options.zIndex=l+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Z.ielt9){dt(this._container,this.options.opacity);var i=+new Date,s=!1,l=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var m=Math.min(1,(i-f.loaded)/200);dt(f.el,m),m<1?s=!0:(f.active?l=!0:this._onOpaqueTile(f),f.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),s&&(je(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=se("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,s=this.options.maxZoom;if(i!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===i?(this._levels[l].el.style.zIndex=s-Math.abs(i-l),this._onUpdateLevel(l)):(_e(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var c=this._levels[i],f=this._map;return c||(c=this._levels[i]={},c.el=se("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=s,c.origin=f.project(f.unproject(f.getPixelOrigin()),i).round(),c.zoom=i,this._setZoomTransform(c,f.getCenter(),f.getZoom()),g(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var i,s,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)s=this._tiles[i],s.retain=s.current;for(i in this._tiles)if(s=this._tiles[i],s.current&&!s.active){var c=s.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var s in this._tiles)this._tiles[s].coords.z===i&&this._removeTile(s)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)_e(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,s,l,c){var f=Math.floor(i/2),m=Math.floor(s/2),w=l-1,E=new j(+f,+m);E.z=+w;var b=this._tileCoordsToKey(E),N=this._tiles[b];return N&&N.active?(N.retain=!0,!0):(N&&N.loaded&&(N.retain=!0),w>c?this._retainParent(f,m,w,c):!1)},_retainChildren:function(i,s,l,c){for(var f=2*i;f<2*i+2;f++)for(var m=2*s;m<2*s+2;m++){var w=new j(f,m);w.z=l+1;var E=this._tileCoordsToKey(w),b=this._tiles[E];if(b&&b.active){b.retain=!0;continue}else b&&b.loaded&&(b.retain=!0);l+1<c&&this._retainChildren(f,m,l+1,c)}},_resetView:function(i){var s=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var s=this.options;return s.minNativeZoom!==void 0&&i<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<i?s.maxNativeZoom:i},_setView:function(i,s,l,c){var f=Math.round(s);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var m=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||m)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(i),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(i,s)},_setZoomTransforms:function(i,s){for(var l in this._levels)this._setZoomTransform(this._levels[l],i,s)},_setZoomTransform:function(i,s,l){var c=this._map.getZoomScale(l,i.zoom),f=i.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(s,l)).round();Z.any3d?zn(i.el,f,c):Se(i.el,f)},_resetGrid:function(){var i=this._map,s=i.options.crs,l=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,s.wrapLng[0]],c).x/l.x),Math.ceil(i.project([0,s.wrapLng[1]],c).x/l.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([s.wrapLat[0],0],c).y/l.x),Math.ceil(i.project([s.wrapLat[1],0],c).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var s=this._map,l=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),c=s.getZoomScale(l,this._tileZoom),f=s.project(i,this._tileZoom).floor(),m=s.getSize().divideBy(c*2);return new H(f.subtract(m),f.add(m))},_update:function(i){var s=this._map;if(s){var l=this._clampZoom(s.getZoom());if(i===void 0&&(i=s.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(i),f=this._pxBoundsToTileRange(c),m=f.getCenter(),w=[],E=this.options.keepBuffer,b=new H(f.getBottomLeft().subtract([E,-E]),f.getTopRight().add([E,-E]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var N in this._tiles){var D=this._tiles[N].coords;(D.z!==this._tileZoom||!b.contains(new j(D.x,D.y)))&&(this._tiles[N].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(i,l);return}for(var W=f.min.y;W<=f.max.y;W++)for(var Y=f.min.x;Y<=f.max.x;Y++){var We=new j(Y,W);if(We.z=this._tileZoom,!!this._isValidTile(We)){var Ne=this._tiles[this._tileCoordsToKey(We)];Ne?Ne.current=!0:w.push(We)}}if(w.sort(function(Qe,mi){return Qe.distanceTo(m)-mi.distanceTo(m)}),w.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var pt=document.createDocumentFragment();for(Y=0;Y<w.length;Y++)this._addTile(w[Y],pt);this._level.el.appendChild(pt)}}}},_isValidTile:function(i){var s=this._map.options.crs;if(!s.infinite){var l=this._globalTileRange;if(!s.wrapLng&&(i.x<l.min.x||i.x>l.max.x)||!s.wrapLat&&(i.y<l.min.y||i.y>l.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(i);return ae(this.options.bounds).overlaps(c)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var s=this._map,l=this.getTileSize(),c=i.scaleBy(l),f=c.add(l),m=s.unproject(c,i.z),w=s.unproject(f,i.z);return[m,w]},_tileCoordsToBounds:function(i){var s=this._tileCoordsToNwSe(i),l=new Ee(s[0],s[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var s=i.split(":"),l=new j(+s[0],+s[1]);return l.z=+s[2],l},_removeTile:function(i){var s=this._tiles[i];s&&(_e(s.el),delete this._tiles[i],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){J(i,"leaflet-tile");var s=this.getTileSize();i.style.width=s.x+"px",i.style.height=s.y+"px",i.onselectstart=g,i.onmousemove=g,Z.ielt9&&this.options.opacity<1&&dt(i,this.options.opacity)},_addTile:function(i,s){var l=this._getTilePos(i),c=this._tileCoordsToKey(i),f=this.createTile(this._wrapCoords(i),u(this._tileReady,this,i));this._initTile(f),this.createTile.length<2&&le(u(this._tileReady,this,i,null,f)),Se(f,l),this._tiles[c]={el:f,coords:i,current:!0},s.appendChild(f),this.fire("tileloadstart",{tile:f,coords:i})},_tileReady:function(i,s,l){s&&this.fire("tileerror",{error:s,tile:l,coords:i});var c=this._tileCoordsToKey(i);l=this._tiles[c],l&&(l.loaded=+new Date,this._map._fadeAnimated?(dt(l.el,0),je(this._fadeFrame),this._fadeFrame=le(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),s||(J(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Z.ielt9||!this._map._fadeAnimated?le(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var s=new j(this._wrapX?_(i.x,this._wrapX):i.x,this._wrapY?_(i.y,this._wrapY):i.y);return s.z=i.z,s},_pxBoundsToTileRange:function(i){var s=this.getTileSize();return new H(i.min.unscaleBy(s).floor(),i.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function wg(i){return new dr(i)}var pi=dr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,s){this._url=i,s=C(this,s),s.detectRetina&&Z.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,s){return this._url===i&&s===void 0&&(s=!0),this._url=i,s||this.redraw(),this},createTile:function(i,s){var l=document.createElement("img");return K(l,"load",u(this._tileOnLoad,this,s,l)),K(l,"error",u(this._tileOnError,this,s,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(i),l},getTileUrl:function(i){var s={r:Z.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-i.y;this.options.tms&&(s.y=l),s["-y"]=l}return y(this._url,o(s,this.options))},_tileOnLoad:function(i,s){Z.ielt9?setTimeout(u(i,this,null,s),0):i(null,s)},_tileOnError:function(i,s,l){var c=this.options.errorTileUrl;c&&s.getAttribute("src")!==c&&(s.src=c),i(l,s)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,s=this.options.maxZoom,l=this.options.zoomReverse,c=this.options.zoomOffset;return l&&(i=s-i),i+c},_getSubdomain:function(i){var s=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var i,s;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(s=this._tiles[i].el,s.onload=g,s.onerror=g,!s.complete)){s.src=z;var l=this._tiles[i].coords;_e(s),delete this._tiles[i],this.fire("tileabort",{tile:s,coords:l})}},_removeTile:function(i){var s=this._tiles[i];if(s)return s.el.setAttribute("src",z),dr.prototype._removeTile.call(this,i)},_tileReady:function(i,s,l){if(!(!this._map||l&&l.getAttribute("src")===z))return dr.prototype._tileReady.call(this,i,s,l)}});function Lh(i,s){return new pi(i,s)}var Ch=pi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,s){this._url=i;var l=o({},this.defaultWmsParams);for(var c in s)c in this.options||(l[c]=s[c]);s=C(this,s);var f=s.detectRetina&&Z.retina?2:1,m=this.getTileSize();l.width=m.x*f,l.height=m.y*f,this.wmsParams=l},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,pi.prototype.onAdd.call(this,i)},getTileUrl:function(i){var s=this._tileCoordsToNwSe(i),l=this._crs,c=ne(l.project(s[0]),l.project(s[1])),f=c.min,m=c.max,w=(this._wmsVersion>=1.3&&this._crs===wh?[f.y,f.x,m.y,m.x]:[f.x,f.y,m.x,m.y]).join(","),E=pi.prototype.getTileUrl.call(this,i);return E+I(this.wmsParams,E,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+w},setParams:function(i,s){return o(this.wmsParams,i),s||this.redraw(),this}});function xg(i,s){return new Ch(i,s)}pi.WMS=Ch,Lh.wms=xg;var Kt=Pt.extend({options:{padding:.1},initialize:function(i){C(this,i),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),J(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,s){var l=this._map.getZoomScale(s,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,s),m=c.multiplyBy(-l).add(f).subtract(this._map._getNewPixelOrigin(i,s));Z.any3d?zn(this._container,m,l):Se(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,s=this._map.getSize(),l=this._map.containerPointToLayerPoint(s.multiplyBy(-i)).round();this._bounds=new H(l,l.add(s.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),bh=Kt.extend({options:{tolerance:0},getEvents:function(){var i=Kt.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Kt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");K(i,"mousemove",this._onMouseMove,this),K(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),K(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){je(this._redrawRequest),delete this._ctx,_e(this._container),ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var s in this._layers)i=this._layers[s],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Kt.prototype._update.call(this);var i=this._bounds,s=this._container,l=i.getSize(),c=Z.retina?2:1;Se(s,i.min),s.width=c*l.x,s.height=c*l.y,s.style.width=l.x+"px",s.style.height=l.y+"px",Z.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Kt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[d(i)]=i;var s=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var s=i._order,l=s.next,c=s.prev;l?l.prev=c:this._drawLast=c,c?c.next=l:this._drawFirst=l,delete i._order,delete this._layers[d(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var s=i.options.dashArray.split(/[, ]+/),l=[],c,f;for(f=0;f<s.length;f++){if(c=Number(s[f]),isNaN(c))return;l.push(c)}i.options._dashArray=l}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||le(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var s=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new H,this._redrawBounds.extend(i._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(i._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var s=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,s=this._redrawBounds;if(this._ctx.save(),s){var l=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)i=c.layer,(!s||i._pxBounds&&i._pxBounds.intersects(s))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,s){if(this._drawing){var l,c,f,m,w=i._parts,E=w.length,b=this._ctx;if(E){for(b.beginPath(),l=0;l<E;l++){for(c=0,f=w[l].length;c<f;c++)m=w[l][c],b[c?"lineTo":"moveTo"](m.x,m.y);s&&b.closePath()}this._fillStroke(b,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var s=i._point,l=this._ctx,c=Math.max(Math.round(i._radius),1),f=(Math.max(Math.round(i._radiusY),1)||c)/c;f!==1&&(l.save(),l.scale(1,f)),l.beginPath(),l.arc(s.x,s.y/f,c,0,Math.PI*2,!1),f!==1&&l.restore(),this._fillStroke(l,i)}},_fillStroke:function(i,s){var l=s.options;l.fill&&(i.globalAlpha=l.fillOpacity,i.fillStyle=l.fillColor||l.color,i.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(i.setLineDash&&i.setLineDash(s.options&&s.options._dashArray||[]),i.globalAlpha=l.opacity,i.lineWidth=l.weight,i.strokeStyle=l.color,i.lineCap=l.lineCap,i.lineJoin=l.lineJoin,i.stroke())},_onClick:function(i){for(var s=this._map.mouseEventToLayerPoint(i),l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(l))&&(c=l);this._fireEvent(c?[c]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,s)}},_handleMouseOut:function(i){var s=this._hoveredLayer;s&&(xe(this._container,"leaflet-interactive"),this._fireEvent([s],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,s){if(!this._mouseHoverThrottled){for(var l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(c=l);c!==this._hoveredLayer&&(this._handleMouseOut(i),c&&(J(this._container,"leaflet-interactive"),this._fireEvent([c],i,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,s,l){this._map._fireDOMEvent(s,l||s.type,i)},_bringToFront:function(i){var s=i._order;if(s){var l=s.next,c=s.prev;if(l)l.prev=c;else return;c?c.next=l:l&&(this._drawFirst=l),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(i)}},_bringToBack:function(i){var s=i._order;if(s){var l=s.next,c=s.prev;if(c)c.next=l;else return;l?l.prev=c:c&&(this._drawLast=c),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(i)}}});function Oh(i){return Z.canvas?new bh(i):null}var fr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),kg={_initContainer:function(){this._container=se("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Kt.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var s=i._container=fr("shape");J(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",i._path=fr("path"),s.appendChild(i._path),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){var s=i._container;this._container.appendChild(s),i.options.interactive&&i.addInteractiveTarget(s)},_removePath:function(i){var s=i._container;_e(s),i.removeInteractiveTarget(s),delete this._layers[d(i)]},_updateStyle:function(i){var s=i._stroke,l=i._fill,c=i.options,f=i._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(s||(s=i._stroke=fr("stroke")),f.appendChild(s),s.weight=c.weight+"px",s.color=c.color,s.opacity=c.opacity,c.dashArray?s.dashStyle=k(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=c.lineCap.replace("butt","flat"),s.joinstyle=c.lineJoin):s&&(f.removeChild(s),i._stroke=null),c.fill?(l||(l=i._fill=fr("fill")),f.appendChild(l),l.color=c.fillColor||c.color,l.opacity=c.fillOpacity):l&&(f.removeChild(l),i._fill=null)},_updateCircle:function(i){var s=i._point.round(),l=Math.round(i._radius),c=Math.round(i._radiusY||l);this._setPath(i,i._empty()?"M0 0":"AL "+s.x+","+s.y+" "+l+","+c+" 0,"+65535*360)},_setPath:function(i,s){i._path.v=s},_bringToFront:function(i){li(i._container)},_bringToBack:function(i){ui(i._container)}},js=Z.vml?fr:Ic,pr=Kt.extend({_initContainer:function(){this._container=js("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=js("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_e(this._container),ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Kt.prototype._update.call(this);var i=this._bounds,s=i.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,l.setAttribute("width",s.x),l.setAttribute("height",s.y)),Se(l,i.min),l.setAttribute("viewBox",[i.min.x,i.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(i){var s=i._path=js("path");i.options.className&&J(s,i.options.className),i.options.interactive&&J(s,"leaflet-interactive"),this._updateStyle(i),this._layers[d(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){_e(i._path),i.removeInteractiveTarget(i._path),delete this._layers[d(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var s=i._path,l=i.options;s&&(l.stroke?(s.setAttribute("stroke",l.color),s.setAttribute("stroke-opacity",l.opacity),s.setAttribute("stroke-width",l.weight),s.setAttribute("stroke-linecap",l.lineCap),s.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?s.setAttribute("stroke-dasharray",l.dashArray):s.removeAttribute("stroke-dasharray"),l.dashOffset?s.setAttribute("stroke-dashoffset",l.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),l.fill?(s.setAttribute("fill",l.fillColor||l.color),s.setAttribute("fill-opacity",l.fillOpacity),s.setAttribute("fill-rule",l.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(i,s){this._setPath(i,Mc(i._parts,s))},_updateCircle:function(i){var s=i._point,l=Math.max(Math.round(i._radius),1),c=Math.max(Math.round(i._radiusY),1)||l,f="a"+l+","+c+" 0 1,0 ",m=i._empty()?"M0 0":"M"+(s.x-l)+","+s.y+f+l*2+",0 "+f+-l*2+",0 ";this._setPath(i,m)},_setPath:function(i,s){i._path.setAttribute("d",s)},_bringToFront:function(i){li(i._path)},_bringToBack:function(i){ui(i._path)}});Z.vml&&pr.include(kg);function jh(i){return Z.svg||Z.vml?new pr(i):null}te.include({getRenderer:function(i){var s=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var s=this._paneRenderers[i];return s===void 0&&(s=this._createRenderer({pane:i}),this._paneRenderers[i]=s),s},_createRenderer:function(i){return this.options.preferCanvas&&Oh(i)||jh(i)}});var Nh=di.extend({initialize:function(i,s){di.prototype.initialize.call(this,this._boundsToLatLngs(i),s)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=ae(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Sg(i,s){return new Nh(i,s)}pr.create=js,pr.pointsToPath=Mc,qt.geometryToLayer=Ps,qt.coordsToLatLng=Da,qt.coordsToLatLngs=Ts,qt.latLngToCoords=$a,qt.latLngsToCoords=Es,qt.getFeature=fi,qt.asFeature=Ls,te.mergeOptions({boxZoom:!0});var Ah=Rt.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){K(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_e(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),sr(),ka(),this._startPoint=this._map.mouseEventToContainerPoint(i),K(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=se("div","leaflet-zoom-box",this._container),J(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var s=new H(this._point,this._startPoint),l=s.getSize();Se(this._box,s.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(_e(this._box),xe(this._container,"leaflet-crosshair")),or(),Sa(),ue(document,{contextmenu:$n,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new Ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});te.addInitHook("addHandler","boxZoom",Ah),te.mergeOptions({doubleClickZoom:!0});var Ih=Rt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var s=this._map,l=s.getZoom(),c=s.options.zoomDelta,f=i.originalEvent.shiftKey?l-c:l+c;s.options.doubleClickZoom==="center"?s.setZoom(f):s.setZoomAround(i.containerPoint,f)}});te.addInitHook("addHandler","doubleClickZoom",Ih),te.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Mh=Rt.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new cn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}J(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xe(this._map._container,"leaflet-grab"),xe(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=ae(this._map.options.maxBounds);this._offsetLimit=ne(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var s=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(s),this._prunePositions(s)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,s){return i-(i-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;i.x<s.min.x&&(i.x=this._viscousLimit(i.x,s.min.x)),i.y<s.min.y&&(i.y=this._viscousLimit(i.y,s.min.y)),i.x>s.max.x&&(i.x=this._viscousLimit(i.x,s.max.x)),i.y>s.max.y&&(i.y=this._viscousLimit(i.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,s=Math.round(i/2),l=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-s+l)%i+s-l,m=(c+s+l)%i-s-l,w=Math.abs(f+l)<Math.abs(m+l)?f:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=w},_onDragEnd:function(i){var s=this._map,l=s.options,c=!l.inertia||i.noInertia||this._times.length<2;if(s.fire("dragend",i),c)s.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,w=l.easeLinearity,E=f.multiplyBy(w/m),b=E.distanceTo([0,0]),N=Math.min(l.inertiaMaxSpeed,b),D=E.multiplyBy(N/b),W=N/(l.inertiaDeceleration*w),Y=D.multiplyBy(-W/2).round();!Y.x&&!Y.y?s.fire("moveend"):(Y=s._limitOffset(Y,s.options.maxBounds),le(function(){s.panBy(Y,{duration:W,easeLinearity:w,noMoveStart:!0,animate:!0})}))}}});te.addInitHook("addHandler","dragging",Mh),te.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Rh=Rt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),K(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,s=document.documentElement,l=i.scrollTop||s.scrollTop,c=i.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(c,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var s=this._panKeys={},l=this.keyCodes,c,f;for(c=0,f=l.left.length;c<f;c++)s[l.left[c]]=[-1*i,0];for(c=0,f=l.right.length;c<f;c++)s[l.right[c]]=[i,0];for(c=0,f=l.down.length;c<f;c++)s[l.down[c]]=[0,i];for(c=0,f=l.up.length;c<f;c++)s[l.up[c]]=[0,-1*i]},_setZoomDelta:function(i){var s=this._zoomKeys={},l=this.keyCodes,c,f;for(c=0,f=l.zoomIn.length;c<f;c++)s[l.zoomIn[c]]=i;for(c=0,f=l.zoomOut.length;c<f;c++)s[l.zoomOut[c]]=-i},_addHooks:function(){K(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var s=i.keyCode,l=this._map,c;if(s in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(c=this._panKeys[s],i.shiftKey&&(c=R(c).multiplyBy(3)),l.options.maxBounds&&(c=l._limitOffset(R(c),l.options.maxBounds)),l.options.worldCopyJump){var f=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(c)));l.panTo(f)}else l.panBy(c)}else if(s in this._zoomKeys)l.setZoom(l.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;$n(i)}}});te.addInitHook("addHandler","keyboard",Rh),te.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var zh=Rt.extend({addHooks:function(){K(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ue(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var s=ah(i),l=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var c=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),$n(i)},_performZoom:function(){var i=this._map,s=i.getZoom(),l=this._map.options.zoomSnap||0;i._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,m=l?Math.ceil(f/l)*l:f,w=i._limitZoom(s+(this._delta>0?m:-m))-s;this._delta=0,this._startTime=null,w&&(i.options.scrollWheelZoom==="center"?i.setZoom(s+w):i.setZoomAround(this._lastMousePos,s+w))}});te.addInitHook("addHandler","scrollWheelZoom",zh);var Pg=600;te.mergeOptions({tapHold:Z.touchNative&&Z.safari&&Z.mobile,tapTolerance:15});var Bh=Rt.extend({addHooks:function(){K(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var s=i.touches[0];this._startPos=this._newPos=new j(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(K(document,"touchend",Re),K(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Pg),K(document,"touchend touchcancel contextmenu",this._cancel,this),K(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){ue(document,"touchend",Re),ue(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),ue(document,"touchend touchcancel contextmenu",this._cancel,this),ue(document,"touchmove",this._onMove,this)},_onMove:function(i){var s=i.touches[0];this._newPos=new j(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,s){var l=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});l._simulated=!0,s.target.dispatchEvent(l)}});te.addInitHook("addHandler","tapHold",Bh),te.mergeOptions({touchZoom:Z.touch,bounceAtZoomLimits:!0});var Dh=Rt.extend({addHooks:function(){J(this._map._container,"leaflet-touch-zoom"),K(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xe(this._map._container,"leaflet-touch-zoom"),ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var s=this._map;if(!(!i.touches||i.touches.length!==2||s._animatingZoom||this._zooming)){var l=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(l.add(c)._divideBy(2))),this._startDist=l.distanceTo(c),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),K(document,"touchmove",this._onTouchMove,this),K(document,"touchend touchcancel",this._onTouchEnd,this),Re(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var s=this._map,l=s.mouseEventToContainerPoint(i.touches[0]),c=s.mouseEventToContainerPoint(i.touches[1]),f=l.distanceTo(c)/this._startDist;if(this._zoom=s.getScaleZoom(f,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&f<1||this._zoom>s.getMaxZoom()&&f>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var m=l._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&m.x===0&&m.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),je(this._animRequest);var w=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=le(w,this,!0),Re(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,je(this._animRequest),ue(document,"touchmove",this._onTouchMove,this),ue(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});te.addInitHook("addHandler","touchZoom",Dh),te.BoxZoom=Ah,te.DoubleClickZoom=Ih,te.Drag=Mh,te.Keyboard=Rh,te.ScrollWheelZoom=zh,te.TapHold=Bh,te.TouchZoom=Dh,n.Bounds=H,n.Browser=Z,n.CRS=Je,n.Canvas=bh,n.Circle=Ba,n.CircleMarker=Ss,n.Class=ht,n.Control=St,n.DivIcon=Eh,n.DivOverlay=zt,n.DomEvent=F_,n.DomUtil=$_,n.Draggable=cn,n.Evented=Wt,n.FeatureGroup=Ht,n.GeoJSON=qt,n.GridLayer=dr,n.Handler=Rt,n.Icon=hi,n.ImageOverlay=Cs,n.LatLng=re,n.LatLngBounds=Ee,n.Layer=Pt,n.LayerGroup=ci,n.LineUtil=tg,n.Map=te,n.Marker=ks,n.Mixin=G_,n.Path=hn,n.Point=j,n.PolyUtil=J_,n.Polygon=di,n.Polyline=Vt,n.Popup=bs,n.PosAnimation=lh,n.Projection=ng,n.Rectangle=Nh,n.Renderer=Kt,n.SVG=pr,n.SVGOverlay=Th,n.TileLayer=pi,n.Tooltip=Os,n.Transformation=ca,n.Util=Rn,n.VideoOverlay=Ph,n.bind=u,n.bounds=ne,n.canvas=Oh,n.circle=cg,n.circleMarker=ug,n.control=ur,n.divIcon=yg,n.extend=o,n.featureGroup=og,n.geoJSON=Sh,n.geoJson=fg,n.gridLayer=wg,n.icon=ag,n.imageOverlay=pg,n.latLng=q,n.latLngBounds=ae,n.layerGroup=sg,n.map=Z_,n.marker=lg,n.point=R,n.polygon=dg,n.polyline=hg,n.popup=gg,n.rectangle=Sg,n.setOptions=C,n.stamp=d,n.svg=jh,n.svgOverlay=_g,n.tileLayer=Lh,n.tooltip=vg,n.transformation=tr,n.version=r,n.videoOverlay=mg;var Tg=window.L;n.noConflict=function(){return window.L=Tg,this},window.L=n})})(Lu,Lu.exports);var fs=Lu.exports;function aa(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function jc(t,e){return e==null?function(r,o){const a=U.useRef();return a.current||(a.current=t(r,o)),a}:function(r,o){const a=U.useRef();a.current||(a.current=t(r,o));const u=U.useRef(r),{instance:h}=a.current;return U.useEffect(function(){u.current!==r&&(e(h,r,u.current),u.current=r)},[h,r,o]),a}}function l_(t,e){U.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Ux(t){return function(n){const r=bc(),o=t(oa(n,r),r);return r_(r.map,n.attribution),Oc(o.current,n.eventHandlers),l_(o.current,r),o}}function Fx(t,e){const n=U.useRef();U.useEffect(function(){if(e.pathOptions!==n.current){const o=e.pathOptions??{};t.instance.setStyle(o),n.current=o}},[t,e])}function Zx(t){return function(n){const r=bc(),o=t(oa(n,r),r);return Oc(o.current,n.eventHandlers),l_(o.current,r),Fx(o.current,n),o}}function Wx(t,e){const n=jc(t),r=$x(n,e);return Bx(r)}function u_(t,e){const n=jc(t,e),r=Zx(n);return zx(r)}function Hx(t,e){const n=jc(t,e),r=Ux(n);return Dx(r)}function Vx(t,e,n){const{opacity:r,zIndex:o}=e;r!=null&&r!==n.opacity&&t.setOpacity(r),o!=null&&o!==n.zIndex&&t.setZIndex(o)}const _f=u_(function({center:e,children:n,...r},o){const a=new fs.CircleMarker(e,r);return aa(a,s_(o,{overlayContainer:a}))},Ix);function Cu(){return Cu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cu.apply(this,arguments)}function qx({bounds:t,boundsOptions:e,center:n,children:r,className:o,id:a,placeholder:u,style:h,whenReady:d,zoom:p,..._},g){const[v]=U.useState({className:o,id:a,style:h}),[P,T]=U.useState(null);U.useImperativeHandle(g,()=>(P==null?void 0:P.map)??null,[P]);const C=U.useCallback(S=>{if(S!==null&&P===null){const y=new fs.Map(S,_);n!=null&&p!=null?y.setView(n,p):t!=null&&y.fitBounds(t,e),d!=null&&y.whenReady(d),T(Rx(y))}},[]);U.useEffect(()=>()=>{P==null||P.map.remove()},[P]);const I=P?Sl.createElement(a_,{value:P},r):u??null;return Sl.createElement("div",Cu({},v,{ref:C}),I)}const Kx=U.forwardRef(qx),Gx=u_(function({positions:e,...n},r){const o=new fs.Polyline(e,n);return aa(o,s_(r,{overlayContainer:o}))},function(e,n,r){n.positions!==r.positions&&e.setLatLngs(n.positions)}),Jx=Hx(function({url:e,...n},r){const o=new fs.TileLayer(e,oa(n,r));return aa(o,r)},function(e,n,r){Vx(e,n,r);const{url:o}=n;o!=null&&o!==r.url&&e.setUrl(o)}),gf=Wx(function(e,n){const r=new fs.Tooltip(e,n.overlayContainer);return aa(r,n)},function(e,n,{position:r},o){U.useEffect(function(){const u=n.overlayContainer;if(u==null)return;const{instance:h}=e,d=_=>{_.tooltip===h&&(r!=null&&h.setLatLng(r),h.update(),o(!0))},p=_=>{_.tooltip===h&&o(!1)};return u.on({tooltipopen:d,tooltipclose:p}),u.bindTooltip(h),function(){u.off({tooltipopen:d,tooltipclose:p}),u._map!=null&&u.unbindTooltip()}},[e,n,o,r])});function Nc({buses:t=[],stops:e=[],center:n,showRoute:r=!1,selectedBusId:o}){const a=[9.5916,76.5222],u=U.useMemo(()=>n?[n.lat,n.lng]:e.length>0?[e[0].lat,e[0].lng]:t.length>0?[t[0].current_lat,t[0].current_lng]:a,[n,e,t,a]),h=`${u[0]}-${u[1]}`,d=U.useMemo(()=>e.map(_=>[_.lat,_.lng]),[e]),p=_=>{switch(_){case"on-time":return"#10B981";case"delayed":return"#F59E0B";case"overcrowded":return"#EF4444";default:return"#6B7280"}};return x.jsxs("div",{className:"relative w-full h-full",children:[x.jsxs(Kx,{center:u,zoom:13,scrollWheelZoom:!0,style:{height:"100%",width:"100%",zIndex:0},className:"rounded-xl overflow-hidden shadow-inner leaflet-parent",children:[x.jsx(Jx,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors"}),r&&d.length>0&&x.jsx(Gx,{positions:d,pathOptions:{color:"#3B82F6",weight:4,opacity:.9}}),e.map(_=>x.jsx(_f,{center:[_.lat,_.lng],radius:8,pathOptions:{color:"#1D4ED8",fillColor:"#2563EB",fillOpacity:.9,weight:2},children:x.jsx(gf,{direction:"top",offset:[0,-10],opacity:1,permanent:!0,children:x.jsx("span",{className:"text-xs font-semibold text-blue-900",children:_.name})})},_.id)),t.map(_=>{const g=o===_.id;return x.jsx(_f,{center:[_.current_lat,_.current_lng],radius:g?12:10,pathOptions:{color:"#ffffff",weight:g?3:2,fillColor:p(_.status),fillOpacity:1},children:x.jsx(gf,{direction:"top",offset:[0,-12],opacity:1,permanent:!0,children:x.jsx("div",{className:"text-xs font-semibold text-gray-800",children:_.number})})},_.id)})]},h),x.jsxs("div",{className:"absolute bottom-4 right-4 bg-white px-3 py-2 rounded-lg shadow-md text-xs",children:[x.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[x.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),x.jsx("span",{children:"On Time"})]}),x.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[x.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),x.jsx("span",{children:"Delayed"})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),x.jsx("span",{children:"Overcrowded"})]})]})]})}function nn({status:t,type:e="bus"}){const n=()=>{if(e==="bus")switch(t){case"on-time":return"bg-green-100 text-green-700";case"delayed":return"bg-yellow-100 text-yellow-700";case"overcrowded":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}else if(e==="pollution")switch(t){case"low":return"bg-green-100 text-green-700";case"medium":return"bg-yellow-100 text-yellow-700";case"high":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}else switch(t){case"ok":return"bg-green-100 text-green-700";case"needs-service":return"bg-red-100 text-red-700";default:return"bg-gray-100 text-gray-700"}},r=()=>e==="bus"?t==="on-time"?"On Time":t==="overcrowded"?"Overcrowded":"Delayed":e==="pollution"?t.charAt(0).toUpperCase()+t.slice(1):t==="ok"?"OK":"Needs Service";return x.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${n()}`,children:r()})}function Qx({bus:t,route:e,nextStop:n,onClick:r,showDetails:o=!1}){const a=Math.floor(Math.random()*15)+2;return x.jsx("div",{className:"bg-white rounded-xl shadow-md p-4 cursor-pointer hover:shadow-lg transition-shadow",onClick:r,children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:"w-12 h-12 rounded-full bg-yellow-100 flex items-center justify-center",children:x.jsx(Nm,{className:"w-6 h-6 text-yellow-600"})})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"flex items-center justify-between mb-1",children:[x.jsx("h3",{className:"font-semibold text-gray-900",children:t.number}),x.jsx(nn,{status:t.status,type:"bus"})]}),e&&x.jsx("p",{className:"text-sm text-gray-600 mb-2",children:e.name}),n&&x.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[x.jsx(Am,{className:"w-4 h-4"}),x.jsxs("span",{children:[a," min to ",n.name]})]}),o&&x.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100 space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600",children:"Pollution Level:"}),x.jsx(nn,{status:t.pollution_level,type:"pollution"})]}),x.jsxs("div",{className:"flex items-center justify-between text-sm",children:[x.jsx("span",{className:"text-gray-600",children:"Maintenance:"}),x.jsx(nn,{status:t.maintenance_status,type:"maintenance"})]})]})]})]})})}function Yx({onBusSelect:t,onMenuClick:e}){const[n,r]=U.useState([]),[o,a]=U.useState([]),[u,h]=U.useState([]),[d,p]=U.useState(!0),[_,g]=U.useState("");U.useEffect(()=>{v()},[]);const v=async()=>{p(!0);try{const[T,C,I]=await Promise.all([vt.from("buses").select("*").order("number"),vt.from("routes").select("*"),vt.from("stops").select("*").order("sequence")]);T.data&&r(T.data),C.data&&a(C.data),I.data&&h(I.data)}catch(T){console.error("Error fetching data:",T)}finally{p(!1)}},P=n.filter(T=>T.number.toLowerCase().includes(_.toLowerCase()));return x.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[x.jsxs("div",{className:"absolute top-0 left-0 right-0 z-10 bg-white shadow-md",children:[x.jsxs("div",{className:"px-4 py-3 flex items-center gap-3",children:[x.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:x.jsx(h0,{className:"w-6 h-6 text-gray-700"})}),x.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Next Stop"})]}),x.jsx("div",{className:"px-4 pb-3",children:x.jsxs("div",{className:"relative",children:[x.jsx(f0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),x.jsx("input",{type:"text",placeholder:"Search bus number...",value:_,onChange:T=>g(T.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})})]}),x.jsxs("div",{className:"flex-1 pt-32",children:[x.jsx("div",{className:"h-1/2 relative",children:x.jsx(Nc,{buses:n,stops:u})}),x.jsxs("div",{className:"h-1/2 bg-gray-50 overflow-y-auto px-4 py-4",children:[x.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Active Buses"}),d?x.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading buses..."}):P.length===0?x.jsx("div",{className:"text-center py-8 text-gray-500",children:"No buses found"}):x.jsx("div",{className:"space-y-3",children:P.map(T=>{const C=o.find(S=>S.id===T.route_id),I=u.find(S=>S.id===T.next_stop_id);return x.jsx(Qx,{bus:T,route:C,nextStop:I,onClick:()=>t(T.id)},T.id)})})]})]})]})}function Xx({busId:t,onBack:e,onViewRoute:n}){const[r,o]=U.useState(null),[a,u]=U.useState(null),[h,d]=U.useState(null),[p,_]=U.useState([]),[g,v]=U.useState(!0),P=U.useCallback(async()=>{v(!0);try{const{data:C}=await vt.from("buses").select("*").eq("id",t).maybeSingle();if(C){o(C);const[I,S,y]=await Promise.all([vt.from("routes").select("*").eq("id",C.route_id).maybeSingle(),C.next_stop_id?vt.from("stops").select("*").eq("id",C.next_stop_id).maybeSingle():Promise.resolve({data:null}),vt.from("stops").select("*").eq("route_id",C.route_id).order("sequence")]);I.data&&u(I.data),S.data&&d(S.data),y.data&&_(y.data)}}catch(C){console.error("Error fetching bus details:",C)}finally{v(!1)}},[t]);if(U.useEffect(()=>{P()},[P]),g)return x.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:x.jsx("div",{className:"text-gray-500",children:"Loading..."})});if(!r)return x.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:x.jsx("div",{className:"text-gray-500",children:"Bus not found"})});const T=Math.floor(Math.random()*15)+2;return x.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[x.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 bg-white shadow-md",children:x.jsxs("div",{className:"px-4 py-3 flex items-center gap-3",children:[x.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:x.jsx(Sc,{className:"w-6 h-6 text-gray-700"})}),x.jsx("h1",{className:"text-xl font-bold text-gray-900",children:r.number})]})}),x.jsxs("div",{className:"flex-1 pt-16",children:[x.jsx("div",{className:"h-1/2 relative",children:x.jsx(Nc,{buses:[r],stops:p,selectedBusId:r.id})}),x.jsx("div",{className:"h-1/2 bg-white overflow-y-auto",children:x.jsxs("div",{className:"p-4 space-y-4",children:[x.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Status"}),x.jsx(nn,{status:r.status,type:"bus"})]}),a&&x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(d0,{className:"w-5 h-5 text-blue-600"}),x.jsxs("div",{children:[x.jsx("p",{className:"text-sm text-gray-600",children:"Route"}),x.jsx("p",{className:"font-medium text-gray-900",children:a.name}),x.jsx("p",{className:"text-sm text-gray-500",children:a.description})]})]}),h&&x.jsx("div",{className:"pt-3 border-t border-gray-100",children:x.jsxs("div",{className:"flex items-start gap-2",children:[x.jsx(Im,{className:"w-5 h-5 text-blue-600 mt-0.5"}),x.jsxs("div",{className:"flex-1",children:[x.jsx("p",{className:"text-sm text-gray-600",children:"Next Stop"}),x.jsx("p",{className:"font-medium text-gray-900",children:h.name}),x.jsxs("div",{className:"flex items-center gap-1 mt-1 text-sm text-gray-500",children:[x.jsx(Am,{className:"w-4 h-4"}),x.jsxs("span",{children:["Arriving in ",T," minutes"]})]})]})]})}),x.jsx("button",{onClick:()=>a&&n(a.id),className:"w-full mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:"View Full Route"})]})]}),x.jsxs("div",{className:"bg-white rounded-xl shadow-md p-4",children:[x.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Bus Information"}),x.jsxs("div",{className:"space-y-3",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-gray-600",children:"Pollution Level"}),x.jsx(nn,{status:r.pollution_level,type:"pollution"})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-gray-600",children:"Maintenance Status"}),x.jsx(nn,{status:r.maintenance_status,type:"maintenance"})]}),x.jsx("div",{className:"pt-3 border-t border-gray-100",children:x.jsxs("span",{className:"text-sm text-gray-500",children:["Last updated: ",new Date(r.updated_at).toLocaleTimeString()]})})]})]})]})})]})]})}function e1({routeId:t,onBack:e}){const[n,r]=U.useState(null),[o,a]=U.useState([]),[u,h]=U.useState([]),[d,p]=U.useState(!0),_=U.useMemo(()=>new Date,[]),g=P=>{const T=new Date(_.getTime()+P*6*60*1e3),C=(P%2===0?2:0)+(P===0?0:1),I=new Date(T.getTime()+C*60*1e3);return{scheduled:T,actual:I,delayMinutes:C}},v=U.useCallback(async()=>{p(!0);try{const[P,T,C]=await Promise.all([vt.from("routes").select("*").eq("id",t).maybeSingle(),vt.from("stops").select("*").eq("route_id",t).order("sequence"),vt.from("buses").select("*").eq("route_id",t)]);P.data&&r(P.data),T.data&&a(T.data),C.data&&h(C.data)}catch(P){console.error("Error fetching route data:",P)}finally{p(!1)}},[t]);return U.useEffect(()=>{v()},[v]),d?x.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:x.jsx("div",{className:"text-gray-500",children:"Loading..."})}):n?x.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[x.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 bg-white shadow-md",children:x.jsxs("div",{className:"px-4 py-3 flex items-center gap-3",children:[x.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:x.jsx(Sc,{className:"w-6 h-6 text-gray-700"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-xl font-bold text-gray-900",children:n.name}),x.jsx("p",{className:"text-sm text-gray-600",children:n.description})]})]})}),x.jsxs("div",{className:"flex-1 pt-20",children:[x.jsx("div",{className:"h-1/2 relative",children:x.jsx(Nc,{buses:u,stops:o,showRoute:!0})}),x.jsxs("div",{className:"h-1/2 bg-white overflow-y-auto px-4 py-4",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Route Stops"}),x.jsxs("span",{className:"text-sm text-gray-500",children:[o.length," stops"]})]}),o.length===0?x.jsx("div",{className:"text-center py-8 text-gray-500",children:"No stops found"}):x.jsx("div",{className:"space-y-1",children:o.map((P,T)=>x.jsxs("div",{className:"flex items-start gap-3 py-3 relative",children:[T<o.length-1&&x.jsx("div",{className:"absolute left-[15px] top-12 bottom-0 w-0.5 bg-blue-200"}),x.jsx("div",{className:"relative z-10 flex-shrink-0",children:x.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center border-2 border-blue-500",children:x.jsx("span",{className:"text-xs font-semibold text-blue-600",children:T+1})})}),x.jsxs("div",{className:"flex-1 pt-1",children:[x.jsx("h3",{className:"font-medium text-gray-900",children:P.name}),x.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 mt-1",children:[x.jsx(Im,{className:"w-3 h-3"}),x.jsxs("span",{children:[P.lat.toFixed(4),", ",P.lng.toFixed(4)]})]})]}),(()=>{const{scheduled:C,actual:I,delayMinutes:S}=g(T);return x.jsxs("div",{className:"flex flex-col items-end text-xs w-24 text-right",children:[x.jsx("span",{className:"text-gray-800 font-semibold",children:C.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),x.jsx("span",{className:S>0?"text-red-600 font-semibold":"text-green-600 font-semibold",children:I.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),S>0&&x.jsxs("span",{className:"text-[10px] text-red-500",children:["Delay: ",S," min"]})]})})(),T===0&&x.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 text-xs font-medium rounded-full",children:"Start"}),T===o.length-1&&x.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-700 text-xs font-medium rounded-full",children:"End"})]},P.id))}),u.length>0&&x.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[x.jsx("h3",{className:"text-sm font-semibold text-blue-900 mb-2",children:"Active Buses"}),x.jsx("div",{className:"flex gap-2 flex-wrap",children:u.map(P=>x.jsx("span",{className:"px-3 py-1 bg-white text-blue-700 text-sm font-medium rounded-full shadow-sm",children:P.number},P.id))})]})]})]})]}):x.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50",children:x.jsx("div",{className:"text-gray-500",children:"Route not found"})})}function t1({onBack:t}){const[e,n]=U.useState([]),[r,o]=U.useState([]),[a,u]=U.useState(!0),[h,d]=U.useState("all");U.useEffect(()=>{p()},[]);const p=async()=>{u(!0);try{const[v,P]=await Promise.all([vt.from("buses").select("*").order("number"),vt.from("routes").select("*")]);v.data&&n(v.data),P.data&&o(P.data)}catch(v){console.error("Error fetching data:",v)}finally{u(!1)}},_=e.filter(v=>h==="needs-attention"?v.pollution_level==="high"||v.maintenance_status==="needs-service":!0),g=e.filter(v=>v.pollution_level==="high"||v.maintenance_status==="needs-service").length;return x.jsxs("div",{className:"flex flex-col h-screen bg-gray-50",children:[x.jsxs("div",{className:"bg-white shadow-md",children:[x.jsxs("div",{className:"px-4 py-3 flex items-center gap-3",children:[x.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:x.jsx(Sc,{className:"w-6 h-6 text-gray-700"})}),x.jsxs("div",{children:[x.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Admin Monitor"}),x.jsx("p",{className:"text-sm text-gray-600",children:"Bus fleet management"})]})]}),x.jsxs("div",{className:"px-4 pb-3 flex gap-2",children:[x.jsxs("button",{onClick:()=>d("all"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${h==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["All Buses (",e.length,")"]}),x.jsxs("button",{onClick:()=>d("needs-attention"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${h==="needs-attention"?"bg-red-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:["Needs Attention (",g,")"]})]})]}),x.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a?x.jsx("div",{className:"text-center py-8 text-gray-500",children:"Loading buses..."}):_.length===0?x.jsxs("div",{className:"text-center py-8",children:[x.jsx(c0,{className:"w-12 h-12 text-green-500 mx-auto mb-2"}),x.jsx("p",{className:"text-gray-500",children:"All buses are running smoothly"})]}):x.jsx("div",{className:"space-y-3",children:_.map(v=>{const P=r.find(C=>C.id===v.route_id),T=v.pollution_level==="high"||v.maintenance_status==="needs-service";return x.jsx("div",{className:`bg-white rounded-xl shadow-md p-4 ${T?"border-2 border-red-200":""}`,children:x.jsxs("div",{className:"flex items-start gap-3",children:[x.jsx("div",{className:"flex-shrink-0",children:x.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${T?"bg-red-100":"bg-gray-100"}`,children:x.jsx(Nm,{className:`w-6 h-6 ${T?"text-red-600":"text-gray-600"}`})})}),x.jsxs("div",{className:"flex-1 min-w-0",children:[x.jsxs("div",{className:"flex items-center justify-between mb-2",children:[x.jsx("h3",{className:"font-semibold text-gray-900",children:v.number}),T&&x.jsx(u0,{className:"w-5 h-5 text-red-600"})]}),P&&x.jsx("p",{className:"text-sm text-gray-600 mb-3",children:P.name}),x.jsxs("div",{className:"space-y-2",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"Pollution Level"}),x.jsx(nn,{status:v.pollution_level,type:"pollution"})]}),x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"Maintenance"}),x.jsx(nn,{status:v.maintenance_status,type:"maintenance"})]}),x.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-gray-100",children:[x.jsx("span",{className:"text-sm text-gray-600",children:"Status"}),x.jsx(nn,{status:v.status,type:"bus"})]})]}),x.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:x.jsxs("p",{className:"text-xs text-gray-500",children:["Last updated: ",new Date(v.updated_at).toLocaleString()]})})]})]})},v.id)})})}),x.jsx("div",{className:"bg-white border-t border-gray-200 p-4",children:x.jsx("div",{className:"flex items-center justify-between text-sm",children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-600",children:"Total Buses: "}),x.jsx("span",{className:"font-semibold text-gray-900",children:e.length})]}),x.jsxs("div",{children:[x.jsx("span",{className:"text-gray-600",children:"Operational: "}),x.jsx("span",{className:"font-semibold text-green-600",children:e.filter(v=>v.maintenance_status==="ok").length})]})]})})})]})}function n1(){const[t,e]=U.useState({type:"passenger-home"}),[n,r]=U.useState(!1),o=p=>{e({type:"bus-details",busId:p})},a=p=>{e({type:"route-tracking",routeId:p})},u=()=>{e({type:"admin-monitor"}),r(!1)},h=()=>{e({type:"passenger-home"})},d=()=>{switch(t.type){case"passenger-home":return x.jsx(Yx,{onBusSelect:o,onMenuClick:()=>r(!0)});case"bus-details":return x.jsx(Xx,{busId:t.busId,onBack:h,onViewRoute:a});case"route-tracking":return x.jsx(e1,{routeId:t.routeId,onBack:()=>e({type:"passenger-home"})});case"admin-monitor":return x.jsx(t1,{onBack:h})}};return x.jsxs(x.Fragment,{children:[d(),n&&x.jsxs("div",{className:"fixed inset-0 z-[2000]",children:[x.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50",onClick:()=>r(!1)}),x.jsxs("div",{className:"absolute top-0 left-0 bottom-0 w-80 bg-white shadow-xl",children:[x.jsxs("div",{className:"p-4 border-b border-gray-200",children:[x.jsxs("div",{className:"flex items-center justify-between",children:[x.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Next Stop"}),x.jsx("button",{onClick:()=>r(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:x.jsx(_0,{className:"w-6 h-6 text-gray-700"})})]}),x.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Bus Monitoring System"})]}),x.jsxs("div",{className:"p-4 space-y-2",children:[x.jsxs("button",{onClick:()=>{h(),r(!1)},className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 transition-colors text-left",children:[x.jsx(m0,{className:"w-5 h-5 text-blue-600"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-gray-900",children:"Passenger View"}),x.jsx("p",{className:"text-sm text-gray-600",children:"Track buses and routes"})]})]}),x.jsxs("button",{onClick:u,className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-100 transition-colors text-left",children:[x.jsx(p0,{className:"w-5 h-5 text-red-600"}),x.jsxs("div",{children:[x.jsx("p",{className:"font-medium text-gray-900",children:"Admin Monitor"}),x.jsx("p",{className:"text-sm text-gray-600",children:"Fleet management"})]})]})]})]})]})]})}jm(document.getElementById("root")).render(x.jsx(U.StrictMode,{children:x.jsx(n1,{})}));
